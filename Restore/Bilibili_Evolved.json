{
  "userStyles": {},
  "userPlugins": {
    "settingsPanel.tagFilters.recentComponents": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"settings-panel/recent-components\"]=t():e[\"settings-panel/recent-components\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,n={407:function(e){e.exports=coreApis.settings}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var c=2&o&&n;\"object\"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},r.d(i,a),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){r.d(i,{plugin:function(){return e}});const e={name:\"settingsPanel.tagFilters.recentComponents\",displayName:'设置面板 - \"最近使用\" 类别',description:'在设置面板中添加 \"最近使用\" 类别, 方便检索最近操作过的组件.',setup:({addData:e,addHook:t})=>{const n=async()=>{const{getGeneralSettings:e}=await Promise.resolve().then(r.t.bind(r,407,23)),t=e();return t.recentComponents||(t.recentComponents={}),t.recentComponents};t(\"settingsPanel.componentDetail.open\",{after:async e=>{(await n())[e]=Number(new Date)}}),t(\"userComponents.add\",{after:async(e,t,o)=>{(await n())[o.name]=Number(new Date)}}),t(\"userComponents.remove\",{after:async e=>{delete(await n())[e.name]}}),e(\"settingsPanel.tagFilters\",(async e=>{const t=await n();e.unshift((({renderedComponents:e})=>({name:\"recent\",displayName:\"最近\",color:\"inherit\",icon:\"mdi-clock-outline\",order:0,count:e.length,filter:e=>lodash.sortBy(e,(e=>t[e.name]??0)).reverse()})))}))},commitHash:\"28933d6c6fa35f519fa718fdf67c109e07a3c7da\",coreVersion:\"2.1.7\"}}(),i=i.plugin}()}));",
      "displayName": "设置面板 - \"最近使用\" 类别",
      "name": "settingsPanel.tagFilters.recentComponents",
      "description": "在设置面板中添加 \"最近使用\" 类别, 方便检索最近操作过的组件.",
      "commitHash": "c7a7e02679dca4f8098b166f4c5c9f455007837b",
      "coreVersion": "2.1.7"
    }
  },
  "userComponents": {
    "removePromotions": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"utils/remove-promotions\"]=n():e[\"utils/remove-promotions\"]=n()}(self,(function(){return function(){var e,n,t={72:function(e,n,t){var o=t(645)((function(e){return e[1]}));o.push([e.id,\"#slide_ad,\\n.v-wrap .vcd,\\n.ad-report,\\n#home_popularize .l-con,\\n#home_popularize .adpos,\\n.gg-floor-module,\\n.home-app-download,\\n.bilibili-player-promote-wrap,\\n.bili-header-m .nav-menu .nav-con .nav-item .text-red,\\n.mobile-link-l,\\n.video-page-game-card,\\n.international-home .banner-card,\\n.bypb-window .operate-card,\\n.gg-window .operate-card,\\n#reportFirst2 .extension,\\n.video-page-special-card,\\n.mascot,\\n.rank-container .cm-module,\\nbody:not(.preserve-event-banner) .activity-m,\\nbody.remove-game-match-module .bili-wrapper > .home-match,\\nbody.remove-game-match-module #reportFirst3,\\n.home-content .ad-panel,\\n.recommend-list .rec-list > :not(.video-page-card),\\n.eva-extension-area,\\n.eva-banner {\\n  display: none !important;\\n}\\n\\n.recommend-list .rec-list > :not(.video-page-card) + .video-page-card {\\n  padding-top: 0 !important;\\n}\\n\\n#home_popularize {\\n  position: relative !important;\\n}\\n\\n.popularize-module .online,\\n.gg-window .online {\\n  position: absolute !important;\\n  top: 50% !important;\\n  right: 0.5% !important;\\n  transform: translateY(-100%) !important;\\n}\\n\\n.gg-window .online {\\n  right: 0 !important;\\n  padding: 0 16px !important;\\n}\\n\\n#reportFirst2 {\\n  position: relative;\\n  margin-bottom: 4px;\\n}\\n\\n.blocked-ads {\\n  width: 440px;\\n  height: 220px;\\n  display: flex;\\n  color: #888;\\n  background-color: rgba(136,136,136,0.13333);\\n  font-size: 24pt;\\n  font-weight: bold;\\n  align-items: center;\\n  justify-content: space-evenly;\\n}\\n\\n.blocked-ads.new {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #eee;\\n}\\n\\nbody.dark .blocked-ads.new {\\n  background-color: #333;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[i][0];null!=a&&(r[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);o&&r[s[0]]||(t&&(s[2]?s[2]=\"\".concat(t,\" and \").concat(s[2]):s[2]=t),n.push(s))}},n}},488:function(e,n,t){var o=t(72);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()},407:function(e){\"use strict\";e.exports=coreApis.settings},569:function(e){\"use strict\";e.exports=coreApis.spinQuery}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(t,o){if(1&o&&(t=this(t)),8&o)return t;if(\"object\"==typeof t&&t){if(4&o&&t.__esModule)return t;if(16&o&&\"function\"==typeof t.then)return t}var i=Object.create(null);r.r(i);var a={};e=e||[null,n({}),n([]),n(n)];for(var c=2&o&&t;\"object\"==typeof c&&!~e.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach((function(e){a[e]=function(){return t[e]}}));return a.default=function(){return t},r.d(i,a),i},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return e}});const e={name:\"removePromotions\",displayName:\"删除广告\",entry:async({settings:e,metadata:n})=>{const{addComponentListener:t}=await Promise.resolve().then(r.t.bind(r,407,23));if(\"https://www.bilibili.com/\"===document.URL.replace(window.location.search,\"\")){const{selectAll:n,select:t}=await Promise.resolve().then(r.t.bind(r,569,23));t(\".eva-extension-area\").then((e=>{e&&(e.parentElement.style.margin=\"12px\")})),n(\".gg-pic\").then((n=>{0!==n.length&&n.forEach((n=>{const t=n.parentElement;t.style.display=\"none\";const o=[...t.parentElement.childNodes].indexOf(t)+1,r=t.parentElement.parentElement.querySelector(`.pic li:nth-child(${o})`);if(r){r.style.display=\"flex\";const n=r.querySelector(\"a:not(.more-text)\");n.insertAdjacentHTML(\"afterend\",`\\n            <div class=\"blocked-ads\">${e.options.showPlaceholder?\"🚫已屏蔽广告\":\"\"}</div>\\n          `),n.style.visibility=\"hidden\";[r.querySelector(\"a.more-text\"),r.querySelector(\"img\")].forEach((e=>e.style.display=\"none\"))}}))})),t(\".focus-carousel.home-slide\").then((n=>{n&&dqa(n,\".gg-icon,.bypb-icon\").map((e=>e.parentElement.parentElement)).forEach((n=>{n.style.display=\"none\",n.insertAdjacentHTML(\"afterend\",`\\n            <div class=\"blocked-ads new\">${e.options.showPlaceholder?\"🚫已屏蔽广告\":\"\"}</div>\\n          `)}))}))}t(`${n.name}.preserveEventBanner`,(e=>{document.body.classList.toggle(\"preserve-event-banner\",e)}),!0)},instantStyles:[{name:\"removePromotions\",style:()=>Promise.resolve().then(r.t.bind(r,488,23))}],tags:[componentsTags.utils],description:{\"zh-CN\":'\\n删除站内的各种广告. 包括首页的推广模块, 手机 app 推荐, 视频页面右侧的广告等. 注意: 首页推广模块删除后留下空白区域是正常现象, 如果觉得怪可以开启 `占位文本` 选项.\\n\\n- `占位文本`: 删除首页推广模块的广告后显示\"🚫已屏蔽广告\"来替代空白区域.\\n- `保留活动横幅`: 保留视频页面的活动横幅.\\n'.trim()},options:{showPlaceholder:{displayName:\"占位文本\",defaultValue:!0},preserveEventBanner:{displayName:\"保留活动横幅\",defaultValue:!1}},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "removePromotions",
        "displayName": "删除广告",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "删除站内的各种广告. 包括首页的推广模块, 手机 app 推荐, 视频页面右侧的广告等. 注意: 首页推广模块删除后留下空白区域是正常现象, 如果觉得怪可以开启 `占位文本` 选项.\n\n- `占位文本`: 删除首页推广模块的广告后显示\"🚫已屏蔽广告\"来替代空白区域.\n- `保留活动横幅`: 保留视频页面的活动横幅."
        },
        "options": {
          "showPlaceholder": {
            "displayName": "占位文本",
            "defaultValue": true
          },
          "preserveEventBanner": {
            "displayName": "保留活动横幅",
            "defaultValue": false
          }
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {
          "showPlaceholder": true,
          "preserveEventBanner": false
        }
      }
    },
    "removeLiveWatermark": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"live/remove-watermark\"]=t():e[\"live/remove-watermark\"]=t()}(self,(function(){return function(){var e,t,n={585:function(e,t,n){var o=n(645)((function(e){return e[1]}));o.push([e.id,\".live-player-ctnr .web-player-icon-roomStatus,\\n.bilibili-live-player-video-logo {\\n  display: none !important;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var u=0;u<e.length;u++){var a=[].concat(e[u]);o&&r[a[0]]||(n&&(a[2]?a[2]=\"\".concat(n,\" and \").concat(a[2]):a[2]=n),t.push(a))}},t}},980:function(e,t,n){var o=n(585);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var c={};e=e||[null,t({}),t([]),t(t)];for(var u=2&o&&n;\"object\"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){c[e]=function(){return n[e]}}));return c.default=function(){return n},r.d(i,c),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return n}});var e=coreApis.componentApis.styledComponent,t=coreApis.utils.urls;const n={...(0,e.toggleStyle)(\"removeLiveWatermark\",(()=>Promise.resolve().then(r.t.bind(r,980,23)))),displayName:\"删除直播水印\",tags:[componentsTags.live,componentsTags.style],description:{\"zh-CN\":\"删除观看直播时角落的水印.\"},urlInclude:t.liveUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "removeLiveWatermark",
        "displayName": "删除直播水印",
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "description": {
          "zh-CN": "删除观看直播时角落的水印."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "removePlayerPopup": {
      "code": "!function(e,o){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define([],o):\"object\"==typeof exports?exports[\"video/player/remove-popup\"]=o():e[\"video/player/remove-popup\"]=o()}(self,(function(){return function(){var e,o,t={120:function(e,o,t){var n=t(645)((function(e){return e[1]}));n.push([e.id,\"body.remove-player-popup-combo-likes .bilibili-player-video-popup-three,\\nbody.remove-player-popup-combo-likes .bilibili-player-video-popup-three-animate,\\nbody.remove-player-popup-combo-likes .bilibili-player-video-popup-follow,\\nbody.remove-player-popup-combo-likes .bilibili-player-video-popup-there-cyc {\\n  display: none !important;\\n}\\nbody.remove-player-popup-related-videos .bilibili-player-video-link,\\nbody.remove-player-popup-related-videos .bilibili-player-link {\\n  display: none !important;\\n}\\nbody.remove-player-popup-votes .bilibili-player-video-popup-vote {\\n  display: none !important;\\n}\\nbody.remove-player-popup-rates .bilibili-player-score {\\n  display: none !important;\\n}\",\"\"]),e.exports=n},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var o=[];return o.toString=function(){return this.map((function(o){var t=e(o);return o[2]?\"@media \".concat(o[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\no.i=function(e,t,n){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(n)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar p=this[i][0];null!=p&&(r[p]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&r[l[0]]||(t&&(l[2]?l[2]=\"\".concat(t,\" and \").concat(l[2]):l[2]=t),o.push(l))}},o}},740:function(e,o,t){var n=t(120);n&&n.__esModule&&(n=n.default),e.exports=\"string\"==typeof n?n:n.toString()}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}o=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if(\"object\"==typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&\"function\"==typeof t.then)return t}var i=Object.create(null);r.r(i);var p={};e=e||[null,o({}),o([]),o(o)];for(var a=2&n&&t;\"object\"==typeof a&&!~e.indexOf(a);a=o(a))Object.getOwnPropertyNames(a).forEach((function(e){p[e]=function(){return t[e]}}));return p.default=function(){return t},r.d(i,p),i},r.d=function(e,o){for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return n}});var e=coreApis.componentApis.styledComponent,o=coreApis.settings,t=coreApis.utils.urls;const n={...(0,e.toggleStyle)(\"removePlayerPopup\",(()=>Promise.resolve().then(r.t.bind(r,740,23))),(({settings:e,metadata:t})=>{const{options:n}=e,{kebabCase:r}=lodash;Object.keys(n).forEach((e=>{(0,o.addComponentListener)(`${t.name}.${e}`,(o=>{document.body.classList.toggle(`${r(t.name)}-${r(e)}`,o)}),!0)}))})),displayName:\"删除视频弹窗\",tags:[componentsTags.video,componentsTags.style],description:{\"zh-CN\":\"删除视频播放器中出现的各种弹窗, 类别可在选项中分别选择.\"},urlInclude:t.playerUrls,options:{votes:{defaultValue:!1,displayName:\"投票\"},relatedVideos:{defaultValue:!0,displayName:\"关联视频\"},comboLikes:{defaultValue:!0,displayName:\"关注/三连\"},rates:{defaultValue:!0,displayName:\"评分\"}},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "removePlayerPopup",
        "displayName": "删除视频弹窗",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "description": {
          "zh-CN": "删除视频播放器中出现的各种弹窗, 类别可在选项中分别选择."
        },
        "options": {
          "votes": {
            "defaultValue": false,
            "displayName": "投票"
          },
          "relatedVideos": {
            "defaultValue": true,
            "displayName": "关联视频"
          },
          "comboLikes": {
            "defaultValue": true,
            "displayName": "关注/三连"
          },
          "rates": {
            "defaultValue": true,
            "displayName": "评分"
          }
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {
          "votes": false,
          "relatedVideos": true,
          "comboLikes": true,
          "rates": true
        }
      }
    },
    "disableSpecialDanmaku": {
      "code": "!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"style/special-danmaku\"]=n():t[\"style/special-danmaku\"]=n()}(self,(function(){return function(){var t,n,e={359:function(t,n,e){var o=e(645)((function(t){return t[1]}));o.push([t.id,\"body.disable-highlight-danmaku-style .b-danmaku-high {\\n  display: block !important;\\n  padding: 0 !important;\\n  line-height: 1.125 !important;\\n}\\nbody.disable-highlight-danmaku-style .b-danmaku-high .b-danmaku-high-icon {\\n  display: none !important;\\n}\\nbody.disable-highlight-danmaku-style .b-danmaku-high .b-danmaku-high-text {\\n  margin: 0 !important;\\n  text-shadow: inherit;\\n}\\n\\nbody.disable-up-danmaku-style .b-danmaku-up {\\n  padding: 0 !important;\\n  line-height: 1.125 !important;\\n  background-color: transparent !important;\\n  border-radius: 0 !important;\\n}\\nbody.disable-up-danmaku-style .b-danmaku-up .b-danmaku-up-tip {\\n  display: none !important;\\n}\",\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(t,e,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var r={};if(o)for(var a=0;a<this.length;a++){\n// eslint-disable-next-line prefer-destructuring\nvar i=this[a][0];null!=i&&(r[i]=!0)}for(var u=0;u<t.length;u++){var s=[].concat(t[u]);o&&r[s[0]]||(e&&(s[2]?s[2]=\"\".concat(e,\" and \").concat(s[2]):s[2]=e),n.push(s))}},n}},655:function(t,n,e){var o=e(359);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var a=o[t]={id:t,exports:{}};return e[t](a,a.exports,r),a.exports}n=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if(\"object\"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&\"function\"==typeof e.then)return e}var a=Object.create(null);r.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var u=2&o&&e;\"object\"==typeof u&&!~t.indexOf(u);u=n(u))Object.getOwnPropertyNames(u).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},r.d(a,i),a},r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var a={};return function(){\"use strict\";r.d(a,{component:function(){return o}});var t=coreApis.componentApis.styledComponent,n=coreApis.utils.urls,e=coreApis.settings;const o={displayName:\"禁用特殊弹幕样式\",tags:[componentsTags.style],...(0,t.toggleStyle)(\"disableSpecialDanmaku\",(()=>Promise.resolve().then(r.t.bind(r,655,23))),(({metadata:t,settings:{options:n}})=>{Object.keys(n).forEach((n=>{(0,e.addComponentListener)(`${t.name}.${n}`,(t=>{document.body.classList.toggle(`disable-${n}-danmaku-style`,t)}),!0)}))})),urlInclude:n.playerUrls,description:{\"zh-CN\":\"移除高赞弹幕或 UP 主弹幕的特殊样式, 弹幕内容不会移除.\"},options:{highlight:{displayName:\"禁用高赞弹幕\",defaultValue:!0},up:{displayName:\"禁用UP主弹幕\",defaultValue:!0}},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),a=a.component}()}));",
      "metadata": {
        "displayName": "禁用特殊弹幕样式",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "name": "disableSpecialDanmaku",
        "description": {
          "zh-CN": "移除高赞弹幕或 UP 主弹幕的特殊样式, 弹幕内容不会移除."
        },
        "options": {
          "highlight": {
            "displayName": "禁用高赞弹幕",
            "defaultValue": true
          },
          "up": {
            "displayName": "禁用UP主弹幕",
            "defaultValue": true
          }
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {
          "highlight": true,
          "up": true
        }
      }
    },
    "simplifyComments": {
      "code": "!function(n,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"style/simplify/comments\"]=t():n[\"style/simplify/comments\"]=t()}(self,(function(){return function(){var n,t,e={613:function(n,t,e){var o=e(645)((function(n){return n[1]}));o.push([n.id,'@charset \"UTF-8\";\\n.bb-comment .comment-send-lite {\\n  position: sticky !important;\\n  bottom: 0 !important;\\n  background: linear-gradient(to top, #fff, rgba(255, 255, 255, 0)) !important;\\n  pointer-events: none;\\n  width: calc(100% + 12px) !important;\\n  margin: 0 0 0 -12px !important;\\n  padding-left: 97px !important;\\n}\\nbody.dark .bb-comment .comment-send-lite {\\n  background: linear-gradient(to top, #222, rgba(255, 255, 255, 0)) !important;\\n}\\n.bb-comment .comment-send-lite .comment-emoji-lite {\\n  background-color: #fff;\\n}\\n.bb-comment .comment-send-lite .comment-submit {\\n  height: 64px !important;\\n  padding: 4px 15px !important;\\n  position: relative !important;\\n  right: 0 !important;\\n  margin-left: 10px !important;\\n}\\n.bb-comment .comment-send-lite .textarea-container .baffle {\\n  line-height: 65px !important;\\n}\\n.bb-comment .comment-send-lite .textarea-container .baffle,\\n.bb-comment .comment-send-lite .textarea-container .ipt-txt {\\n  height: 65px !important;\\n  width: calc(100% - 80px) !important;\\n}\\n.bb-comment .comment-send-lite > * {\\n  pointer-events: initial;\\n}\\n.bb-comment .loading-state {\\n  font-size: 14px !important;\\n  height: 1.4em !important;\\n  line-height: 1.4 !important;\\n  margin: 12px 0 !important;\\n}\\n.bb-comment .loading-state + .bottom-page {\\n  margin: 0 !important;\\n}\\n.bb-comment .nameplate,\\n.bb-comment .comment-header .tabs-order li.on::after,\\n.bb-comment .true-love,\\n.bb-comment .medal,\\n.bb-comment .medal-level,\\n.bb-comment .reply-notice,\\n.bb-comment .sailing {\\n  display: none !important;\\n}\\n.bb-comment .comment-send-lite .comment-emoji,\\n.bb-comment .comment-send .comment-emoji {\\n  box-shadow: none !important;\\n}\\n.bb-comment .comment-send-lite .comment-emoji span,\\n.bb-comment .comment-send .comment-emoji span {\\n  opacity: 0.4;\\n  color: black;\\n}\\n.bb-comment .comment-send-lite .comment-emoji .face,\\n.bb-comment .comment-send .comment-emoji .face {\\n  transition: all 0.2s ease-out;\\n  height: 16px !important;\\n  width: 16px !important;\\n  background-position: center !important;\\n  opacity: 0.4;\\n  display: inline-flex !important;\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .bb-comment .comment-send-lite .comment-emoji .face,\\nbody.dark .bb-comment .comment-send .comment-emoji .face {\\n  color: #eee;\\n}\\n.bb-comment .comment-send-lite .comment-emoji .face::before,\\n.bb-comment .comment-send .comment-emoji .face::before {\\n  content: \"󰇵\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.bb-comment .comment-send-lite .comment-emoji .text,\\n.bb-comment .comment-send .comment-emoji .text {\\n  transition: all 0.2s ease-out;\\n}\\nbody.dark .bb-comment .comment-send-lite .comment-emoji .text,\\nbody.dark .bb-comment .comment-send .comment-emoji .text {\\n  filter: brightness(0) invert(1) !important;\\n}\\n.bb-comment .comment-send-lite .comment-emoji.open span,\\n.bb-comment .comment-send-lite .comment-emoji.open .face, .bb-comment .comment-send-lite .comment-emoji:hover span,\\n.bb-comment .comment-send-lite .comment-emoji:hover .face,\\n.bb-comment .comment-send .comment-emoji.open span,\\n.bb-comment .comment-send .comment-emoji.open .face,\\n.bb-comment .comment-send .comment-emoji:hover span,\\n.bb-comment .comment-send .comment-emoji:hover .face {\\n  opacity: 1;\\n}\\n.bb-comment .comment-list .list-item {\\n  position: relative;\\n}\\n.bb-comment .comment-list .list-item .info {\\n  margin-top: 0 !important;\\n  display: flex;\\n  align-items: center;\\n}\\n.bb-comment .comment-list .list-item .info .floor {\\n  opacity: 0.7;\\n  order: 1;\\n}\\n.bb-comment .comment-list .list-item .info .reply {\\n  order: 2;\\n}\\n.bb-comment .comment-list .list-item .info .reply-tags {\\n  order: 3;\\n  display: flex !important;\\n  margin: 0 !important;\\n}\\n.bb-comment .comment-list .list-item .info .reply-tags span {\\n  margin: 0 4px 0 0 !important;\\n  font-size: 12px !important;\\n  line-height: normal !important;\\n  display: flex !important;\\n  height: auto !important;\\n  padding: 2px 6px !important;\\n}\\n.bb-comment .comment-list .list-item .info .operation {\\n  order: 4;\\n  flex-grow: 1;\\n  display: flex !important;\\n  justify-content: flex-end;\\n  margin: 0 !important;\\n  padding: 0 !important;\\n}\\n.bb-comment .comment-list .list-item .info > * {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.bb-comment .comment-list .list-item .info .like i,\\n.bb-comment .comment-list .list-item .info .hate i {\\n  transition: all 0.2s ease-out;\\n  height: 16px !important;\\n  width: 16px !important;\\n  background-position: center !important;\\n  opacity: 0.4;\\n  display: inline-flex !important;\\n}\\n.bb-comment .comment-list .list-item .info .like span,\\n.bb-comment .comment-list .list-item .info .hate span {\\n  opacity: 0.4;\\n  transition: all 0.2s ease-out;\\n  color: black;\\n}\\nbody.dark .bb-comment .comment-list .list-item .info .like span,\\nbody.dark .bb-comment .comment-list .list-item .info .hate span {\\n  color: #eee !important;\\n}\\n.bb-comment .comment-list .list-item .info .like.liked > *, .bb-comment .comment-list .list-item .info .like.hated > *, .bb-comment .comment-list .list-item .info .like:hover > *,\\n.bb-comment .comment-list .list-item .info .hate.liked > *,\\n.bb-comment .comment-list .list-item .info .hate.hated > *,\\n.bb-comment .comment-list .list-item .info .hate:hover > * {\\n  opacity: 1;\\n}\\n.bb-comment .comment-list .list-item .info .like i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .bb-comment .comment-list .list-item .info .like i {\\n  color: #eee;\\n}\\n.bb-comment .comment-list .list-item .info .like i::before {\\n  content: \"󰔔\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.bb-comment .comment-list .list-item .info .like.liked i, .bb-comment .comment-list .list-item .info .like.liked:hover i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .bb-comment .comment-list .list-item .info .like.liked i, body.dark .bb-comment .comment-list .list-item .info .like.liked:hover i {\\n  color: #eee;\\n}\\n.bb-comment .comment-list .list-item .info .like.liked i::before, .bb-comment .comment-list .list-item .info .like.liked:hover i::before {\\n  content: \"󰔓\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.bb-comment .comment-list .list-item .info .like.liked i, .bb-comment .comment-list .list-item .info .like.liked i + span, body.dark .bb-comment .comment-list .list-item .info .like.liked i, .bb-comment .comment-list .list-item .info .like.liked:hover i, .bb-comment .comment-list .list-item .info .like.liked:hover i + span, body.dark .bb-comment .comment-list .list-item .info .like.liked:hover i {\\n  color: var(--theme-color) !important;\\n}\\n.bb-comment .comment-list .list-item .info .hate i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .bb-comment .comment-list .list-item .info .hate i {\\n  color: #eee;\\n}\\n.bb-comment .comment-list .list-item .info .hate i::before {\\n  content: \"󰔒\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.bb-comment .comment-list .list-item .info .hate.hated i, .bb-comment .comment-list .list-item .info .hate.hated:hover i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .bb-comment .comment-list .list-item .info .hate.hated i, body.dark .bb-comment .comment-list .list-item .info .hate.hated:hover i {\\n  color: #eee;\\n}\\n.bb-comment .comment-list .list-item .info .hate.hated i::before, .bb-comment .comment-list .list-item .info .hate.hated:hover i::before {\\n  content: \"󰔑\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.bb-comment .comment-list .list-item .info .hate.hated i, .bb-comment .comment-list .list-item .info .hate.hated i + span, body.dark .bb-comment .comment-list .list-item .info .hate.hated i, .bb-comment .comment-list .list-item .info .hate.hated:hover i, .bb-comment .comment-list .list-item .info .hate.hated:hover i + span, body.dark .bb-comment .comment-list .list-item .info .hate.hated:hover i {\\n  color: var(--theme-color) !important;\\n}\\n.bb-comment .comment-list .list-item .info .btn-hover {\\n  padding: 3px 5px !important;\\n}\\n.bb-comment .comment-list .list-item .info .operation:hover {\\n  background: transparent !important;\\n}\\n.bb-comment .comment-list .list-item .info .operation .spot {\\n  transition: all 0.2s ease-out;\\n  height: 16px !important;\\n  width: 16px !important;\\n  background-position: center !important;\\n  opacity: 0.4;\\n  display: inline-flex !important;\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .bb-comment .comment-list .list-item .info .operation .spot {\\n  color: #eee;\\n}\\n.bb-comment .comment-list .list-item .info .operation .spot::before {\\n  content: \"󰇙\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\nbody.dark .bb-comment .comment-list .list-item .info .operation .spot {\\n  filter: brightness(0) invert(1) !important;\\n}\\n.bb-comment .comment-list .list-item .info .operation .spot:hover {\\n  opacity: 1;\\n}\\n.bb-comment .comment-list .list-item .text {\\n  white-space: pre-wrap;\\n}\\n.bb-comment .comment-list .list-item .user {\\n  margin-right: 120px;\\n}\\n.bb-comment .comment-list .list-item .user .level {\\n  visibility: hidden;\\n  width: 0;\\n  margin: 0;\\n}\\n.bb-comment .comment-list .list-item .user .text-con {\\n  white-space: pre-wrap;\\n  display: block;\\n  margin: 0 !important;\\n}\\n.bb-comment .comment-list .list-item .user-face .hot-follow,\\n.bb-comment .comment-list .list-item .con .vote-container {\\n  display: none !important;\\n}\\n.bb-comment .comment-list .list-item > .con .level-link {\\n  display: none !important;\\n}\\n.bb-comment .comment-list .list-item > .con > .reply-box {\\n  transform: translateX(0%);\\n}\\n.bb-comment .comment-list .list-item > .con > .info {\\n  margin-top: 4px;\\n}\\n.bb-comment .comment-list .list-item > .con > .info > .time {\\n  opacity: 0.7;\\n  position: absolute;\\n  right: 8px;\\n  top: 24px;\\n  margin: 0 !important;\\n  line-height: normal;\\n  color: black;\\n}\\nbody.dark .bb-comment .comment-list .list-item > .con > .info > .time,\\nbody.dark .bb-comment .comment-list .list-item > .con > .info > .floor {\\n  filter: brightness(0) invert(1) !important;\\n}\\n.bb-comment .comment-list .list-item > .con > .info > .plad {\\n  display: none !important;\\n}\\n.bb-comment .comment-list .reply-con {\\n  position: relative;\\n}\\n.bb-comment .comment-list .reply-con > .info > .time {\\n  position: absolute;\\n  right: 8px;\\n  top: 0px;\\n  margin: 0;\\n  opacity: 0.5;\\n  line-height: normal;\\n  color: black;\\n}\\nbody.dark .bb-comment .comment-list .reply-con > .info > .time {\\n  filter: brightness(0) invert(1) !important;\\n}\\n.bb-comment .reply-item {\\n  position: relative;\\n}\\n.bb-comment .reply-item > .info > .time {\\n  opacity: 0.7;\\n}\\nbody.dark .bb-comment .reply-item > .info > .time {\\n  filter: brightness(0) invert(1) !important;\\n}\\n.bb-comment .reply-notice .notice-item {\\n  background-color: rgba(0,0,0,0.06667) !important;\\n  border: none !important;\\n  display: flex !important;\\n  align-items: center;\\n  padding: 10px 14px !important;\\n}\\nbody.dark .bb-comment .reply-notice .notice-item {\\n  background-color: #333 !important;\\n}\\n.bb-comment .reply-notice .notice-item .icon-notice {\\n  order: 0;\\n  position: static !important;\\n  margin-right: 12px;\\n  background: url(\\'data:image/svg+xml;utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path fill=\"black\" d=\"M20,11H4V8H20M20,15H13V13H20M20,19H13V17H20M11,19H4V13H11M20.33,4.67L18.67,3L17,4.67L15.33,3L13.67,4.67L12,3L10.33,4.67L8.67,3L7,4.67L5.33,3L3.67,4.67L2,3V19A2,2 0 0,0 4,21H20A2,2 0 0,0 22,19V3L20.33,4.67Z\" /></svg>\\') !important;\\n}\\n.bb-comment .reply-notice .notice-item a {\\n  order: 1;\\n  flex-grow: 1;\\n  color: black !important;\\n}\\nbody.dark .bb-comment .reply-notice .notice-item a {\\n  color: #eee !important;\\n}\\n.bb-comment .reply-notice .notice-item .icon-close-notice {\\n  order: 2;\\n  position: static !important;\\n  background: url(\\'data:image/svg+xml;utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path fill=\"black\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" /></svg>\\') !important;\\n}\\n.bb-comment .reply-notice .notice-item .icon-close-notice,\\n.bb-comment .reply-notice .notice-item .icon-notice {\\n  height: 18px;\\n  width: 18px;\\n  background-position: center !important;\\n  opacity: 0.4;\\n}\\n.bb-comment .comment-send:not(.no-login) {\\n  position: relative !important;\\n}\\n.bb-comment .comment-send-lite:not(.no-login),\\n.bb-comment .comment-send:not(.no-login) {\\n  padding-top: 15px !important;\\n}\\n.bb-comment .comment-send-lite:not(.no-login) .dynamic-repost,\\n.bb-comment .comment-send:not(.no-login) .dynamic-repost {\\n  margin-left: 85px !important;\\n  margin-top: 4px;\\n}\\n.bb-comment .comment-send-lite:not(.no-login) .comment-emoji,\\n.bb-comment .comment-send:not(.no-login) .comment-emoji {\\n  position: absolute !important;\\n  right: 0;\\n  top: 51px;\\n  width: 68px !important;\\n  background: #fff;\\n}\\n.bb-comment .comment-send-lite:not(.no-login) .comment-submit,\\n.bb-comment .comment-send:not(.no-login) .comment-submit {\\n  height: 34px !important;\\n  font-size: 0;\\n}\\n.bb-comment .comment-send-lite:not(.no-login) .comment-submit body.dark,\\n.bb-comment .comment-send:not(.no-login) .comment-submit body.dark {\\n  color: var(--theme-color) !important;\\n}\\n.bb-comment .comment-send-lite:not(.no-login) .comment-submit::after,\\n.bb-comment .comment-send:not(.no-login) .comment-submit::after {\\n  content: \"发表\";\\n  color: #fff;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  font-size: 14px;\\n}\\nbody.dark .bb-comment .comment-send-lite:not(.no-login) .comment-submit::after,\\nbody.dark .bb-comment .comment-send:not(.no-login) .comment-submit::after {\\n  color: var(--foreground-color);\\n}\\n\\nbody.dark .panel-area .bb-comment .comment-send-lite {\\n  background: linear-gradient(to top, #444 30%, transparent) !important;\\n}\\n\\n.dynamic-list-item-wrap .info .plat {\\n  display: none !important;\\n}\\n.dynamic-list-item-wrap .reply-box .time {\\n  position: absolute;\\n  right: 8px;\\n  top: 0px;\\n  margin: 0;\\n  opacity: 0.5;\\n  line-height: normal;\\n  color: black;\\n  top: 10px;\\n  opacity: 0.7;\\n}\\n.dynamic-list-item-wrap .reply-item > .info {\\n  display: flex;\\n  align-items: center;\\n}\\n.dynamic-list-item-wrap .reply-item > .info .floor {\\n  opacity: 0.7;\\n  order: 1;\\n}\\n.dynamic-list-item-wrap .reply-item > .info .reply {\\n  order: 2;\\n}\\n.dynamic-list-item-wrap .reply-item > .info .reply-tags {\\n  order: 3;\\n  display: flex !important;\\n  margin: 0 !important;\\n}\\n.dynamic-list-item-wrap .reply-item > .info .reply-tags span {\\n  margin: 0 4px 0 0 !important;\\n  font-size: 12px !important;\\n  line-height: normal !important;\\n  display: flex !important;\\n  height: auto !important;\\n  padding: 2px 6px !important;\\n}\\n.dynamic-list-item-wrap .reply-item > .info .operation {\\n  order: 4;\\n  flex-grow: 1;\\n  display: flex !important;\\n  justify-content: flex-end;\\n  margin: 0 !important;\\n  padding: 0 !important;\\n}\\n\\n.reply-item > .info > .time {\\n  position: absolute;\\n  right: 8px;\\n  top: 24px;\\n  margin: 0 !important;\\n  line-height: normal;\\n  color: black;\\n  top: 12px;\\n  opacity: 1;\\n}\\n\\n.reply-box .item-user > a {\\n  margin-right: 8px;\\n}\\n.reply-box .item-user .text {\\n  display: block;\\n}\\n\\n.comment-area .dynamic-level {\\n  display: none !important;\\n}\\n\\n.dynamic-like i,\\n.dynamic-hate i {\\n  transition: all 0.2s ease-out;\\n}\\n\\n.dynamic-like i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .dynamic-like i {\\n  color: #eee;\\n}\\n.dynamic-like i::before {\\n  content: \"󰔔\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.dynamic-like:hover i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .dynamic-like:hover i {\\n  color: #eee;\\n}\\n.dynamic-like:hover i::before {\\n  content: \"󰔓\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.dynamic-like:hover i, .dynamic-like:hover i + span, body.dark .dynamic-like:hover i {\\n  color: var(--theme-color) !important;\\n}\\n\\n.dynamic-liked:hover i,\\n.dynamic-liked i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .dynamic-liked:hover i,\\nbody.dark .dynamic-liked i {\\n  color: #eee;\\n}\\n.dynamic-liked:hover i::before,\\n.dynamic-liked i::before {\\n  content: \"󰔓\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.dynamic-liked:hover i, .dynamic-liked:hover i + span, body.dark .dynamic-liked:hover i,\\n.dynamic-liked i,\\n.dynamic-liked i + span,\\nbody.dark .dynamic-liked i {\\n  color: var(--theme-color) !important;\\n}\\n\\n.dynamic-hate i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .dynamic-hate i {\\n  color: #eee;\\n}\\n.dynamic-hate i::before {\\n  content: \"󰔒\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.dynamic-hate:hover i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .dynamic-hate:hover i {\\n  color: #eee;\\n}\\n.dynamic-hate:hover i::before {\\n  content: \"󰔑\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.dynamic-hate:hover i, .dynamic-hate:hover i + span, body.dark .dynamic-hate:hover i {\\n  color: var(--theme-color) !important;\\n}\\n\\n.dynamic-hated:hover i,\\n.dynamic-hated i {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .dynamic-hated:hover i,\\nbody.dark .dynamic-hated i {\\n  color: #eee;\\n}\\n.dynamic-hated:hover i::before,\\n.dynamic-hated i::before {\\n  content: \"󰔑\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\n.dynamic-hated:hover i, .dynamic-hated:hover i + span, body.dark .dynamic-hated:hover i,\\n.dynamic-hated i,\\n.dynamic-hated i + span,\\nbody.dark .dynamic-hated i {\\n  color: var(--theme-color) !important;\\n}\\n\\n.dynamic-spot {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .dynamic-spot {\\n  color: #eee;\\n}\\n.dynamic-spot::before {\\n  content: \"󰇙\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\nbody.dark .dynamic-spot {\\n  filter: brightness(0) invert(1) !important;\\n}\\n\\n.textarea-container .comm-tool .comm-emoji .icon-face {\\n  background: none !important;\\n  color: #000;\\n}\\nbody.dark .textarea-container .comm-tool .comm-emoji .icon-face {\\n  color: #eee;\\n}\\n.textarea-container .comm-tool .comm-emoji .icon-face::before {\\n  content: \"󰇵\";\\n  display: inline-block;\\n  font: normal normal normal 24px/1 \"Material Design Icons\";\\n  font-size: 16px;\\n  line-height: 1;\\n  width: 16px;\\n  height: 16px;\\n}\\nbody.dark .textarea-container .comm-tool .comm-emoji .icon-face {\\n  filter: brightness(0) invert(1) !important;\\n}\\n\\n.dynamic-spot,\\n.textarea-container .comm-tool .comm-emoji .icon-face {\\n  height: 16px !important;\\n  width: 16px !important;\\n  background-position: center !important;\\n  opacity: 0.4;\\n  display: inline-flex !important;\\n}\\n\\n.comment-list .opera-list {\\n  right: 20px !important;\\n  top: -72px !important;\\n}\\n\\n.v-wrap #comment {\\n  z-index: 21 !important;\\n}\\n\\n.l-con .tag-channel-pane {\\n  z-index: 22 !important;\\n}',\"\"]),n.exports=o},645:function(n){\"use strict\";\n// eslint-disable-next-line func-names\nn.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(n,e,o){\"string\"==typeof n&&(\n// eslint-disable-next-line no-param-reassign\nn=[[null,n,\"\"]]);var i={};if(o)for(var m=0;m<this.length;m++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[m][0];null!=a&&(i[a]=!0)}for(var r=0;r<n.length;r++){var c=[].concat(n[r]);o&&i[c[0]]||(e&&(c[2]?c[2]=\"\".concat(e,\" and \").concat(c[2]):c[2]=e),t.push(c))}},t}},847:function(n,t,e){var o=e(613);o&&o.__esModule&&(o=o.default),n.exports=\"string\"==typeof o?o:o.toString()},407:function(n){\"use strict\";n.exports=coreApis.settings}},o={};function i(n){var t=o[n];if(void 0!==t)return t.exports;var m=o[n]={id:n,exports:{}};return e[n](m,m.exports,i),m.exports}t=Object.getPrototypeOf?function(n){return Object.getPrototypeOf(n)}:function(n){return n.__proto__},i.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if(\"object\"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&\"function\"==typeof e.then)return e}var m=Object.create(null);i.r(m);var a={};n=n||[null,t({}),t([]),t(t)];for(var r=2&o&&e;\"object\"==typeof r&&!~n.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(n){a[n]=function(){return e[n]}}));return a.default=function(){return e},i.d(m,a),m},i.d=function(n,t){for(var e in t)i.o(t,e)&&!i.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})};var m={};return function(){\"use strict\";i.d(m,{component:function(){return n}});const n={...(0,coreApis.componentApis.styledComponent.toggleStyle)(\"simplifyComments\",(()=>Promise.resolve().then(i.t.bind(i,847,23))),(async({metadata:n})=>{const{addComponentListener:t}=await Promise.resolve().then(i.t.bind(i,407,23));t(n.name,(n=>{document.body.classList.toggle(\"simplify-comment\",n)}),!0)})),displayName:\"简化评论区\",description:{\"zh-CN\":\"\\n- 删除热评头像下方的关注按钮\\n- 删除用户的等级标识\\n- 删除发送源信息(`来自安卓客户端` 这种)\\n- 删除用户名右边的勋章\\n- 删除评论区顶部的横幅\\n- 发送时间移动到右上角\\n- 位图图标全部换用矢量图标, 高分屏不会模糊\\n- 投票仅显示链接, 隐藏下面的大框.\\n\\n> 注: 关注和等级可以通过鼠标停留在头像上, 在弹出的资料卡小窗中查看.\".trim()},tags:[componentsTags.style],commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),m=m.component}()}));",
      "metadata": {
        "name": "simplifyComments",
        "displayName": "简化评论区",
        "description": {
          "zh-CN": "- 删除热评头像下方的关注按钮\n- 删除用户的等级标识\n- 删除发送源信息(`来自安卓客户端` 这种)\n- 删除用户名右边的勋章\n- 删除评论区顶部的横幅\n- 发送时间移动到右上角\n- 位图图标全部换用矢量图标, 高分屏不会模糊\n- 投票仅显示链接, 隐藏下面的大框.\n\n> 注: 关注和等级可以通过鼠标停留在头像上, 在弹出的资料卡小窗中查看."
        },
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "simplifyLiveroom": {
      "code": "!function(i,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"style/simplify/live\"]=t():i[\"style/simplify/live\"]=t()}(self,(function(){return function(){var i,t,e={382:function(i,t,e){\"use strict\";e.r(t),e.d(t,{setupSkinSimplify:function(){return r}});var n=coreApis.settings,o=coreApis.spinQuery;const r=async()=>{const i=await(0,o.select)(\"#skin-css\");i&&(console.log(i),(0,n.addComponentListener)(\"simplifyLiveroom.switch-skin\",(t=>{i.media=t?\"none\":\"all\"}),!0))}},978:function(i,t,e){var n=e(645)((function(i){return i[1]}));n.push([i.id,\".simplifyLiveroom-switch-vip .vip-icon, .simplifyLiveroom-switch-fansMedal .fans-medal-item-ctnr, .simplifyLiveroom-switch-title .title-label, .simplifyLiveroom-switch-userLevel .user-level-icon, .simplifyLiveroom-switch-guard .chat-history-panel .guard-icon, .simplifyLiveroom-switch-systemMessage .system-msg, .simplifyLiveroom-switch-systemMessage .announcement-wrapper, .simplifyLiveroom-switch-welcomeMessage .welcome-guard, .simplifyLiveroom-switch-welcomeMessage .welcome-msg, .simplifyLiveroom-switch-popup .chat-popups-section, .simplifyLiveroom-switch-popup #chat-draw-area-vm, .simplifyLiveroom-switch-giftMessage .chat-item.gift-item, .simplifyLiveroom-switch-giftMessage .chat-history-panel .penury-gift-msg, .simplifyLiveroom-switch-guardPurchase .chat-item.guard-buy, .simplifyLiveroom-switch-eventsBanner .z-section-blocks .left-container .flip-view, .simplifyLiveroom-switch-eventsBanner .activity-pushing-out, .simplifyLiveroom-switch-userEffect .live-room-app .aside-area .activity-welcome-section, .simplifyLiveroom-switch-kanban .live-haruna-ctnr, .simplifyLiveroom-switch-enterPrompt .chat-item.important-prompt-item, .simplifyLiveroom-switch-enterPrompt .chat-history-panel .brush-prompt, .simplifyLiveroom-switch-enterPrompt .chat-item.convention-msg, .simplifyLiveroom-switch-pk .chaos-pk, .simplifyLiveroom-switch-topRank .chat-item.top3-notice, .simplifyLiveroom-switch-topRank .chat-item .rank-icon {\\n  display: none !important;\\n}\\n\\n.simplifyLiveroom-switch-headerPanel .control-panel-ctnr .dialog-ctnr {\\n  z-index: 800 !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .player-ctnr .room-info-ctnr {\\n  display: inline-flex !important;\\n  flex: 1 0 auto;\\n  align-items: center !important;\\n  margin-left: 12px !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .head-info-section {\\n  height: 52px !important;\\n  box-sizing: content-box !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr {\\n  display: flex !important;\\n  padding: 10px 24px 10px 12px !important;\\n  height: auto !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .blive-avatar-icons,\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .face-pendants {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .blive-avatar-pendant {\\n  width: 48px !important;\\n  height: 48px !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .blive-avatar-face,\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .blive-avatar,\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .avatar {\\n  height: 32px !important;\\n  width: 32px !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .room-cover {\\n  width: 32px !important;\\n  height: 32px !important;\\n  border-radius: 50% !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr {\\n  display: flex !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row {\\n  display: flex !important;\\n  align-items: center !important;\\n  flex: 1 0 auto !important;\\n  flex-direction: row-reverse !important;\\n  position: static !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .left-ctnr,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .normal-mode,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .left-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .normal-mode {\\n  position: absolute !important;\\n  left: 50% !important;\\n  transform: translateX(-50%) !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-area,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .area-text,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-area,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .area-text {\\n  display: inline-flex !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .upper-right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .upper-right-ctnr {\\n  position: static !important;\\n  transform: none !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-title,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .room-title,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-title,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .room-title {\\n  display: flex !important;\\n  align-items: center !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-title .text,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .room-title .text,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-title .text,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .room-title .text {\\n  line-height: normal !important;\\n}\\n@media screen and (max-width: 1750px) {\\n  .simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-title .title-length-limit,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .room-title .title-length-limit,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-title .title-length-limit,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .room-title .title-length-limit {\\n    max-width: 250px !important;\\n  }\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .lower-row,\\n.simplifyLiveroom-switch-headerPanel .room-info-down-row {\\n  margin: 0 !important;\\n  order: -1;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .lower-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .lower-row .left-ctnr > :nth-child(n+3),\\n.simplifyLiveroom-switch-headerPanel .room-info-down-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-down-row .left-ctnr > :nth-child(n+3) {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .room-owner-username {\\n  max-width: 150px !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .live-status,\\n.simplifyLiveroom-switch-headerPanel .live-status-label {\\n  display: none !important;\\n}\\n\\n.simplifyLiveroom-switch-giftMessage:not(.simplifyLiveroom-switch-enterPrompt) .chat-history-list.with-penury-gift:not(.with-brush-prompt) {\\n  height: calc(100%) !important;\\n}\\n.simplifyLiveroom-switch-giftMessage:not(.simplifyLiveroom-switch-enterPrompt) .chat-history-list.with-penury-gift.with-brush-prompt {\\n  height: calc(100% - 32px) !important;\\n}\\n\\n.simplifyLiveroom-switch-enterPrompt:not(.simplifyLiveroom-switch-giftMessage) .chat-history-list.with-brush-prompt:not(.with-penury-gift) {\\n  height: calc(100%) !important;\\n}\\n.simplifyLiveroom-switch-enterPrompt:not(.simplifyLiveroom-switch-giftMessage) .chat-history-list.with-brush-prompt.with-penury-gift {\\n  height: calc(100% - 32px) !important;\\n}\\n\\n.simplifyLiveroom-switch-enterPrompt.simplifyLiveroom-switch-giftMessage .chat-history-list {\\n  height: calc(100%) !important;\\n}\\n\\n.simplifyLiveroom-switch-rankList .live-room-app .rank-list-section {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-rankList .live-room-app .chat-history-panel {\\n  height: calc(100% - 145px) !important;\\n}\\n.simplifyLiveroom-switch-rankList .live-room-app .chat-history-panel .chat-history-list::-webkit-scrollbar-track {\\n  background: transparent !important;\\n}\\n.simplifyLiveroom-switch-rankList .live-room-app .chat-history-panel,\\n.simplifyLiveroom-switch-rankList .live-room-app #pay-note-panel-vm .pay-note-panel,\\n.simplifyLiveroom-switch-rankList .live-room-app #pay-note-panel-vm .pay-note-panel .detail-info .mask {\\n  border-radius: 11px 11px 0 0 !important;\\n}\\n.simplifyLiveroom-switch-rankList.player-full-win .chat-history-panel,\\n.simplifyLiveroom-switch-rankList.player-full-win #pay-note-panel-vm .pay-note-panel,\\n.simplifyLiveroom-switch-rankList.player-full-win #pay-note-panel-vm .pay-note-panel .detail-info .mask {\\n  border-radius: 0 !important;\\n}\\n\\n.simplifyLiveroom-switch-giftPanel .gift-panel,\\n.simplifyLiveroom-switch-giftPanel .gift-panel-switch,\\n.simplifyLiveroom-switch-giftPanel .gift-section.guard-ent,\\n.simplifyLiveroom-switch-giftPanel .seeds-wrap > .dp-i-block > .item:not(.seeds),\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .wish-icon,\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .wish-tip {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-section,\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel {\\n  height: 48px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry,\\n.simplifyLiveroom-switch-giftPanel .treasure-box {\\n  display: flex !important;\\n  align-items: center !important;\\n  padding: 10px 0 0 16px !important;\\n  max-height: 36px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .draw-box .anchor-lot-icon,\\n.simplifyLiveroom-switch-giftPanel .draw-box .box-icon,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .anchor-lot-icon,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .box-icon,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .anchor-lot-icon,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .box-icon {\\n  margin: 0 !important;\\n  width: 24px !important;\\n  height: 24px !important;\\n  background-position: 0 -2.5px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-pic.open,\\n.simplifyLiveroom-switch-giftPanel .draw-box .anchor-lot-icon.open,\\n.simplifyLiveroom-switch-giftPanel .draw-box .box-icon.open,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-pic.open,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .anchor-lot-icon.open,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .box-icon.open,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-pic.open,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .anchor-lot-icon.open,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .box-icon.open {\\n  background-position: 0 -1px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-pic {\\n  transform: scale(1.1);\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div_tip br,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div_tip br,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div_tip br {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div img,\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div canvas,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div img,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div canvas,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div img,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div canvas {\\n  max-height: 24px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-text,\\n.simplifyLiveroom-switch-giftPanel .draw-box .anchor-lot-text,\\n.simplifyLiveroom-switch-giftPanel .draw-box .count-down,\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div_tip,\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div_timer,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-text,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .anchor-lot-text,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .count-down,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div_tip,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div_timer,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-text,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .anchor-lot-text,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .count-down,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div_tip,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div_timer {\\n  margin-left: 12px !important;\\n  padding: 4px 8px !important;\\n  max-width: unset !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .awarding-panel,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .awarding-panel,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .awarding-panel {\\n  bottom: 42px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box {\\n  padding-top: 11px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry {\\n  padding-top: 12px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .right-part {\\n  height: 48px !important;\\n  display: flex !important;\\n  justify-content: flex-end !important;\\n  min-width: unset !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .right-part > .dp-table-cell {\\n  display: flex !important;\\n  align-items: center !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .right-part > .dp-table-cell .supporting-info {\\n  transform: translateY(-2px) !important;\\n}\\n\\n.simplifyLiveroom-switch-guard .guard-danmaku::before {\\n  -o-border-image: none !important;\\n     border-image: none !important;\\n  background-color: transparent !important;\\n}\\n.simplifyLiveroom-switch-guard .guard-danmaku::before .guard-danmaku {\\n  margin: 0 !important;\\n  padding: 4px 5px !important;\\n}\\n.simplifyLiveroom-switch-guard .guard-danmaku::before .guard-danmaku::after {\\n  background-image: none !important;\\n}\\n.simplifyLiveroom-switch-guard .chat-history-panel [class*=guard-level-] {\\n  padding: 4px 5px !important;\\n  margin: 0 !important;\\n}\\n.simplifyLiveroom-switch-guard .chat-history-panel [class*=guard-level-]::after {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-guard .chat-history-panel .chat-colorful-bubble {\\n  margin: 0 !important;\\n  display: block !important;\\n  border-radius: 0 !important;\\n  background-color: transparent !important;\\n}\\n.simplifyLiveroom-switch-guard .fans-medal-item.medal-guard {\\n  margin-left: 0 !important;\\n}\\n\\n.simplifyLiveroom-switch-emoticons .control-panel-icon-row .emoticons-panel {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-emoticons .chat-history-list .chat-item .emoticon img {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-emoticons .chat-history-list .chat-item .emoticon span {\\n  display: inline-flex !important;\\n}\\n.simplifyLiveroom-switch-emoticons .danmaku-item-container .bilibili-danmaku img {\\n  display: none !important;\\n}\",\"\"]),i.exports=n},645:function(i){\"use strict\";\n// eslint-disable-next-line func-names\ni.exports=function(i){var t=[];return t.toString=function(){return this.map((function(t){var e=i(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(i,e,n){\"string\"==typeof i&&(\n// eslint-disable-next-line no-param-reassign\ni=[[null,i,\"\"]]);var o={};if(n)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<i.length;s++){var l=[].concat(i[s]);n&&o[l[0]]||(e&&(l[2]?l[2]=\"\".concat(e,\" and \").concat(l[2]):l[2]=e),t.push(l))}},t}},693:function(i,t,e){var n=e(978);n&&n.__esModule&&(n=n.default),i.exports=\"string\"==typeof n?n:n.toString()}},n={};function o(i){var t=n[i];if(void 0!==t)return t.exports;var r=n[i]={id:i,exports:{}};return e[i](r,r.exports,o),r.exports}t=Object.getPrototypeOf?function(i){return Object.getPrototypeOf(i)}:function(i){return i.__proto__},o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if(\"object\"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&\"function\"==typeof e.then)return e}var r=Object.create(null);o.r(r);var a={};i=i||[null,t({}),t([]),t(t)];for(var s=2&n&&e;\"object\"==typeof s&&!~i.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(i){a[i]=function(){return e[i]}}));return a.default=function(){return e},o.d(r,a),r},o.d=function(i,t){for(var e in t)o.o(t,e)&&!o.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})},o.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)},o.r=function(i){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(i,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";o.d(r,{component:function(){return n}});var i=coreApis.componentApis.switchOptions,t=coreApis.componentApis.styledComponent,e=coreApis.utils.urls;const n=(0,i.createSwitchOptions)({name:\"simplifyOptions\",dimAt:\"checked\",switchProps:{checkedIcon:\"mdi-eye-off-outline\",notCheckedIcon:\"mdi-eye-outline\"},switches:{vip:{defaultValue:!0,displayName:\"老爷图标\"},enterPrompt:{defaultValue:!0,displayName:\"入场通知\"},fansMedal:{defaultValue:!0,displayName:\"粉丝勋章\"},title:{defaultValue:!0,displayName:\"活动头衔\"},guard:{defaultValue:!0,displayName:\"舰长图标\"},systemMessage:{defaultValue:!0,displayName:\"全区广播\"},welcomeMessage:{defaultValue:!0,displayName:\"欢迎信息\"},giftMessage:{defaultValue:!0,displayName:\"礼物弹幕\"},emoticons:{defaultValue:!0,displayName:\"表情特效\"},guardPurchase:{defaultValue:!0,displayName:\"上舰提示\"},giftPanel:{defaultValue:!0,displayName:\"付费礼物\"},headerPanel:{defaultValue:!1,displayName:\"标题栏活动\"},userEffect:{defaultValue:!0,displayName:\"入场特效\"},kanban:{defaultValue:!0,displayName:\"看板娘\"},eventsBanner:{defaultValue:!1,displayName:\"活动横幅\"},rankList:{defaultValue:!1,displayName:\"排行榜\"},popup:{defaultValue:!1,displayName:\"抽奖提示\"},pk:{defaultValue:!1,displayName:\"PK浮窗\"},topRank:{defaultValue:!1,displayName:\"高能榜提示\"},skin:{defaultValue:!1,displayName:\"房间皮肤\"}}})({name:\"simplifyLiveroom\",displayName:\"简化直播间\",entry:(0,t.styledComponentEntry)((()=>Promise.resolve().then(o.t.bind(o,693,23))),(async()=>{const{setupSkinSimplify:i}=await Promise.resolve().then(o.bind(o,382));i()})),description:{\"zh-CN\":\"隐藏直播间中各种不需要的内容.\"},tags:[componentsTags.live,componentsTags.style],urlInclude:e.liveUrls})}(),r=r.component}()}));",
      "metadata": {
        "name": "simplifyLiveroom",
        "displayName": "简化直播间",
        "description": {
          "zh-CN": "隐藏直播间中各种不需要的内容."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "options": {
          "switch-vip": {
            "defaultValue": true,
            "displayName": "老爷图标",
            "hidden": true
          },
          "switch-enterPrompt": {
            "defaultValue": true,
            "displayName": "入场通知",
            "hidden": true
          },
          "switch-fansMedal": {
            "defaultValue": true,
            "displayName": "粉丝勋章",
            "hidden": true
          },
          "switch-title": {
            "defaultValue": true,
            "displayName": "活动头衔",
            "hidden": true
          },
          "switch-guard": {
            "defaultValue": true,
            "displayName": "舰长图标",
            "hidden": true
          },
          "switch-systemMessage": {
            "defaultValue": true,
            "displayName": "全区广播",
            "hidden": true
          },
          "switch-welcomeMessage": {
            "defaultValue": true,
            "displayName": "欢迎信息",
            "hidden": true
          },
          "switch-giftMessage": {
            "defaultValue": true,
            "displayName": "礼物弹幕",
            "hidden": true
          },
          "switch-emoticons": {
            "defaultValue": true,
            "displayName": "表情特效",
            "hidden": true
          },
          "switch-guardPurchase": {
            "defaultValue": true,
            "displayName": "上舰提示",
            "hidden": true
          },
          "switch-giftPanel": {
            "defaultValue": true,
            "displayName": "付费礼物",
            "hidden": true
          },
          "switch-headerPanel": {
            "defaultValue": false,
            "displayName": "标题栏活动",
            "hidden": true
          },
          "switch-userEffect": {
            "defaultValue": true,
            "displayName": "入场特效",
            "hidden": true
          },
          "switch-kanban": {
            "defaultValue": true,
            "displayName": "看板娘",
            "hidden": true
          },
          "switch-eventsBanner": {
            "defaultValue": false,
            "displayName": "活动横幅",
            "hidden": true
          },
          "switch-rankList": {
            "defaultValue": false,
            "displayName": "排行榜",
            "hidden": true
          },
          "switch-popup": {
            "defaultValue": false,
            "displayName": "抽奖提示",
            "hidden": true
          },
          "switch-pk": {
            "defaultValue": false,
            "displayName": "PK浮窗",
            "hidden": true
          },
          "switch-topRank": {
            "defaultValue": false,
            "displayName": "高能榜提示",
            "hidden": true
          },
          "switch-skin": {
            "defaultValue": false,
            "displayName": "房间皮肤",
            "hidden": true
          },
          "simplifyOptions": {
            "defaultValue": {
              "name": "simplifyOptions",
              "dimAt": "checked",
              "switchProps": {
                "checkedIcon": "mdi-eye-off-outline",
                "notCheckedIcon": "mdi-eye-outline"
              },
              "switches": {
                "vip": {
                  "defaultValue": true,
                  "displayName": "老爷图标"
                },
                "enterPrompt": {
                  "defaultValue": true,
                  "displayName": "入场通知"
                },
                "fansMedal": {
                  "defaultValue": true,
                  "displayName": "粉丝勋章"
                },
                "title": {
                  "defaultValue": true,
                  "displayName": "活动头衔"
                },
                "guard": {
                  "defaultValue": true,
                  "displayName": "舰长图标"
                },
                "systemMessage": {
                  "defaultValue": true,
                  "displayName": "全区广播"
                },
                "welcomeMessage": {
                  "defaultValue": true,
                  "displayName": "欢迎信息"
                },
                "giftMessage": {
                  "defaultValue": true,
                  "displayName": "礼物弹幕"
                },
                "emoticons": {
                  "defaultValue": true,
                  "displayName": "表情特效"
                },
                "guardPurchase": {
                  "defaultValue": true,
                  "displayName": "上舰提示"
                },
                "giftPanel": {
                  "defaultValue": true,
                  "displayName": "付费礼物"
                },
                "headerPanel": {
                  "defaultValue": false,
                  "displayName": "标题栏活动"
                },
                "userEffect": {
                  "defaultValue": true,
                  "displayName": "入场特效"
                },
                "kanban": {
                  "defaultValue": true,
                  "displayName": "看板娘"
                },
                "eventsBanner": {
                  "defaultValue": false,
                  "displayName": "活动横幅"
                },
                "rankList": {
                  "defaultValue": false,
                  "displayName": "排行榜"
                },
                "popup": {
                  "defaultValue": false,
                  "displayName": "抽奖提示"
                },
                "pk": {
                  "defaultValue": false,
                  "displayName": "PK浮窗"
                },
                "topRank": {
                  "defaultValue": false,
                  "displayName": "高能榜提示"
                },
                "skin": {
                  "defaultValue": false,
                  "displayName": "房间皮肤"
                }
              },
              "radio": false,
              "componentName": "simplifyLiveroom",
              "optionDisplayName": "简化直播间选项"
            },
            "displayName": "简化直播间选项"
          }
        }
      },
      "settings": {
        "enabled": true,
        "options": {
          "switch-vip": true,
          "switch-enterPrompt": true,
          "switch-fansMedal": true,
          "switch-title": true,
          "switch-guard": true,
          "switch-systemMessage": true,
          "switch-welcomeMessage": true,
          "switch-giftMessage": true,
          "switch-emoticons": true,
          "switch-guardPurchase": true,
          "switch-giftPanel": true,
          "switch-headerPanel": false,
          "switch-userEffect": true,
          "switch-kanban": true,
          "switch-eventsBanner": false,
          "switch-rankList": false,
          "switch-popup": false,
          "switch-pk": false,
          "switch-topRank": false,
          "switch-skin": false,
          "simplifyOptions": {
            "name": "simplifyOptions",
            "dimAt": "checked",
            "switchProps": {
              "checkedIcon": "mdi-eye-off-outline",
              "notCheckedIcon": "mdi-eye-outline"
            },
            "switches": {
              "vip": {
                "defaultValue": true,
                "displayName": "老爷图标"
              },
              "enterPrompt": {
                "defaultValue": true,
                "displayName": "入场通知"
              },
              "fansMedal": {
                "defaultValue": true,
                "displayName": "粉丝勋章"
              },
              "title": {
                "defaultValue": true,
                "displayName": "活动头衔"
              },
              "guard": {
                "defaultValue": true,
                "displayName": "舰长图标"
              },
              "systemMessage": {
                "defaultValue": true,
                "displayName": "全区广播"
              },
              "welcomeMessage": {
                "defaultValue": true,
                "displayName": "欢迎信息"
              },
              "giftMessage": {
                "defaultValue": true,
                "displayName": "礼物弹幕"
              },
              "emoticons": {
                "defaultValue": true,
                "displayName": "表情特效"
              },
              "guardPurchase": {
                "defaultValue": true,
                "displayName": "上舰提示"
              },
              "giftPanel": {
                "defaultValue": true,
                "displayName": "付费礼物"
              },
              "headerPanel": {
                "defaultValue": false,
                "displayName": "标题栏活动"
              },
              "userEffect": {
                "defaultValue": true,
                "displayName": "入场特效"
              },
              "kanban": {
                "defaultValue": true,
                "displayName": "看板娘"
              },
              "eventsBanner": {
                "defaultValue": false,
                "displayName": "活动横幅"
              },
              "rankList": {
                "defaultValue": false,
                "displayName": "排行榜"
              },
              "popup": {
                "defaultValue": false,
                "displayName": "抽奖提示"
              },
              "pk": {
                "defaultValue": false,
                "displayName": "PK浮窗"
              },
              "topRank": {
                "defaultValue": false,
                "displayName": "高能榜提示"
              },
              "skin": {
                "defaultValue": false,
                "displayName": "房间皮肤"
              }
            },
            "radio": false,
            "componentName": "simplifyLiveroom",
            "optionDisplayName": "简化直播间选项"
          }
        }
      }
    },
    "simplifyHome": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"style/simplify/home\"]=e():t[\"style/simplify/home\"]=e()}(self,(function(){return function(){var t,e,n={344:function(t,e,n){var i=n(645)((function(t){return t[1]}));i.push([t.id,\"body.simplifyHome-switch-categories .z-top-container.has-menu {\\n  height: auto !important;\\n  min-height: unset !important;\\n}\\nbody.simplifyHome-switch-categories .bili-header-m > .bili-wrapper {\\n  visibility: hidden !important;\\n  height: 18px !important;\\n}\\nbody.simplifyHome-switch-categories .primary-menu-itnl {\\n  visibility: hidden !important;\\n  height: 24px !important;\\n  padding: 0 !important;\\n}\\nbody.simplifyHome-switch-categories .bili-header__channel {\\n  height: 12px !important;\\n}\\nbody.simplifyHome-switch-categories .bili-header__channel > * {\\n  display: none !important;\\n}\\nbody.simplifyHome-switch-categories.header-v3 .bili-wrapper {\\n  padding-top: 8px !important;\\n  border-top: none !important;\\n}\\nbody.simplifyHome-switch-trends .first-screen #reportFirst1 {\\n  display: none !important;\\n}\\nbody.simplifyHome-switch-trends .first-screen .space-between {\\n  margin-bottom: 0 !important;\\n}\\nbody.simplifyHome-switch-trends .bili-layout .bili-grid:first-child,\\nbody.simplifyHome-switch-trends .rcmd-box-wrap {\\n  display: none !important;\\n}\\nbody.simplifyHome-switch-online .first-screen #reportFirst2 {\\n  display: none !important;\\n}\\nbody.simplifyHome-switch-ext-box .first-screen #reportFirst3 {\\n  display: none !important;\\n}\\nbody.simplifyHome-switch-special #bili_report_spe_rec {\\n  display: none !important;\\n}\\nbody.simplifyHome-switch-contact .bili-footer .b-footer-wrap,\\nbody.simplifyHome-switch-contact .international-footer {\\n  display: none !important;\\n}\\nbody.simplifyHome-switch-elevator .storey-box .elevator {\\n  display: none !important;\\n}\",\"\"]),t.exports=i},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,i){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var o={};if(i)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&o[l[0]]||(n&&(l[2]?l[2]=\"\".concat(n,\" and \").concat(l[2]):l[2]=n),e.push(l))}},e}},910:function(t,e,n){var i=n(344);i&&i.__esModule&&(i=i.default),t.exports=\"string\"==typeof i?i:i.toString()}},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={id:t,exports:{}};return n[t](r,r.exports,o),r.exports}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},o.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if(\"object\"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&\"function\"==typeof n.then)return n}var r=Object.create(null);o.r(r);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;\"object\"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((function(t){s[t]=function(){return n[t]}}));return s.default=function(){return n},o.d(r,s),r},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";o.d(r,{component:function(){return p}});var t=coreApis.componentApis.switchOptions,e=coreApis.settings,n=coreApis.spinQuery,i=coreApis.style,s=coreApis.utils,a=coreApis.utils.urls;const l={name:\"simplifyOptions\",dimAt:\"checked\",switchProps:{checkedIcon:\"mdi-eye-off-outline\",notCheckedIcon:\"mdi-eye-outline\"},switches:{categories:{defaultValue:!1,displayName:\"分区栏\"},trends:{defaultValue:!1,displayName:\"活动/热门视频\"},online:{defaultValue:!1,displayName:\"在线列表(旧)\"},\"ext-box\":{defaultValue:!1,displayName:\"电竞赛事(旧)\"},special:{defaultValue:!1,displayName:\"特别推荐(旧)\"},contact:{defaultValue:!1,displayName:\"联系方式\"},elevator:{defaultValue:!1,displayName:\"右侧分区导航(旧)\"}}},c={name:\"simplifyHome\",displayName:\"简化首页\",description:{\"zh-CN\":\"\\n隐藏原版首页不需要的元素 / 分区.\\n\\n> 这个功能相当于 v1 的 `首页过滤`, v1 的 `简化首页` (清爽 / 极简首页) 需要重构后再发布, 问就是 Coming Soon.\\n    \".trim()},instantStyles:[{name:\"simplifyHome\",style:()=>Promise.resolve().then(o.t.bind(o,910,23))}],urlInclude:a.mainSiteUrls,tags:[componentsTags.style],entry:async()=>{if(\"https://www.bilibili.com/\"!==document.URL)return;const{options:t}=(0,e.getComponentSettings)(c.name),o=\"-1\"===(0,s.getCookieValue)(\"i-wanna-go-back\"),r=await(async()=>{const t=\"https://www.bilibili.com/\"!==document.URL;if(!o){const e=await(0,n.sq)((()=>dqa(\".proxy-box > div\")),(e=>e.length>0||t));return Object.fromEntries(e.map((t=>[t.id.replace(/^bili_/,\"\"),{displayName:t.querySelector(\"header .name\")?.textContent?.trim()??\"未知分区\",defaultValue:!1}])))}const e=[\"推广\"],i=await(0,n.sq)((()=>dqa(\".bili-grid .the-world\")),(e=>e.length>3||t));console.log(i);const r=i?.filter((t=>!e.includes(t.id))).map((t=>{const e=(t=>{let e=t;for(;e.parentElement;){if(e.classList.contains(\"bili-grid\"))return e;e=e.parentElement}return null})(t),n=t.id;return e?(e.dataset.area=n,[n,{displayName:n,defaultValue:!1}]):null})).filter((t=>null!==t))??[];return Object.fromEntries(r)})(),a={};Object.entries(r).forEach((([n,{displayName:i,defaultValue:o}])=>{const r={defaultValue:o,displayName:i},s=`switch-${n}`;void 0===t[s]&&(t[s]=o);const p=`switch-${n}`;(0,e.addComponentListener)(`${c.name}.${p}`,(t=>{document.body.classList.toggle(`${c.name}-${p}`,t)}),!0),l.switches[n]=r,a[n]=r})),t.simplifyOptions.switches=a;const p=Object.keys(r).map((t=>`\\n        body.simplifyHome-switch-${t} .bili-layout .bili-grid[data-area=\"${t}\"],\\n        body.simplifyHome-switch-${t} .storey-box .proxy-box #bili_${t} {\\n          display: none !important;\\n        }\\n      `.trim())).join(\"\\n\");(0,i.addStyle)(p,\"simplify-home-generated\")}},p=(0,t.createSwitchOptions)(l)(c)}(),r=r.component}()}));",
      "metadata": {
        "name": "simplifyHome",
        "displayName": "简化首页",
        "description": {
          "zh-CN": "隐藏原版首页不需要的元素 / 分区.\n\n> 这个功能相当于 v1 的 `首页过滤`, v1 的 `简化首页` (清爽 / 极简首页) 需要重构后再发布, 问就是 Coming Soon."
        },
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "options": {
          "switch-categories": {
            "defaultValue": false,
            "displayName": "分区栏",
            "hidden": true
          },
          "switch-trends": {
            "defaultValue": false,
            "displayName": "活动/热门视频",
            "hidden": true
          },
          "switch-online": {
            "defaultValue": false,
            "displayName": "在线列表(旧)",
            "hidden": true
          },
          "switch-ext-box": {
            "defaultValue": false,
            "displayName": "电竞赛事(旧)",
            "hidden": true
          },
          "switch-special": {
            "defaultValue": false,
            "displayName": "特别推荐(旧)",
            "hidden": true
          },
          "switch-contact": {
            "defaultValue": false,
            "displayName": "联系方式",
            "hidden": true
          },
          "switch-elevator": {
            "defaultValue": false,
            "displayName": "右侧分区导航(旧)",
            "hidden": true
          },
          "simplifyOptions": {
            "defaultValue": {
              "name": "simplifyOptions",
              "dimAt": "checked",
              "switchProps": {
                "checkedIcon": "mdi-eye-off-outline",
                "notCheckedIcon": "mdi-eye-outline"
              },
              "switches": {
                "categories": {
                  "defaultValue": false,
                  "displayName": "分区栏"
                },
                "trends": {
                  "defaultValue": false,
                  "displayName": "活动/热门视频"
                },
                "online": {
                  "defaultValue": false,
                  "displayName": "在线列表(旧)"
                },
                "ext-box": {
                  "defaultValue": false,
                  "displayName": "电竞赛事(旧)"
                },
                "special": {
                  "defaultValue": false,
                  "displayName": "特别推荐(旧)"
                },
                "contact": {
                  "defaultValue": false,
                  "displayName": "联系方式"
                },
                "elevator": {
                  "defaultValue": false,
                  "displayName": "右侧分区导航(旧)"
                }
              },
              "radio": false,
              "componentName": "simplifyHome",
              "optionDisplayName": "简化首页选项"
            },
            "displayName": "简化首页选项"
          }
        }
      },
      "settings": {
        "enabled": true,
        "options": {
          "switch-categories": true,
          "switch-trends": true,
          "switch-online": true,
          "switch-ext-box": true,
          "switch-special": true,
          "switch-contact": true,
          "switch-elevator": true,
          "simplifyOptions": {
            "name": "simplifyOptions",
            "dimAt": "checked",
            "switchProps": {
              "checkedIcon": "mdi-eye-off-outline",
              "notCheckedIcon": "mdi-eye-outline"
            },
            "switches": {
              "赛事": {
                "defaultValue": false,
                "displayName": "赛事"
              },
              "直播": {
                "defaultValue": false,
                "displayName": "直播"
              },
              "动画": {
                "defaultValue": false,
                "displayName": "动画"
              },
              "番剧": {
                "defaultValue": false,
                "displayName": "番剧"
              },
              "番剧动态": {
                "defaultValue": false,
                "displayName": "番剧动态"
              },
              "国创": {
                "defaultValue": false,
                "displayName": "国创"
              },
              "国产原创相关": {
                "defaultValue": false,
                "displayName": "国产原创相关"
              },
              "综艺": {
                "defaultValue": false,
                "displayName": "综艺"
              },
              "漫画": {
                "defaultValue": false,
                "displayName": "漫画"
              },
              "音乐": {
                "defaultValue": false,
                "displayName": "音乐"
              },
              "舞蹈": {
                "defaultValue": false,
                "displayName": "舞蹈"
              },
              "游戏": {
                "defaultValue": false,
                "displayName": "游戏"
              },
              "知识": {
                "defaultValue": false,
                "displayName": "知识"
              },
              "课堂": {
                "defaultValue": false,
                "displayName": "课堂"
              },
              "科技": {
                "defaultValue": false,
                "displayName": "科技"
              },
              "运动": {
                "defaultValue": false,
                "displayName": "运动"
              },
              "汽车": {
                "defaultValue": false,
                "displayName": "汽车"
              },
              "生活": {
                "defaultValue": false,
                "displayName": "生活"
              },
              "美食": {
                "defaultValue": false,
                "displayName": "美食"
              },
              "动物圈": {
                "defaultValue": false,
                "displayName": "动物圈"
              },
              "鬼畜": {
                "defaultValue": false,
                "displayName": "鬼畜"
              },
              "时尚": {
                "defaultValue": false,
                "displayName": "时尚"
              },
              "资讯": {
                "defaultValue": false,
                "displayName": "资讯"
              },
              "娱乐": {
                "defaultValue": false,
                "displayName": "娱乐"
              },
              "专栏": {
                "defaultValue": false,
                "displayName": "专栏"
              },
              "电影": {
                "defaultValue": false,
                "displayName": "电影"
              },
              "电视剧": {
                "defaultValue": false,
                "displayName": "电视剧"
              },
              "影视": {
                "defaultValue": false,
                "displayName": "影视"
              },
              "纪录片": {
                "defaultValue": false,
                "displayName": "纪录片"
              },
              "categories": {
                "defaultValue": false,
                "displayName": "分区栏"
              },
              "trends": {
                "defaultValue": false,
                "displayName": "活动/热门视频"
              },
              "online": {
                "defaultValue": false,
                "displayName": "在线列表(旧)"
              },
              "ext-box": {
                "defaultValue": false,
                "displayName": "电竞赛事(旧)"
              },
              "special": {
                "defaultValue": false,
                "displayName": "特别推荐(旧)"
              },
              "contact": {
                "defaultValue": false,
                "displayName": "联系方式"
              },
              "elevator": {
                "defaultValue": false,
                "displayName": "右侧分区导航(旧)"
              }
            },
            "radio": false,
            "componentName": "simplifyHome",
            "optionDisplayName": "简化首页选项"
          },
          "switch-live": false,
          "switch-douga": false,
          "switch-anime": false,
          "switch-guochuang": false,
          "switch-manga": false,
          "switch-music": false,
          "switch-dance": false,
          "switch-game": false,
          "switch-knowledge": false,
          "switch-cheese": false,
          "switch-tech": false,
          "switch-sports": false,
          "switch-car": false,
          "switch-life": false,
          "switch-food": false,
          "switch-animal": false,
          "switch-kichiku": false,
          "switch-fashion": false,
          "switch-information": false,
          "switch-ent": false,
          "switch-read": false,
          "switch-movie": false,
          "switch-teleplay": false,
          "switch-cinephile": false,
          "switch-documentary": false,
          "switch-赛事": true,
          "switch-直播": true,
          "switch-动画": true,
          "switch-番剧": true,
          "switch-番剧动态": true,
          "switch-国创": true,
          "switch-国产原创相关": true,
          "switch-综艺": true,
          "switch-漫画": true,
          "switch-音乐": true,
          "switch-舞蹈": true,
          "switch-游戏": true,
          "switch-知识": true,
          "switch-课堂": true,
          "switch-科技": true,
          "switch-运动": true,
          "switch-汽车": true,
          "switch-生活": true,
          "switch-美食": true,
          "switch-动物圈": true,
          "switch-鬼畜": true,
          "switch-时尚": true,
          "switch-资讯": true,
          "switch-娱乐": true,
          "switch-专栏": true,
          "switch-电影": true,
          "switch-电视剧": true,
          "switch-影视": true,
          "switch-纪录片": true
        }
      }
    },
    "collapseLiveSideBar": {
      "code": "!function(r,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"live/side-bar\"]=n():r[\"live/side-bar\"]=n()}(self,(function(){return function(){var r,n,t={890:function(r,n,t){var e=t(645)((function(r){return r[1]}));e.push([r.id,'.side-bar-cntr {\\n  transition: 0.24s ease-out !important;\\n  overflow: visible !important;\\n  transform: translateZ(0) translateX(100%) !important;\\n}\\n.side-bar-cntr:hover {\\n  transform: translateZ(0) !important;\\n}\\n.side-bar-cntr::after {\\n  right: calc(100% + 4px);\\n  transform: translateY(-50%) rotate(45deg);\\n  width: 8px;\\n  height: 8px;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  border: 4px solid #aaa;\\n  border-top-color: transparent;\\n  border-right-color: transparent;\\n}\\nbody.dark .side-bar-cntr::after {\\n  border: 4px solid #eee;\\n  border-top-color: transparent;\\n  border-right-color: transparent;\\n}\\n.side-bar-cntr::before {\\n  right: calc(100% - 8px);\\n  transform: translateY(-50%);\\n  width: 32px;\\n  height: 48px;\\n  border-radius: 8px 0 0 8px;\\n  background-color: #fff;\\n  border: 1px solid #e9eaec;\\n}\\nbody.dark .side-bar-cntr::before {\\n  background-color: #222;\\n  border-color: transparent;\\n}\\n.side-bar-cntr::before, .side-bar-cntr::after {\\n  content: \"\";\\n  transition: 0.24s ease-out;\\n  cursor: pointer;\\n  position: fixed;\\n  top: 50%;\\n}\\n.side-bar-cntr:hover::after, .side-bar-cntr:hover::before {\\n  opacity: 0;\\n}',\"\"]),r.exports=e},645:function(r){\"use strict\";\n// eslint-disable-next-line func-names\nr.exports=function(r){var n=[];return n.toString=function(){return this.map((function(n){var t=r(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(r,t,e){\"string\"==typeof r&&(\n// eslint-disable-next-line no-param-reassign\nr=[[null,r,\"\"]]);var o={};if(e)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<r.length;c++){var s=[].concat(r[c]);e&&o[s[0]]||(t&&(s[2]?s[2]=\"\".concat(t,\" and \").concat(s[2]):s[2]=t),n.push(s))}},n}},984:function(r,n,t){var e=t(890);e&&e.__esModule&&(e=e.default),r.exports=\"string\"==typeof e?e:e.toString()}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,o),i.exports}n=Object.getPrototypeOf?function(r){return Object.getPrototypeOf(r)}:function(r){return r.__proto__},o.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if(\"object\"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&\"function\"==typeof t.then)return t}var i=Object.create(null);o.r(i);var a={};r=r||[null,n({}),n([]),n(n)];for(var c=2&e&&t;\"object\"==typeof c&&!~r.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach((function(r){a[r]=function(){return t[r]}}));return a.default=function(){return t},o.d(i,a),i},o.d=function(r,n){for(var t in n)o.o(n,t)&&!o.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},o.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},o.r=function(r){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";o.d(i,{component:function(){return n}});var r=coreApis.utils.urls;const n={name:\"collapseLiveSideBar\",entry:none,instantStyles:[{name:\"collapseLiveSideBar\",style:()=>Promise.resolve().then(o.t.bind(o,984,23))}],displayName:\"自动收起直播侧栏\",description:'自动收起直播间右边偏下的侧栏. (上面有个 \"关注\" 的面板)',tags:[componentsTags.live,componentsTags.style],urlInclude:r.liveUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "collapseLiveSideBar",
        "displayName": "自动收起直播侧栏",
        "description": "自动收起直播间右边偏下的侧栏. (上面有个 \"关注\" 的面板)",
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "hideRelatedVideos": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"style/hide/video/related-videos\"]=t():e[\"style/hide/video/related-videos\"]=t()}(self,(function(){return function(){var e,t,n={632:function(e,t,n){var o=n(645)((function(e){return e[1]}));o.push([e.id,\"#recom_module,\\n#reco_list,\\n.bilibili-player-ending-panel-box-videos,\\n.r-con .rcmd-list {\\n  display: none !important;\\n}\\n\\n.bilibili-player-ending-panel-box-functions .bilibili-player-upinfo-spans {\\n  position: static !important;\\n}\\n\\n.bilibili-player-ending-panel-box {\\n  display: flex !important;\\n  justify-content: center !important;\\n  flex-direction: column !important;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var u=0;u<e.length;u++){var a=[].concat(e[u]);o&&r[a[0]]||(n&&(a[2]?a[2]=\"\".concat(n,\" and \").concat(a[2]):a[2]=n),t.push(a))}},t}},32:function(e,t,n){var o=n(632);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var c={};e=e||[null,t({}),t([]),t(t)];for(var u=2&o&&n;\"object\"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){c[e]=function(){return n[e]}}));return c.default=function(){return n},r.d(i,c),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return t}});var e=coreApis.utils.urls;const t={name:\"hideRelatedVideos\",displayName:\"隐藏视频推荐\",entry:none,instantStyles:[{name:\"hideRelatedVideos\",style:()=>Promise.resolve().then(r.t.bind(r,32,23))}],tags:[componentsTags.style,componentsTags.video],description:{\"zh-CN\":\"隐藏番剧和视频页面右侧的推荐视频列表. 注意: 如果你想关闭 b 站的自动连播 (自动播放下一个推荐视频) 功能, 需要先取消隐藏视频推荐才能看到开关.\"},urlInclude:e.videoAndBangumiUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "hideRelatedVideos",
        "displayName": "隐藏视频推荐",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "description": {
          "zh-CN": "隐藏番剧和视频页面右侧的推荐视频列表. 注意: 如果你想关闭 b 站的自动连播 (自动播放下一个推荐视频) 功能, 需要先取消隐藏视频推荐才能看到开关."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "hideRecommendedLive": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"style/hide/video/recommended-live\"]=t():e[\"style/hide/video/recommended-live\"]=t()}(self,(function(){return function(){var e,t,n={198:function(e,t,n){var o=n(645)((function(e){return e[1]}));o.push([e.id,\"#live_recommand_report,\\n#live_recommend_report {\\n  display: none !important;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var u=0;u<e.length;u++){var f=[].concat(e[u]);o&&r[f[0]]||(n&&(f[2]?f[2]=\"\".concat(n,\" and \").concat(f[2]):f[2]=n),t.push(f))}},t}},969:function(e,t,n){var o=n(198);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var c={};e=e||[null,t({}),t([]),t(t)];for(var u=2&o&&n;\"object\"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){c[e]=function(){return n[e]}}));return c.default=function(){return n},r.d(i,c),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return t}});var e=coreApis.utils.urls;const t={name:\"hideRecommendedLive\",entry:none,instantStyles:[{name:\"hideRecommendedLive\",style:()=>Promise.resolve().then(r.t.bind(r,969,23))}],displayName:\"隐藏直播推荐\",tags:[componentsTags.style,componentsTags.video],description:{\"zh-CN\":\"隐藏视频页面右侧下方的直播推荐.\"},urlInclude:e.videoUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "hideRecommendedLive",
        "displayName": "隐藏直播推荐",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "description": {
          "zh-CN": "隐藏视频页面右侧下方的直播推荐."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "hideVideoTopMask": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"style/hide/video/top-mask\"]=e():t[\"style/hide/video/top-mask\"]=e()}(self,(function(){return function(){var t,e,n={564:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,\".bilibili-player-video-top {\\n  display: none !important;\\n}\",\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar u=this[i][0];null!=u&&(r[u]=!0)}for(var c=0;c<t.length;c++){var f=[].concat(t[c]);o&&r[f[0]]||(n&&(f[2]?f[2]=\"\".concat(n,\" and \").concat(f[2]):f[2]=n),e.push(f))}},e}},498:function(t,e,n){var o=n(564);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={id:t,exports:{}};return n[t](i,i.exports,r),i.exports}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var u={};t=t||[null,e({}),e([]),e(e)];for(var c=2&o&&n;\"object\"==typeof c&&!~t.indexOf(c);c=e(c))Object.getOwnPropertyNames(c).forEach((function(t){u[t]=function(){return n[t]}}));return u.default=function(){return n},r.d(i,u),i},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return n}});var t=coreApis.componentApis.styledComponent,e=coreApis.utils.urls;const n={displayName:\"隐藏视频标题层\",...(0,t.toggleStyle)(\"hideVideoTopMask\",(()=>Promise.resolve().then(r.t.bind(r,498,23)))),tags:[componentsTags.style],description:{\"zh-CN\":\"隐藏视频里鼠标经过时出现在右上角的覆盖层.\"},urlInclude:e.playerUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "displayName": "隐藏视频标题层",
        "name": "hideVideoTopMask",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "description": {
          "zh-CN": "隐藏视频里鼠标经过时出现在右上角的覆盖层."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "downloadVideo": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"video/download\"]=t():e[\"video/download\"]=t()}(self,(function(){return function(){var e={228:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".download-video-panel {\\n  background-color: #fff;\\n  color: black;\\n  border-radius: 8px;\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  font-size: 12px;\\n  padding: 6px;\\n  top: 100px;\\n  left: 50%;\\n  transform: translateX(-50%) scale(0.95);\\n  transition: 0.2s ease-out;\\n  z-index: 1000;\\n  width: 320px;\\n  height: calc(100vh - 200px);\\n  display: flex;\\n  flex-direction: column;\\n}\\nbody.dark .download-video-panel {\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);\\n}\\nbody.dark .download-video-panel {\\n  background-color: #282828;\\n  color: #eee;\\n}\\n.download-video-panel.open {\\n  transform: translateX(-50%);\\n}\\n.download-video-panel .be-textbox,\\n.download-video-panel .be-textarea {\\n  flex-grow: 1;\\n}\\n.download-video-panel-header {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  border-bottom: 1px solid rgba(136,136,136,0.13333);\\n  padding: 6px 0;\\n  margin: 0 6px;\\n}\\n.download-video-panel-header .title {\\n  font-size: 16px;\\n  font-weight: bold;\\n  flex-grow: 1;\\n  margin: 0 8px;\\n}\\n.download-video-panel-header .be-button {\\n  padding: 4px;\\n}\\n.download-video-panel-content {\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n  display: flex;\\n  align-items: stretch;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n  flex: 1 0 0;\\n  padding: 12px 6px;\\n  align-items: flex-start;\\n}\\n.download-video-panel-content::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.download-video-panel-content > :not(:first-child) {\\n  margin-top: 12px;\\n}\\n.download-video-panel .download-video-config-item {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.download-video-panel .download-video-config-item .download-video-config-title {\\n  margin-right: 8px;\\n}\\n.download-video-panel .download-video-config-item.error {\\n  color: #E57373;\\n}\\n.download-video-panel .download-video-config-section {\\n  align-self: stretch;\\n}\\n.download-video-panel .download-video-config-description {\\n  opacity: 0.5;\\n  margin-top: 4px;\\n}\\n.download-video-panel-footer {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  border-top: 1px solid rgba(136,136,136,0.13333);\\n  padding: 6px 0;\\n  margin: 0 6px;\\n  justify-content: center;\\n}\\n.download-video-panel .run-download {\\n  font-size: 13px;\\n  padding: 6px 12px;\\n}\",\"\"]),e.exports=i},49:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".episodes-picker-header {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.episodes-picker-checked-ratio {\\n  flex-grow: 1;\\n  margin-left: 4px;\\n}\\n.episodes-picker-actions {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.episodes-picker-actions .be-button {\\n  padding: 4px;\\n}\\n.episodes-picker-actions .be-button.invert-selection .be-icon {\\n  font-size: 14px;\\n}\\n.episodes-picker-actions .be-button.select-all .be-icon, .episodes-picker-actions .be-button.deselect-all .be-icon {\\n  transform: translateY(1px);\\n}\\n.episodes-picker-items {\\n  max-height: 400px;\\n  overflow: auto;\\n}\\n.episodes-picker-items:not(:empty) {\\n  margin-top: 4px;\\n  border: 1px solid rgba(136,136,136,0.26667);\\n  border-radius: 6px;\\n}\\n.episodes-picker-items .be-check-box {\\n  padding: 2px 6px;\\n}\\n.episodes-picker-items .episode-duration {\\n  margin-right: 4px;\\n  text-align: right;\\n  flex: 1 1 0;\\n  opacity: 0.5;\\n}\",\"\"]),e.exports=i},436:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".single-video-info.download-video-config-section {\\n  position: relative;\\n  height: 125px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.single-video-info.download-video-config-section img {\\n  height: 125px;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  border-radius: 8px;\\n}\\n.single-video-info.download-video-config-section img.shadow {\\n  position: absolute;\\n  filter: blur(8px) brightness(0.8);\\n  transform: scaleY(0.95) translateY(4px);\\n  z-index: -1;\\n  opacity: 0.3;\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(i)for(var s=0;s<this.length;s++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[s][0];null!=a&&(o[a]=!0)}for(var d=0;d<e.length;d++){var r=[].concat(e[d]);i&&o[r[0]]||(n&&(r[2]?r[2]=\"\".concat(n,\" and \").concat(r[2]):r[2]=n),t.push(r))}},t}},379:function(e,t,n){\"use strict\";var i,o=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function d(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function r(e,t){for(var n={},i=[],o=0;o<e.length;o++){var s=e[o],r=t.base?s[0]+t.base:s[0],l=n[r]||0,c=\"\".concat(r,\" \").concat(l);n[r]=l+1;var p=d(c),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(a[p].references++,a[p].updater(u)):a.push({identifier:c,updater:v(u,t),references:1}),i.push(c)}return i}function l(e){var t=document.createElement(\"style\"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),\"function\"==typeof e.insert)e.insert(t);else{var a=s(e.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(t)}return t}var c,p=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join(\"\\n\")});function u(e,t,n,i){var o=n?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet)e.styleSheet.cssText=p(t,o);else{var s=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function f(e,t,n){var i=n.css,o=n.media,s=n.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),s&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s)))),\" */\")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,m=0;function v(e,t){var n,i,o;if(t.singleton){var s=m++;n=h||(h=l(t)),i=u.bind(null,n,s,!1),o=u.bind(null,n,s,!0)}else n=l(t),i=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=o());var n=r(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=d(n[i]);a[o].references--}for(var s=r(e,t),l=0;l<n.length;l++){var c=d(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=s}}}},701:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return se}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"VPopup\",{staticClass:\"download-video-panel\",attrs:{fixed:\"\",\"trigger-element\":e.triggerElement},model:{value:e.open,callback:function(t){e.open=t},expression:\"open\"}},[n(\"div\",{staticClass:\"download-video-panel-header\"},[n(\"VIcon\",{attrs:{icon:\"mdi-download\"}}),e._v(\" \"),n(\"div\",{staticClass:\"title\"},[e._v(\"\\n      下载视频\\n    \")]),e._v(\" \"),n(\"VButton\",{attrs:{type:\"transparent\",title:\"关闭\"},on:{click:function(t){e.open=!1}}},[n(\"VIcon\",{attrs:{icon:\"mdi-close\",size:20}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"download-video-panel-content\"},[e.selectedInput?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n        输入源:\\n      \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.inputs},model:{value:e.selectedInput,callback:function(t){e.selectedInput=t},expression:\"selectedInput\"}})],1):e._e(),e._v(\" \"),0===e.inputs.length?n(\"div\",{staticClass:\"download-video-config-item error\"},[e._v(\"\\n      没有匹配的输入源, 请确保安装了适合此页面的插件.\\n    \")]):e._e(),e._v(\" \"),e.selectedInput&&e.selectedInput.component?n(e.selectedInput.component,{ref:\"inputOptions\",tag:\"component\"}):e._e(),e._v(\" \"),e.selectedApi?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n        格式:\\n      \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.apis},model:{value:e.selectedApi,callback:function(t){e.selectedApi=t},expression:\"selectedApi\"}})],1):e._e(),e._v(\" \"),e.selectedApi&&e.selectedApi.description?n(\"div\",{staticClass:\"download-video-config-description\",domProps:{innerHTML:e._s(e.selectedApi.description)}}):e._e(),e._v(\" \"),e.selectedQuality?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n        清晰度:\\n      \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.filteredQualities},on:{change:function(t){return e.saveSelectedQuality()}},model:{value:e.selectedQuality,callback:function(t){e.selectedQuality=t},expression:\"selectedQuality\"}})],1):e._e(),e._v(\" \"),!e.testData.multiple&&e.selectedQuality?[e.testData.videoInfo?n(\"div\",{staticClass:\"download-video-config-description\"},[e._v(\"\\n        预计大小: \"+e._s(e.formatFileSize(e.testData.videoInfo.totalSize))+\"\\n      \")]):e._e(),e._v(\" \"),null===e.testData.videoInfo?n(\"div\",{staticClass:\"download-video-config-description\"},[e._v(\"\\n        正在计算大小\\n      \")]):e._e()]:e._e(),e._v(\" \"),e._l(e.assetsWithOptions,(function(e){return n(e.component,{key:e.name,ref:\"assetsOptions\",refInFor:!0,tag:\"component\",attrs:{name:e.name}})})),e._v(\" \"),e.selectedOutput?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n        输出方式:\\n      \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.outputs},model:{value:e.selectedOutput,callback:function(t){e.selectedOutput=t},expression:\"selectedOutput\"}})],1):e._e(),e._v(\" \"),e.selectedOutput&&e.selectedOutput.description?n(\"div\",{staticClass:\"download-video-config-description\"},[e._v(\"\\n      \"+e._s(e.selectedOutput.description)+\"\\n    \")]):e._e(),e._v(\" \"),e.selectedOutput&&e.selectedOutput.component?n(e.selectedOutput.component,{ref:\"outputOptions\",tag:\"component\"}):e._e()],2),e._v(\" \"),n(\"div\",{staticClass:\"download-video-panel-footer\"},[n(\"VButton\",{staticClass:\"run-download\",attrs:{type:\"primary\",disabled:!e.canStartDownload},on:{click:function(t){return e.startDownload(e.$refs.outputOptions,e.selectedOutput)}}},[e._v(\"\\n      开始\\n    \")])],1)])};i._withStripped=!0;var o=coreApis.settings,s=coreApis.utils,a=n(729),d=coreApis.utils.formatters,r=coreApis.ui,l=coreApis.pluginApis.data,c=coreApis.componentApis.video.videoQuality,p=coreApis.toast,u=coreApis.utils.title,f=coreApis.ajax,h=coreApis.utils.urls,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"episodes-picker download-video-config-section\"},[n(\"div\",{staticClass:\"episodes-picker-header\"},[n(\"div\",{staticClass:\"episodes-picker-title\"},[e._v(\"\\n      选集:\\n    \")]),e._v(\" \"),n(\"div\",{staticClass:\"episodes-picker-checked-ratio\"},[e._v(\"\\n      \"+e._s(e.checkedRatio)+\"\\n    \")]),e._v(\" \"),n(\"div\",{staticClass:\"episodes-picker-actions\"},[n(\"VButton\",{staticClass:\"select-all\",attrs:{title:\"全选\",type:\"transparent\"},on:{click:function(t){e.forEachItem((function(e){return e.isChecked=!0}))}}},[n(\"VIcon\",{attrs:{size:16,icon:\"mdi-checkbox-multiple-marked-circle\"}})],1),e._v(\" \"),n(\"VButton\",{staticClass:\"deselect-all\",attrs:{title:\"全不选\",type:\"transparent\"},on:{click:function(t){e.forEachItem((function(e){return e.isChecked=!1}))}}},[n(\"VIcon\",{attrs:{size:16,icon:\"mdi-checkbox-multiple-blank-circle-outline\"}})],1),e._v(\" \"),n(\"VButton\",{staticClass:\"invert-selection\",attrs:{title:\"反选\",type:\"transparent\"},on:{click:function(t){e.forEachItem((function(e){return e.isChecked=!e.isChecked}))}}},[n(\"VIcon\",{attrs:{size:16,icon:\"mdi-circle-slice-4\"}})],1)],1)]),e._v(\" \"),n(\"div\",{staticClass:\"episodes-picker-items\"},e._l(e.episodeItems,(function(t,i){return n(\"div\",{key:t.key,staticClass:\"episodes-picker-item\"},[n(\"CheckBox\",{attrs:{\"icon-position\":\"left\",\"data-aid\":t.inputItem.aid,\"data-cid\":t.inputItem.cid,\"data-bvid\":t.inputItem.bvid},nativeOn:{click:function(n){return e.shiftSelect(n,t,i)}},model:{value:t.isChecked,callback:function(n){e.$set(t,\"isChecked\",n)},expression:\"item.isChecked\"}},[n(\"span\",{staticClass:\"episode-title\"},[e._v(\"\\n          \"+e._s(t.title)+\"\\n        \")]),e._v(\" \"),t.durationText?n(\"span\",{staticClass:\"episode-duration\"},[e._v(\"\\n          \"+e._s(t.durationText)+\"\\n        \")]):e._e()])],1)})),0)])};m._withStripped=!0;var v=Vue.extend({components:{VButton:r.VButton,VIcon:r.VIcon,CheckBox:r.CheckBox},props:{api:{type:Function,required:!0}},data:()=>({episodeItems:[],maxCheckedItems:32,lastCheckedEpisodeIndex:-1}),computed:{checkedRatio(){return`(${this.episodeItems.filter((e=>e.isChecked)).length}/${this.episodeItems.length})`},inputItems(){return this.episodeItems.map((e=>e.inputItem))},checkedInputItems(){return this.episodeItems.filter((e=>e.isChecked)).map((e=>e.inputItem))}},created(){this.getEpisodeItems()},methods:{shiftSelect(e,t,n){e.shiftKey&&-1!==this.lastCheckedEpisodeIndex?e.shiftKey&&-1!==this.lastCheckedEpisodeIndex&&(this.episodeItems.slice(Math.min(this.lastCheckedEpisodeIndex,n)+1,Math.max(this.lastCheckedEpisodeIndex,n)).forEach((e=>{e.isChecked=!e.isChecked})),this.lastCheckedEpisodeIndex=n,e.preventDefault()):this.lastCheckedEpisodeIndex=n},forEachItem(e){this.episodeItems.forEach(e)},async getEpisodeItems(){this.episodeItems.length>0||(this.episodeItems=await this.api(this))}}}),g=n(379),b=n.n(g),w=n(49),y=n.n(w),x={insert:\"head\",singleton:!1},_=(b()(y(),x),y().locals,n(900)),I=(0,_.Z)(v,m,[],!1,null,null,null);I.options.__file=\"registry/lib/components/video/download/inputs/EpisodesPicker.vue\";var k=I.exports;const C=e=>Vue.extend({computed:{checkedInputItems(){return this.$refs.picker.checkedInputItems}},render:t=>t(k,{props:{api:e},ref:\"picker\"})}),A={name:\"bangumi.batch\",displayName:\"当前番剧 (多P)\",match:h.bangumiUrls,batch:!0,getInputs:async e=>e?.checkedInputItems??[],component:async()=>C((async e=>{const t=document.querySelector(\"meta[property='og:url']\");if(null===t)return(0,a.logError)(\"获取番剧数据失败: 无法找到 Season ID\"),[];const n=t.getAttribute(\"content\")?.match(/play\\/ss(\\d+)/)?.[1];if(void 0===n)return(0,a.logError)(\"获取番剧数据失败: 无法解析 Season ID\"),[];const i=await(0,f.getJson)(`https://api.bilibili.com/pgc/web/season/section?season_id=${n}`);if(0!==i.code)return(0,a.logError)(`获取番剧数据失败: 无法获取番剧集数列表, message=${i.message}`),[];const s=i.result.main_section.episodes;return s.map(((t,n)=>{const i=t.long_title?t.title:(n+1).toString(),a=t.long_title?t.long_title:t.title;return{key:t.cid,title:`${i} - ${a}`,isChecked:n<e.maxCheckedItems,inputItem:{aid:t.aid,cid:t.cid,title:(0,u.formatTitle)((0,o.getGeneralSettings)().batchFilenameFormat,!1,{ep:a,cid:t.cid,aid:t.aid,n:(0,d.formatNumber)(parseFloat(i),s.length)??i}),allowQualityDrop:!0}}}))}))},V={name:\"video.batch\",displayName:\"当前视频 (多P)\",match:h.videoUrls,batch:!0,getInputs:async e=>e?.checkedInputItems??[],component:async()=>C((async e=>{const{aid:t}=unsafeWindow,n=`https://api.bilibili.com/x/web-interface/view?aid=${t}`,i=await(0,f.getJsonWithCredentials)(n);if(0!==i.code)return(0,a.logError)(`获取视频选集列表失败, message = ${i.message}`),[];const{pages:s}=i.data;return void 0===s?((0,a.logError)(\"获取视频选集列表失败, 没有找到选集信息.\"),[]):s.map(((n,i)=>({key:n.cid,title:`P${n.page} ${n.part}`,isChecked:i<e.maxCheckedItems,durationText:(0,d.formatDuration)(n.duration),inputItem:{allowQualityDrop:!0,title:(0,u.formatTitle)((0,o.getGeneralSettings)().batchFilenameFormat,!1,{cid:n.cid,n:(0,d.formatNumber)(n.page,s.length),ep:n.part}),cid:n.cid,aid:t}})))}))},D={name:\"video\",displayName:\"当前视频\",match:h.videoUrls,getInputs:async()=>[{aid:unsafeWindow.aid,cid:unsafeWindow.cid,title:(0,u.getFriendlyTitle)(!0)}],component:()=>Promise.resolve().then(n.bind(n,762)).then((e=>e.default))};var E=coreApis.utils.sort;const S=(e,t)=>{e.quality&&t.currentQuality.value!==e.quality.value&&(e.allowQualityDrop?console.warn(`'${e.title}' 不支持选择的清晰度${e.quality.displayName}, 已降级为${t.currentQuality.displayName}`):(e=>{if(c.vipRequiredQualities.find((t=>t.value===e)))throw new Error(\"您选择的清晰度需要大会员, 请更改清晰度后重试.\");if(c.loginRequiredQualities.find((t=>t.value===e)))throw new Error(\"您选择的清晰度需要先登录.\");throw new Error(\"获取下载链接失败, 请尝试更换清晰度或更换格式.\")})(e.quality.value))};var $=coreApis.download;function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q{constructor(e){O(this,\"input\",void 0),O(this,\"fragments\",void 0),O(this,\"qualities\",void 0),O(this,\"currentQuality\",void 0),O(this,\"jsonData\",void 0),Object.assign(this,e)}get totalSize(){return lodash.sumBy(this.fragments,(e=>e.size))}get totalLength(){return lodash.sumBy(this.fragments,(e=>e.length))}get titledFragments(){return this.fragments.map(((e,t)=>{const n=this.fragments.filter((t=>t.extension===e.extension)).length>1?` - ${(0,d.formatNumber)(t+1,this.fragments.length)}`:\"\";return{...e,title:`${this.input.title}${n}${e.extension}`}}))}}class Q{constructor(e){this.infos=e,O(this,\"inputs\",[]),O(this,\"extraAssets\",[]),this.inputs=e.map((e=>e.input))}get isSingleVideo(){return this.inputs.length<2}async downloadExtraAssets(){console.log(\"[downloadExtraAssets]\",this.extraAssets);const e=`${(0,u.getFriendlyTitle)(!1)}.zip`;await new $.DownloadPackage(this.extraAssets).emit(e)}}const U=e=>`https://api.bilibili.com/x/player/playurl?${e}`,T=e=>`https://api.bilibili.com/pgc/player/web/playurl?${e}`,j={video:\".mp4\",audio:\".m4a\"};let P;!function(e){e.Avc=\"AVC/H.264\",e.Hevc=\"HEVC/H.265\",e.Av1=\"AV1\"}(P||(P={}));const N=e=>({url:e.downloadUrl,backupUrls:e.backupUrls,length:e.duration,size:Math.trunc(e.bandWidth*e.duration/8),extension:j[e.type]??\".m4s\"}),W=async(e,t={})=>{const{codec:n=P.Avc,filters:i}=t,o={video:()=>!0,audio:()=>!0,...i},{aid:a,cid:d,quality:r}=e,l={avid:a,cid:d,qn:r?.value??\"\",otype:\"json\",fourk:1,fnver:0,fnval:4048},p=h.bangumiUrls.some((e=>(0,s.matchUrlPattern)(e)))?T((0,s.formData)(l)):U((0,s.formData)(l)),u=await(0,f.bilibiliApi)((0,f.getJsonWithCredentials)(p),\"获取视频链接失败\");if(!u.dash)throw new Error(\"此视频没有 dash 格式, 请改用其他格式.\");const m=c.allQualities.find((e=>e.value===u.quality)),{duration:v,video:g,audio:b,dolby:w}=u.dash,y=e=>{switch(e){case 12:return P.Hevc;case 13:return P.Av1;default:case 7:return P.Avc}},x=g.filter((e=>e.id===m.value)).map((e=>({type:\"video\",videoCodec:y(e.codecid),quality:m,width:e.width,height:e.height,codecs:e.codecs,codecId:e.codecid,bandWidth:e.bandwidth,frameRate:e.frameRate,backupUrls:(e.backupUrl||e.backup_url||[]).map((e=>e.replace(\"http:\",\"https:\"))),downloadUrl:(e.baseUrl||e.base_url||\"\").replace(\"http:\",\"https:\"),duration:v}))).filter((e=>o.video(e))),_=(b||[]).map((e=>({type:\"audio\",bandWidth:e.bandwidth,codecs:e.codecs,codecId:e.codecid,backupUrls:(e.backupUrl||e.backup_url||[]).map((e=>e.replace(\"http:\",\"https:\"))),downloadUrl:(e.baseUrl||e.base_url||\"\").replace(\"http:\",\"https:\"),duration:v}))).filter((e=>o.audio(e)));w&&_.push(...w.audio?.map((e=>({type:\"audio\",bandWidth:e.bandwidth,codecs:e.codecs,codecId:-1,backupUrls:[],downloadUrl:(e.baseUrl||e.base_url||\"\").replace(\"http:\",\"https:\"),duration:v})))??[]);const I=(e=>{const{videoDashes:t,audioDashes:n,videoCodec:i}=e,o=[];if(0!==t.length){const e=e=>e.videoCodec===i;if(t.some(e)){const n=t.filter(e).sort((0,E.ascendingSort)((e=>e.bandWidth)))[0];o.push(N(n))}else o.push(N(t.sort((0,E.ascendingSort)((e=>e.bandWidth)))[0]))}if(0!==n.length){const e=n.sort((0,E.descendingSort)((e=>e.bandWidth)))[0];o.push(N(e))}return o})({audioDashes:_,videoDashes:x,videoCodec:n}),k=u.accept_quality.map((e=>c.allQualities.find((t=>t.value===e)))).filter((e=>void 0!==e)),C=new q({input:e,jsonData:u,fragments:I,qualities:k,currentQuality:m});return S(e,C),C},z={name:\"video.dash.avc\",displayName:\"dash (AVC/H.264)\",description:\"音画分离的 mp4 格式, 编码为 H.264, 体积较大, 兼容性较好. 下载后可以合并为单个 mp4 文件. 如果视频源没有此编码, 则会自动选择其他同清晰度的编码格式.\",downloadVideoInfo:async e=>W(e,{codec:P.Avc})},B={name:\"video.dash.hevc\",displayName:\"dash (HEVC/H.265)\",description:\"音画分离的 mp4 格式, 编码为 H.265, 体积中等, 兼容性较差. 下载后可以合并为单个 mp4 文件. 如果视频源没有此编码, 则会自动选择其他同清晰度的编码格式.\",downloadVideoInfo:async e=>W(e,{codec:P.Hevc})},F={name:\"video.dash.av1\",displayName:\"dash (AV1)\",description:\"音画分离的 mp4 格式, 编码为 AV1, 体积较小, 兼容性中等. 下载后可以合并为单个 mp4 文件. 如果视频源没有此编码, 则会自动选择其他同清晰度的编码格式.\",downloadVideoInfo:async e=>W(e,{codec:P.Av1})},H={name:\"video.dash.audio\",displayName:\"dash (仅音频)\",description:\"仅下载视频中的音频轨道.\",downloadVideoInfo:async e=>W(e,{filters:{video:()=>!1}})},M=(e,t)=>{const n=e=>t.length>e?t[e]:t[t.length-1];return{fragments:e.durl.map(((e,t)=>({length:e.length,size:e.size,url:e.url,backupUrls:e.backup_url,extension:n(t)}))),qualities:e.accept_quality.map((e=>c.allQualities.find((t=>t.value===e)))).filter((e=>void 0!==e)),currentQuality:c.allQualities.find((t=>t.value===e.quality))}},R={name:\"video.flv\",displayName:\"flv\",description:\"使用 flv 格式下载, 兼容 H.264 编码.\",downloadVideoInfo:e=>(async e=>{const{aid:t,cid:n,quality:i}=e,o={avid:t,cid:n,qn:i?.value??\"\",otype:\"json\",fourk:1,fnver:0,fnval:0},a=h.bangumiUrls.some((e=>(0,s.matchUrlPattern)(e)))?T((0,s.formData)(o)):U((0,s.formData)(o)),d=await(0,f.bilibiliApi)((0,f.getJsonWithCredentials)(a),\"获取视频链接失败\"),r=new q({input:e,jsonData:d,...M(d,[\".flv\"])});return S(e,r),r})(e)},G={name:\"consoleLogDemo\",displayName:\"Toast\",description:\"弹一条消息显示出下载链接, 右键新标签页打开就可以下载. 链接有 referer 限制, 复制无用, 且不能保留视频文件名.\",runAction:async e=>{const t=e.infos.flatMap((e=>e.titledFragments)),n=t.map((e=>e.url)).join(\"\\n\");p.Toast.show(t.map((e=>`<a class=\"link\" href=\"${e.url}\" download=\"${e.title}\">${e.title}</a>`)).join(\"\\n\"),\"下载视频\"),console.log(n),console.log(e)}},[L]=(0,l.registerAndGetData)(\"downloadVideo.inputs\",[D,V,A]),[J]=(0,l.registerAndGetData)(\"downloadVideo.apis\",[R,z,B,F,H]),[Z]=(0,l.registerAndGetData)(\"downloadVideo.assets\",[]),[X]=(0,l.registerAndGetData)(\"downloadVideo.outputs\",[G]),{basicConfig:Y}=(0,o.getComponentSettings)(\"downloadVideo\").options,K=e=>e.filter((e=>e.match?.some((e=>(0,s.matchUrlPattern)(e)))??!0));var ee=Vue.extend({components:{VPopup:r.VPopup,VButton:r.VButton,VDropdown:r.VDropdown,VIcon:r.VIcon},props:{triggerElement:{required:!0}},data(){const e=Y.output;return{open:!1,busy:!1,testData:{videoInfo:null,multiple:!1},assets:Z,qualities:[],selectedQuality:void 0,inputs:[],selectedInput:void 0,apis:[],selectedApi:void 0,outputs:X,selectedOutput:X.find((t=>t.name===e))||X[0]}},computed:{assetsWithOptions(){return this.assets.filter((e=>e.component))},filteredQualities(){return 0===this.qualities.length?c.allQualities:this.qualities},canStartDownload(){if(this.busy||!this.open)return!1;return!Object.entries(this).filter((([e])=>e.startsWith(\"selected\"))).some((([,e])=>!e))}},watch:{selectedInput(e){void 0!==e&&this.updateTestVideoInfo()},selectedApi(e){void 0!==e&&(this.updateTestVideoInfo(),Y.api=e.name)},selectedOutput(e){void 0!==e&&(Y.output=e.name)}},mounted(){coreApis.observer.videoChange((()=>{this.selectedInput=void 0,this.selectedApi=void 0;const e=K(L);this.inputs=e,this.selectedInput=e[0];const t=K(J);this.apis=t;const n=t.find((e=>e.name===Y.api));this.selectedApi=n||t[0]}))},methods:{formatFileSize:d.formatFileSize,saveSelectedQuality(){const e=this.selectedQuality;void 0!==e&&(Y.quality=e.value,this.updateTestVideoInfo())},async getVideoItems(){const e=this.selectedInput;return await e.getInputs(this.$refs.inputOptions)},async updateTestVideoInfo(){if(!this.selectedInput||!this.selectedApi)return;this.testData.videoInfo=null;const e=this.selectedInput,t=e.getTestInput?.()??{aid:unsafeWindow.aid,cid:unsafeWindow.cid,title:(0,u.getFriendlyTitle)(!0)};console.log(\"[updateTestVideoInfo]\",t),this.testData.multiple=e.batch;const n=this.selectedApi;try{const e=await n.downloadVideoInfo(t);this.qualities=e.qualities;if((!this.selectedQuality||!e.qualities.some((e=>e.value===this.selectedQuality.value)))&&(this.selectedQuality=e.qualities[0],Y.quality)){const[t]=e.qualities.filter((e=>e.value<=Y.quality));t&&(this.selectedQuality=t)}t.quality=this.selectedQuality;const i=await n.downloadVideoInfo(t);this.testData.videoInfo=i}catch(e){this.testData.videoInfo=void 0}},async startDownload(e,t){try{this.busy=!0;const n=this.selectedInput,i=this.selectedApi,o=await n.getInputs(this.$refs.inputOptions);if(0===o.length)return void p.Toast.info(\"未接收到视频, 如果输入源支持批量, 请至少选择一个视频.\",\"下载视频\",3e3);o.forEach((e=>{e.quality=this.selectedQuality}));const s=await Promise.all(o.map((e=>i.downloadVideoInfo(e))));if(0===s.length||0===lodash.sumBy(s,(e=>e.fragments.length)))return void p.Toast.info(\"未接收到可下载数据, 请检查输入源和格式是否适用于当前视频.\",\"下载视频\",3e3);const a=new Q(s),d=(await Promise.all(Z.map((e=>e.getAssets(s,this.$refs.assetsOptions.find((t=>t.$attrs.name===e.name))))))).flat();a.extraAssets.push(...d),await a.downloadExtraAssets(),await t.runAction(a,e)}catch(e){(0,a.logError)(e)}finally{this.busy=!1}}}}),te=n(228),ne=n.n(te),ie={insert:\"head\",singleton:!1},oe=(b()(ne(),ie),ne().locals,(0,_.Z)(ee,i,[],!1,null,null,null));oe.options.__file=\"registry/lib/components/video/download/DownloadVideo.vue\";var se=oe.exports},272:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return d}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"multiple-widgets\"},[n(\"DefaultWidget\",{ref:\"button\",attrs:{name:\"下载视频\",icon:\"mdi-download\"},on:{mouseover:function(t){return e.createDownloadPanel()},click:function(t){return e.toggleDownloadPanel()}}})],1)};let o;i._withStripped=!0;var s=Vue.extend({components:{DefaultWidget:coreApis.ui.DefaultWidget},methods:{async createDownloadPanel(){if(!o){const e=document.createElement(\"div\");document.body.appendChild(e);const t=await Promise.resolve().then(n.bind(n,701)).then((e=>e.default));o=new t({propsData:{triggerElement:this.$refs.button}}).$mount(e)}},async toggleDownloadPanel(){o&&(o.open=!o.open)}}}),a=(0,n(900).Z)(s,i,[],!1,null,null,null);a.options.__file=\"registry/lib/components/video/download/Widget.vue\";var d=a.exports},762:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return h}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"single-video-info download-video-config-section\"},[e.imageUrl?n(\"img\",{staticClass:\"shadow\",attrs:{src:e.imageUrl}}):e._e(),e._v(\" \"),e.imageUrl?n(\"img\",{attrs:{src:e.imageUrl}}):e._e()])};i._withStripped=!0;var o=coreApis.observer,s=n(729),a=coreApis.componentApis.video.videoInfo,d=Vue.extend({data:()=>({imageUrl:\"\"}),created(){(0,o.videoChange)((async()=>{const{aid:e}=unsafeWindow,t=new a.VideoInfo(e);try{await t.fetchInfo()}catch(e){throw(0,s.logError)(e),e}this.imageUrl=t.coverUrl.replace(\"http:\",\"https:\")}))}}),r=n(379),l=n.n(r),c=n(436),p=n.n(c),u={insert:\"head\",singleton:!1},f=(l()(p(),u),p().locals,(0,n(900).Z)(d,i,[],!1,null,null,null));f.options.__file=\"registry/lib/components/video/download/inputs/video/SingleVideoInfo.vue\";var h=f.exports},900:function(e,t,n){\"use strict\";function i(e,t,n,i,o,s,a,d){var r,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId=\"data-v-\"+s),a?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=r):o&&(r=d?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),r)if(l.functional){l._injectStyles=r;var c=l.render;l.render=function(e,t){return r.call(t),c(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,r):[r]}return{exports:e,options:l}}n.d(t,{Z:function(){return i}})},729:function(e){\"use strict\";e.exports=coreApis.utils.log}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";n.d(i,{component:function(){return t}});var e=coreApis.spinQuery;const t={name:\"downloadVideo\",displayName:\"下载视频\",description:\"在功能面板中添加下载视频支持. 请注意不能下载超出账号权限的视频, 例如非大会员下载大会员清晰度视频, 或者大陆地区网络下载港澳台地区番剧, 都是不可以的.\",entry:none,reload:none,unload:none,widget:{component:()=>Promise.resolve().then(n.bind(n,272)).then((e=>e.default)),condition:()=>(0,e.hasVideo)()},tags:[componentsTags.video],options:{basicConfig:{defaultValue:{},displayName:\"基础配置\",hidden:!0}},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "downloadVideo",
        "displayName": "下载视频",
        "description": "在功能面板中添加下载视频支持. 请注意不能下载超出账号权限的视频, 例如非大会员下载大会员清晰度视频, 或者大陆地区网络下载港澳台地区番剧, 都是不可以的.",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "options": {
          "basicConfig": {
            "defaultValue": {},
            "displayName": "基础配置",
            "hidden": true
          }
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {
          "basicConfig": {
            "api": "video.flv"
          }
        }
      }
    },
    "downloadSubtitle": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"video/subtitle/download\"]=e():t[\"video/subtitle/download\"]=e()}(self,(function(){return function(){var t,e,n={229:function(t,e,n){\"use strict\";n.d(e,{mE:function(){return a}});var o=coreApis.ajax,i=n(141),r=n(129);const a=async(t,e={...lodash.pick(unsafeWindow,\"aid\",\"cid\"),title:(0,r.getFriendlyTitle)(!0)})=>{const{aid:a,cid:s}=e;if(!a||!s)throw new Error(\"未找到视频AID和CID\");const c=await(async(t,e)=>{const{VideoInfo:o}=await Promise.resolve().then(n.t.bind(n,705,23)),i=new o(t);return i.cid=\"string\"==typeof e?parseInt(e):e,await i.fetchInfo(),i.subtitles})(a,s);if(0===c.length)return i.Toast.info(\"当前视频没有字幕.\",\"下载字幕\",3e3),null;const[l,u]=await(async()=>{const{SubtitleConverter:t,SubtitleSize:e,SubtitleLocation:o}=await Promise.resolve().then(n.bind(n,532)),{playerAgent:i}=await Promise.resolve().then(n.t.bind(n,730,23)),a=localStorage.getItem(\"bilibili_player_settings\");if(!a)return[t.defaultConfig,\"\"];const s=JSON.parse(a).subtitle,c=s.lan,l=(0,r.getFriendlyTitle)(!0),u={.6:e.VerySmall,.8:e.Small,1:e.Medium,1.3:e.Large,1.6:e.VeryLarge}[s.fontsize],d=s.color.toString(16),f=s.backgroundopacity,p={bc:o.BottomCenter,bl:o.BottomLeft,br:o.BottomRight,tc:o.TopCenter,tl:o.TopLeft,tr:o.TopRight}[s.position],g=i.query.video.element.sync();return[{title:l,height:g.videoHeight,width:g.videoWidth,color:d,location:p,opacity:f,size:u,boxPadding:1,boxMargin:32},c]})(),d=c.find((t=>t.language===u))||c[0],f=(await(0,o.getJson)(d.url)).body;switch(t){case\"ass\":{const{SubtitleConverter:t}=await Promise.resolve().then(n.bind(n,532)),o=new t({...l,title:e.title}),i=await o.convertToAss(f);return new Blob([i],{type:\"text/ass\"})}default:case\"json\":return new Blob([JSON.stringify(f)],{type:\"text/json\"})}}},532:function(t,e,n){\"use strict\";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,{SubtitleLocation:function(){return i},SubtitleSize:function(){return r},SubtitleConverter:function(){return a}});const i={TopLeft:7,TopCenter:8,TopRight:9,BottomLeft:1,BottomCenter:2,BottomRight:3};let r;!function(t){t[t.VerySmall=1]=\"VerySmall\",t[t.Small=2]=\"Small\",t[t.Medium=3]=\"Medium\",t[t.Large=4]=\"Large\",t[t.VeryLarge=5]=\"VeryLarge\"}(r||(r={}));class a{constructor(t){o(this,\"config\",void 0),this.config=Object.assign(a.defaultConfig,t)}async getAssMeta(){const{convertHexColorForStyle:t}=await Promise.resolve().then(n.t.bind(n,740,23)),e=t(this.config.color),o=t(\"#000000\",this.config.opacity),r=[],a=(10*(this.config.size-3)+48)*this.config.height/720;console.log(a);for(const[t,n]of Object.entries(i))r.push(`Style: ${t},微软雅黑,${a},${e},${e},${o},${o},0,0,0,0,100,100,0,0,3,${this.config.boxPadding},0,${n},${this.config.boxMargin},${this.config.boxMargin},${this.config.boxMargin},0`);return`\\n[Script Info]\\n; Script generated by Bilibili Evolved Danmaku Converter\\n; https://github.com/the1812/Bilibili-Evolved/\\nTitle: ${this.config.title}\\nScriptType: v4.00+\\nPlayResX: ${this.config.width}\\nPlayResY: ${this.config.height}\\nTimer: 10.0000\\nWrapStyle: 0\\nScaledBorderAndShadow: no\\n\\n[V4+ Styles]\\nFormat: Name, Fontname, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\\n${r.join(\"\\n\")}\\n\\n[Events]\\nFormat: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text`.trim()}async convertToAss(t){const{convertTimeByEndTime:e,normalizeContent:o}=await Promise.resolve().then(n.t.bind(n,740,23));return`${await this.getAssMeta()}\\n${t.map((t=>{const[n,r]=e(t.from,t.to);var a;return`Dialogue: 0,${n},${r},${a=this.config.location,Object.entries(i).filter((([,t])=>t===a)).map((([t])=>t)).shift()},,0,0,0,,${o(t.content)}`})).join(\"\\n\")}`}}o(a,\"defaultConfig\",void 0),a.defaultConfig={title:\"\",color:\"#ffffff\",width:1920,height:1080,size:r.Medium,opacity:.5,location:i.BottomCenter,boxPadding:1,boxMargin:32}},940:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,\".download-subtitle-config.download-video-config-section .be-dropdown {\\n  text-transform: uppercase;\\n}\",\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var i={};if(o)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[r][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&i[c[0]]||(n&&(c[2]?c[2]=\"\".concat(n,\" and \").concat(c[2]):c[2]=n),e.push(c))}},e}},379:function(t,e,n){\"use strict\";var o,i=function(){return void 0===o&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\no=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],i=0;i<t.length;i++){var r=t[i],c=e.base?r[0]+e.base:r[0],l=n[c]||0,u=\"\".concat(c,\" \").concat(l);n[c]=l+1;var d=s(u),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:m(f,e),references:1}),o.push(u)}return o}function l(t){var e=document.createElement(\"style\"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),\"function\"==typeof t.insert)t.insert(e);else{var a=r(t.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join(\"\\n\")});function f(t,e,n,o){var i=n?\"\":o.media?\"@media \".concat(o.media,\" {\").concat(o.css,\"}\"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute(\"media\",i):t.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var g=null,v=0;function m(t,e){var n,o,i;if(e.singleton){var r=v++;n=g||(g=l(e)),o=f.bind(null,n,r,!1),i=f.bind(null,n,r,!0)}else n=l(e),o=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||\"boolean\"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],\"[object Array]\"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=s(n[o]);a[i].references--}for(var r=c(t,e),l=0;l<n.length;l++){var u=s(n[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=r}}}},969:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return p}});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"multiple-widgets\"},[n(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载字幕 (JSON)\",icon:\"subtitle\"},on:{click:function(e){return t.download(\"json\")}}}),t._v(\" \"),n(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载字幕 (ASS)\",icon:\"subtitle\"},on:{click:function(e){return t.download(\"ass\")}}})],1)};o._withStripped=!0;var i=coreApis.pluginApis.data,r=n(643),a=coreApis.utils.log,s=n(129),c=coreApis.download,l=n(229),u=n(942);(0,i.addData)(\"ui.icons\",(t=>{t.subtitle=u}));var d=Vue.extend({components:{DefaultWidget:r.DefaultWidget},data:()=>({disabled:!1}),methods:{async download(t){try{this.disabled=!0;const e=await(0,l.mE)(t);c.DownloadPackage.single(`${(0,s.getFriendlyTitle)(!0)}.${t}`,e)}catch(t){(0,a.logError)(t)}finally{this.disabled=!1}}}}),f=(0,n(900).Z)(d,o,[],!1,null,null,null);f.options.__file=\"registry/lib/components/video/subtitle/download/DownloadSubtitle.vue\";var p=f.exports},217:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return g}});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"download-subtitle-config download-video-config-section\"},[n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[t._v(\"\\n      字幕:\\n    \")]),t._v(\" \"),n(\"VDropdown\",{attrs:{items:t.items},scopedSlots:t._u([{key:\"item\",fn:function(e){var n=e.item;return[t._v(\"\\n        \"+t._s(n)+\"\\n      \")]}}]),model:{value:t.type,callback:function(e){t.type=e},expression:\"type\"}})],1)])};o._withStripped=!0;var i=coreApis.settings,r=n(643);const a=(0,i.getComponentSettings)(\"downloadVideo\").options;var s=Vue.extend({components:{VDropdown:r.VDropdown},data:()=>({type:a.subtitleType??\"无\",items:[\"无\",\"ass\",\"json\"]}),computed:{enabled(){return\"无\"!==this.type}},watch:{type(t){a.subtitleType=t}}}),c=n(379),l=n.n(c),u=n(940),d=n.n(u),f={insert:\"head\",singleton:!1},p=(l()(d(),f),d().locals,(0,n(900).Z)(s,o,[],!1,null,null,null));p.options.__file=\"registry/lib/components/video/subtitle/download/Plugin.vue\";var g=p.exports},900:function(t,e,n){\"use strict\";function o(t,e,n,o,i,r,a,s){var c,l=\"function\"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),r&&(l._scopeId=\"data-v-\"+r),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):i&&(c=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,{Z:function(){return o}})},942:function(t){\"use strict\";t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22 22\"><path d=\"M4 4h14a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2zm5 5.5a1 1 0 100-2H6a2 2 0 00-2 2v3a2 2 0 002 2h3a1 1 0 000-2H7a1 1 0 01-1-1v-1a1 1 0 011-1h2zm8 0a1 1 0 000-2h-3a2 2 0 00-2 2v3a2 2 0 002 2h3a1 1 0 000-2h-2a1 1 0 01-1-1v-1a1 1 0 011-1h2z\" fill-rule=\"evenodd\"/></svg>'},740:function(t){\"use strict\";t.exports=coreApis.componentApis.video.assUtils},730:function(t){\"use strict\";t.exports=coreApis.componentApis.video.playerAgent},705:function(t){\"use strict\";t.exports=coreApis.componentApis.video.videoInfo},141:function(t){\"use strict\";t.exports=coreApis.toast},643:function(t){\"use strict\";t.exports=coreApis.ui},129:function(t){\"use strict\";t.exports=coreApis.utils.title}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={id:t,exports:{}};return n[t](r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var r=Object.create(null);i.r(r);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&o&&n;\"object\"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return n[t]}}));return a.default=function(){return n},i.d(r,a),r},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";i.d(r,{component:function(){return a}});var t=coreApis.spinQuery,e=i(141),n=coreApis.utils.urls,o=i(229);const a={name:\"downloadSubtitle\",displayName:\"下载字幕\",description:{\"zh-CN\":\"启用下载字幕支持, 在视频页面中可从功能面板里下载字幕.\"},tags:[componentsTags.video],entry:none,urlInclude:n.videoUrls,widget:{condition:t.hasVideo,component:()=>Promise.resolve().then(i.bind(i,969)).then((t=>t.default))},plugin:{displayName:\"下载视频 - 下载字幕支持\",setup:({addData:t})=>{t(\"downloadVideo.assets\",(async t=>{t.push({name:\"downloadSubtitles\",displayName:\"下载字幕\",getAssets:async(t,n)=>{const{type:i,enabled:r}=n;if(!r)return[];const a=e.Toast.info(\"获取字幕中...\",\"下载字幕\");let s=0;const c=await Promise.allSettled(t.map((async e=>{const n=await(0,o.mE)(i,e.input);return s++,a.message=`获取字幕中... (${s}/${t.length})`,{name:`${e.input.title}.${i}`,data:n}}))),l=c.filter((t=>\"fulfilled\"===t.status)),u=c.filter((t=>\"rejected\"===t.status));return a.message=`获取完成. 成功 ${l.length} 个, 失败 ${u.length} 个.`,l.map((t=>t.value))},component:()=>Promise.resolve().then(i.bind(i,217)).then((t=>t.default))})}))}},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "downloadSubtitle",
        "displayName": "下载字幕",
        "description": {
          "zh-CN": "启用下载字幕支持, 在视频页面中可从功能面板里下载字幕."
        },
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "downloadDanmaku": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"video/danmaku/download\"]=e():t[\"video/danmaku/download\"]=e()}(self,(function(){return function(){var t={78:function(t,e,i){\"use strict\";i.r(e),i.d(e,{decodeDanmakuSegment:function(){return a},decodeDanmakuView:function(){return s},proto:function(){return o}});var n=coreApis.runtimeLibrary;const o={nested:{DmWebViewReply:{fields:{state:{type:\"int32\",id:1},text:{type:\"string\",id:2},textSide:{type:\"string\",id:3},dmSge:{type:\"DmSegConfig\",id:4},flag:{type:\"DanmakuFlagConfig\",id:5},specialDms:{rule:\"repeated\",type:\"string\",id:6},checkBox:{type:\"bool\",id:7},count:{type:\"int64\",id:8},commandDms:{rule:\"repeated\",type:\"CommandDm\",id:9},dmSetting:{type:\"DanmuWebPlayerConfig\",id:10}}},CommandDm:{fields:{id:{type:\"int64\",id:1},oid:{type:\"int64\",id:2},mid:{type:\"int64\",id:3},command:{type:\"string\",id:4},content:{type:\"string\",id:5},progress:{type:\"int32\",id:6},ctime:{type:\"string\",id:7},mtime:{type:\"string\",id:8},extra:{type:\"string\",id:9},idStr:{type:\"string\",id:10}}},DmSegConfig:{fields:{pageSize:{type:\"int64\",id:1},total:{type:\"int64\",id:2}}},DanmakuFlagConfig:{fields:{recFlag:{type:\"int32\",id:1},recText:{type:\"string\",id:2},recSwitch:{type:\"int32\",id:3}}},DmSegMobileReply:{fields:{elems:{rule:\"repeated\",type:\"DanmakuElem\",id:1}}},DanmakuElem:{fields:{id:{type:\"int64\",id:1},progress:{type:\"int32\",id:2},mode:{type:\"int32\",id:3},fontsize:{type:\"int32\",id:4},color:{type:\"uint32\",id:5},midHash:{type:\"string\",id:6},content:{type:\"string\",id:7},ctime:{type:\"int64\",id:8},weight:{type:\"int32\",id:9},action:{type:\"string\",id:10},pool:{type:\"int32\",id:11},idStr:{type:\"string\",id:12},attr:{type:\"int32\",id:13}}},DanmuWebPlayerConfig:{fields:{dmSwitch:{type:\"bool\",id:1},aiSwitch:{type:\"bool\",id:2},aiLevel:{type:\"int32\",id:3},blocktop:{type:\"bool\",id:4},blockscroll:{type:\"bool\",id:5},blockbottom:{type:\"bool\",id:6},blockcolor:{type:\"bool\",id:7},blockspecial:{type:\"bool\",id:8},preventshade:{type:\"bool\",id:9},dmask:{type:\"bool\",id:10},opacity:{type:\"float\",id:11},dmarea:{type:\"int32\",id:12},speedplus:{type:\"float\",id:13},fontsize:{type:\"float\",id:14},screensync:{type:\"bool\",id:15},speedsync:{type:\"bool\",id:16},fontfamily:{type:\"string\",id:17},bold:{type:\"bool\",id:18},fontborder:{type:\"int32\",id:19},drawType:{type:\"string\",id:20}}}}},r=lodash.curry((async(t,e)=>{const i=new Uint8Array(\"arrayBuffer\"in Blob.prototype?await e.arrayBuffer():await new Response(e).arrayBuffer()),r=(await n.protobufLibrary).Root.fromJSON(o).lookupType(t),a=r.decode(i);return r.toObject(a)})),a=r(\"DmSegMobileReply\"),s=r(\"DmWebViewReply\")},448:function(t,e,i){\"use strict\";i.r(e),i.d(e,{JsonDanmaku:function(){return T},convertToAss:function(){return $},convertToAssFromJson:function(){return F},convertToXmlFromJson:function(){return D},getBlobByType:function(){return H},getUserDanmakuConfig:function(){return x}});var n=coreApis.utils.lazyPanel,o=i(729),r=coreApis.utils.sort,a=i(129),s=coreApis.componentApis.video.assUtils;function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class c{constructor({content:t,time:e,type:i,fontSize:n,color:o}){l(this,\"content\",void 0),l(this,\"time\",void 0),l(this,\"startTime\",void 0),l(this,\"type\",void 0),l(this,\"fontSize\",void 0),l(this,\"color\",void 0),this.content=t,this.time=e,this.startTime=parseFloat(e),this.type=parseInt(i),this.fontSize=parseFloat(n),this.color=parseInt(o)}}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class u extends c{constructor({content:t,time:e,type:i,fontSize:n,color:o,typeTag:r,colorTag:a,endTime:s}){super({content:t,time:e,type:i,fontSize:n,color:o}),d(this,\"typeTag\",void 0),d(this,\"colorTag\",void 0),d(this,\"endTime\",void 0),this.typeTag=r,this.colorTag=a,this.endTime=s}text(t){let e=t[this.fontSize];e||(e=t[25]);const i=e.match(/Style:(.*?),/)[1].trim();return`Dialogue: 0,${this.time},${this.endTime},${i},,0,0,0,,{${this.typeTag}${this.colorTag}}${this.content}`}}class p{constructor(t,e,i,n,o){d(this,\"danmakus\",void 0),d(this,\"title\",void 0),d(this,\"fontStyles\",void 0),d(this,\"blockTypes\",void 0),d(this,\"resolution\",void 0),this.danmakus=t,this.title=e,this.fontStyles=i,this.blockTypes=n,this.resolution=o}generateAss(){return`${`\\n[Script Info]\\n; Script generated by Bilibili Evolved Danmaku Converter\\n; https://github.com/the1812/Bilibili-Evolved/\\nTitle: ${this.title}\\nScriptType: v4.00+\\nPlayResX: ${this.resolution.x}\\nPlayResY: ${this.resolution.y}\\nTimer: 10.0000\\nWrapStyle: 2\\nScaledBorderAndShadow: no\\n\\n[V4+ Styles]\\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\\n${Object.values(this.fontStyles).join(\"\\n\")}\\n\\n[Events]\\nFormat: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text\\n                `.trim()}\\n${this.danmakus.map((t=>t.text(this.fontStyles))).filter((t=>\"\"!==t)).join(\"\\n\")}`}}var h=coreApis.componentApis.video.xmlUtils;function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class f extends c{constructor({content:t,time:e,type:i,fontSize:n,color:o,timeStamp:r,pool:a,userHash:s,rowId:l}){super({content:t,time:e,type:i,fontSize:n,color:o}),m(this,\"timeStamp\",void 0),m(this,\"pool\",void 0),m(this,\"userHash\",void 0),m(this,\"rowId\",void 0),m(this,\"pDataArray\",void 0),this.timeStamp=parseInt(r),this.pool=parseInt(a),this.userHash=s,this.rowId=parseInt(l),this.pDataArray=[e,i,n,o,r,a,s,l]}text(){return`<d p=\"${this.pDataArray.join(\",\")}\">${(0,h.escapeContent)(this.content)}</d>`}static parse(t){const e=t.getAttribute(\"p\"),[i,n,o,r,a,s,l,c]=e.split(\",\"),d=t.innerHTML;return new f({content:d,time:i,type:n,fontSize:o,color:r,timeStamp:a,pool:s,userHash:l,rowId:c})}}class g{constructor(t){m(this,\"xml\",void 0),m(this,\"danmakus\",void 0),this.xml=t;const e=(new DOMParser).parseFromString(t,\"application/xml\").documentElement;this.danmakus=[...e.querySelectorAll(\"d[p]\")].map((t=>f.parse(t)))}}var y=coreApis.utils;let v;function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(t){t[t.Normal=1]=\"Normal\",t[t.Normal2=2]=\"Normal2\",t[t.Normal3=3]=\"Normal3\",t[t.Bottom=4]=\"Bottom\",t[t.Top=5]=\"Top\",t[t.Reversed=6]=\"Reversed\",t[t.Special=7]=\"Special\",t[t.Special2=8]=\"Special2\"}(v||(v={}));class k{constructor(t,e,i,n){b(this,\"horizontalStack\",void 0),b(this,\"horizontalTrack\",void 0),b(this,\"verticalStack\",void 0),b(this,\"verticalTrack\",void 0),b(this,\"resolution\",void 0),b(this,\"duration\",void 0),b(this,\"canvas\",void 0),b(this,\"context\",void 0),b(this,\"fontSizes\",void 0),b(this,\"bottomMarginPercent\",void 0),b(this,\"danmakuHeight\",void 0),b(this,\"trackHeight\",void 0),b(this,\"trackCount\",void 0),this.horizontalStack=[],this.horizontalTrack=[],this.verticalStack=[],this.verticalTrack=[],this.resolution=e,this.duration=i,this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.fontSizes={30:`64px ${t}`,25:`52px ${t}`,18:`36px ${t}`,45:`90px ${t}`},this.bottomMarginPercent=n,this.generateTracks()}generateTracks(){this.danmakuHeight=52,this.trackHeight=2*k.margin+52,this.trackCount=parseInt((0,y.fixed)(this.resolution.y*(1-this.bottomMarginPercent)/this.trackHeight,0))}getTextSize(t){this.context.font=this.fontSizes[t.fontSize];return[this.context.measureText(t.content).width/2,this.danmakuHeight/2]}getTags(t,{targetTrack:e,initTrackNumber:i,nextTrackNumber:n,willOverlay:o,getTrackItem:r,getTag:a}){const[s,l]=this.getTextSize(t),c=2*s,d=this.duration(t)*c/(this.resolution.x+c)+k.nextDanmakuDelay;let u=i,p=null;const h=t=>o(t,u,c);do{p=e.find(h),u+=n}while(p&&u<=this.trackCount&&u>=0);return u>this.trackCount||u<0?\"\\\\pos(0,-999)\":(u-=n,e.push(r(u,c,d)),a({trackNumber:u,x:s,y:l}))}getHorizontalTags(t){return this.getTags(t,{targetTrack:this.horizontalTrack,initTrackNumber:0,nextTrackNumber:1,willOverlay:(e,i,n)=>e.trackNumber===i&&(e.width<n?this.duration(t)*this.resolution.x/(this.resolution.x+n)<=e.end-t.startTime:e.visible>t.startTime),getTrackItem:(e,i,n)=>({width:i,start:t.startTime,visible:t.startTime+n,end:t.startTime+this.duration(t),trackNumber:e}),getTag:({trackNumber:e,x:i,y:n})=>`\\\\move(${this.resolution.x+i},${e*this.trackHeight+k.margin+n},${-i},${e*this.trackHeight+k.margin+n},0,${1e3*this.duration(t)})`})}getVerticalTags(t){const e=\"top\"===k.danmakuType[t.type];return this.getTags(t,{targetTrack:this.verticalTrack,initTrackNumber:e?0:this.trackCount-1,nextTrackNumber:e?1:-1,willOverlay:(e,i)=>e.trackNumber===i&&e.end>t.startTime,getTrackItem:e=>({start:t.startTime,end:t.startTime+this.duration(t),trackNumber:e}),getTag:({trackNumber:t,y:i})=>e?`\\\\pos(${this.resolution.x/2},${t*this.trackHeight+k.margin+i})`:`\\\\pos(${this.resolution.x/2},${this.resolution.y-k.margin-i-(this.trackCount-1-t)*this.trackHeight})`})}push(t){let e=\"\",i=[];switch(k.danmakuType[t.type]){case\"normal\":case\"reversed\":e=this.getHorizontalTags(t),i=this.horizontalStack;break;case\"top\":case\"bottom\":e=this.getVerticalTags(t),i=this.verticalStack;break;case\"special\":default:return{tags:\"\\\\pos(0,-999)\"}}const n={tags:e};return i.push(n),n}}function w(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}b(k,\"danmakuType\",{[v.Normal]:\"normal\",[v.Normal2]:\"normal\",[v.Normal3]:\"normal\",[v.Bottom]:\"bottom\",[v.Top]:\"top\",[v.Reversed]:\"reversed\",[v.Special]:\"special\",[v.Special2]:\"special\"}),b(k,\"margin\",4),b(k,\"nextDanmakuDelay\",.05);class S{constructor({title:t,font:e,alpha:i,duration:n,blockTypes:o,blockFilter:r,resolution:a,bottomMarginPercent:s,bold:l}){w(this,\"title\",void 0),w(this,\"font\",void 0),w(this,\"alpha\",void 0),w(this,\"duration\",void 0),w(this,\"blockTypes\",void 0),w(this,\"blockFilter\",void 0),w(this,\"resolution\",void 0),w(this,\"bold\",void 0),w(this,\"danmakuStack\",void 0),this.title=t,this.font=e,this.alpha=Math.round(255*i).toString(16).toUpperCase().padStart(2,\"0\"),this.duration=n,this.blockTypes=o,this.blockFilter=r||(()=>!0),this.resolution=a,this.bold=l,this.danmakuStack=new k(e,a,n,s)}get fontStyles(){return{36:`Style: Larger,${this.font},72,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,30:`Style: Large,${this.font},64,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,25:`Style: Medium,${this.font},52,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,18:`Style: Small,${this.font},36,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,45:`Style: ExtraLarge,${this.font},90,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`}}xmlDanmakuToAssDocument(t){const e=[];for(const i of t){const t=-1!==this.blockTypes.indexOf(i.type),n=-1!==this.blockTypes.indexOf(\"color\")&&i.color!==S.white;if(t||n)continue;if(!this.blockFilter(i))continue;const[o,r]=(0,s.convertTimeByDuration)(i.startTime,this.duration(i));e.push(new u({content:(0,s.normalizeContent)(i.content),time:o,endTime:r,type:i.type.valueOf().toString(),fontSize:i.fontSize.toString(),color:i.color.toString(),typeTag:this.convertType(i),colorTag:(0,s.convertHexColorForDialogue)(i.color.toString(16))}))}return new p(e,this.title,this.fontStyles,this.blockTypes,this.resolution)}xmlStringToAssDocument(t){const e=new g(t);return this.xmlDanmakuToAssDocument(e.danmakus.sort((0,r.ascendingSort)((t=>t.startTime))))}convertType(t){return this.danmakuStack.push(t).tags}}w(S,\"white\",16777215);class T{constructor(t,e){var i,n,o;this.aid=t,this.cid=e,o=[],(n=\"jsonDanmakus\")in(i=this)?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o}get xmlDanmakus(){return this.jsonDanmakus.map((t=>({content:t.content,time:t.progress?(t.progress/1e3).toString():\"0\",type:t.mode?.toString()??\"1\",fontSize:t.fontsize?.toString()??\"25\",color:t.color?.toString()??\"16777215\",timeStamp:t.ctime?.toString()??\"0\",pool:t.pool?.toString()??\"0\",userHash:t.midHash??\"0\",rowId:t.idStr??\"0\"})))}async fetchInfo(){const{decodeDanmakuSegment:t,decodeDanmakuView:e}=await Promise.resolve().then(i.bind(i,78)),n=async t=>(await fetch(t)).blob(),a=await n(`https://api.bilibili.com/x/v2/dm/web/view?type=1&oid=${this.cid}&pid=${this.aid}`);if(!a)throw new Error(\"获取弹幕信息失败\");const s=await e(a),{total:l}=s.dmSge;if(void 0===l)throw new Error(`获取弹幕分页数失败: ${JSON.stringify(lodash.omit(s,\"flag\"))}`);console.log(\"segment count =\",l);const c=await Promise.all(new Array(l).fill(0).map((async(e,i)=>{const r=await n(`https://api.bilibili.com/x/v2/dm/web/seg.so?type=1&oid=${this.cid}&pid=${this.aid}&segment_index=${i+1}`);if(!r)return(0,o.logError)(new Error(`弹幕片段${i+1}下载失败`)),[];console.log(`received blob for segment ${i+1}`,r);return(await t(r)).elems??[]})));return this.jsonDanmakus=c.flat().sort((0,r.ascendingSort)((t=>t.progress))),this}}const x=async()=>{const t=(0,a.getFriendlyTitle)(),e={font:\"微软雅黑\",alpha:.4,duration:t=>{switch(t.type){case 4:case 5:return 4;default:return 6}},blockTypes:[7,8],resolution:{x:1920,y:1080},bottomMarginPercent:.15,bold:!1};let i={...e,title:t};try{await(0,n.loadDanmakuSettingsPanel)();const t=localStorage.getItem(\"bilibili_player_settings\");if(t){const e=JSON.parse(t),n=(t,i)=>lodash.get(e,`setting_config.${t}`,i);i.blockTypes=(()=>{const t=[],i={scroll:[1,2,3],top:[5],bottom:[4],color:[\"color\"]};for(const[n,o]of Object.entries(i))!1===lodash.get(e,`block.type_${n}`,!0)&&t.push(...o);return t.concat(7,8)})(),i.bold=n(\"bold\",!1),i.alpha=lodash.clamp(1-parseFloat(n(\"opacity\",\"0.4\")),0,1);const o=1.4-.4*n(\"fontsize\",1);i.resolution={x:Math.round(1920*o),y:Math.round(1080*o)},i.duration=(()=>{const t=18-3*n(\"speedplus\",0);return e=>{switch(e.type){case 4:case 5:return 4;default:return t}}})();const r=n(\"danmakuArea\",0);i.bottomMarginPercent=r>=100?0:r/100,0===i.bottomMarginPercent&&n(\"preventshade\",!1)&&(i.bottomMarginPercent=.15);const a=lodash.get(e,\"block.list\",[]);i.blockFilter=t=>{for(const e of a)if(e.s)switch(e.t){default:return!0;case\"keyword\":if(t.content.includes(e.v))return!1;break;case\"regexp\":if(new RegExp(e.v).test(t.content))return!1;break;case\"user\":if(t.userHash===e.v)return!1}return!0}}else console.warn(\"[弹幕转换] 未找到播放器设置\"),i={...i,...e};i.font=dq(\".bilibili-player-video-danmaku-setting-right-font .bui-select-result\").innerText}catch(t){(0,o.logError)(t),i={...i,...e}}for(const[t,n]of Object.entries(i))null==n&&(console.warn(\"danmaku config invalid for key\",t,\", value =\",n),i[t]=e[n]);return console.log(i),i},$=async t=>new S(await x()).xmlStringToAssDocument(t).generateAss(),F=async t=>new S(await x()).xmlDanmakuToAssDocument(t.xmlDanmakus.map((t=>new f(t)))).generateAss(),D=t=>`\\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><i><chatserver>chat.bilibili.com</chatserver><chatid>${t.cid}</chatid><mission>0</mission><maxlimit>${t.xmlDanmakus.length}</maxlimit><state>0</state><real_name>0</real_name><source>k-v</source>\\n${t.xmlDanmakus.map((t=>new f(t).text())).join(\"\\n\")}\\n</i>\\n  `.trim(),H=async(t,e=unsafeWindow)=>{const{aid:i,cid:n}=e,o=await new T(i,n).fetchInfo();switch(t){case\"xml\":return new Blob([D(o)],{type:\"text/xml\"});default:case\"json\":return new Blob([JSON.stringify(o.jsonDanmakus)],{type:\"text/json\"});case\"ass\":return new Blob([await F(o)],{type:\"text/ass\"})}}},311:function(t,e,i){var n=i(645)((function(t){return t[1]}));n.push([t.id,\".download-danmaku-config.download-video-config-section .be-dropdown {\\n  text-transform: uppercase;\\n}\",\"\"]),t.exports=n},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(i,\"}\"):i})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,i,n){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var o={};if(n)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&o[l[0]]||(i&&(l[2]?l[2]=\"\".concat(i,\" and \").concat(l[2]):l[2]=i),e.push(l))}},e}},379:function(t,e,i){\"use strict\";var n,o=function(){return void 0===n&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\nn=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function s(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},n=[],o=0;o<t.length;o++){var r=t[o],l=e.base?r[0]+e.base:r[0],c=i[l]||0,d=\"\".concat(l,\" \").concat(c);i[l]=c+1;var u=s(d),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(a[u].references++,a[u].updater(p)):a.push({identifier:d,updater:g(p,e),references:1}),n.push(d)}return n}function c(t){var e=document.createElement(\"style\"),n=t.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),\"function\"==typeof t.insert)t.insert(e);else{var a=r(t.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join(\"\\n\")});function p(t,e,i,n){var o=i?\"\":n.media?\"@media \".concat(n.media,\" {\").concat(n.css,\"}\"):n.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function h(t,e,i){var n=i.css,o=i.media,r=i.sourceMap;if(o?t.setAttribute(\"media\",o):t.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(n+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var m=null,f=0;function g(t,e){var i,n,o;if(e.singleton){var r=f++;i=m||(m=c(e)),n=p.bind(null,i,r,!1),o=p.bind(null,i,r,!0)}else i=c(e),n=h.bind(null,i,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||\"boolean\"==typeof e.singleton||(e.singleton=o());var i=l(t=t||[],e);return function(t){if(t=t||[],\"[object Array]\"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var o=s(i[n]);a[o].references--}for(var r=l(t,e),c=0;c<i.length;c++){var d=s(i[c]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}i=r}}}},274:function(t,e,i){\"use strict\";i.r(e),i.d(e,{default:function(){return h}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"multiple-widgets\"},[i(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载弹幕 (XML)\",icon:\"danmaku\"},on:{click:function(e){return t.download(\"xml\")}}}),t._v(\" \"),i(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载弹幕 (JSON)\",icon:\"danmaku\"},on:{click:function(e){return t.download(\"json\")}}}),t._v(\" \"),i(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载弹幕 (ASS)\",icon:\"danmaku\"},on:{click:function(e){return t.download(\"ass\")}}})],1)};n._withStripped=!0;var o=coreApis.download,r=i(729),a=i(129),s=coreApis.pluginApis.data,l=i(643),c=i(574),d=i(448);(0,s.addData)(\"ui.icons\",(t=>{t.danmaku=c}));var u=Vue.extend({components:{DefaultWidget:l.DefaultWidget},data:()=>({disabled:!1}),methods:{async download(t){try{this.disabled=!0;const e=(0,a.getFriendlyTitle)(),i=await(0,d.getBlobByType)(t);await o.DownloadPackage.single(`${e}.${t}`,i)}catch(t){(0,r.logError)(t)}finally{this.disabled=!1}}}}),p=(0,i(900).Z)(u,n,[],!1,null,null,null);p.options.__file=\"registry/lib/components/video/danmaku/download/DownloadDanmaku.vue\";var h=p.exports},998:function(t,e,i){\"use strict\";i.r(e),i.d(e,{default:function(){return m}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"download-danmaku-config download-video-config-section\"},[i(\"div\",{staticClass:\"download-video-config-item\"},[i(\"div\",{staticClass:\"download-video-config-title\"},[t._v(\"\\n      弹幕:\\n    \")]),t._v(\" \"),i(\"VDropdown\",{attrs:{items:t.items},scopedSlots:t._u([{key:\"item\",fn:function(e){var i=e.item;return[t._v(\"\\n        \"+t._s(i)+\"\\n      \")]}}]),model:{value:t.type,callback:function(e){t.type=e},expression:\"type\"}})],1)])};n._withStripped=!0;var o=coreApis.settings,r=i(643);const a=(0,o.getComponentSettings)(\"downloadVideo\").options;var s=Vue.extend({components:{VDropdown:r.VDropdown},data:()=>({type:a.danmakuType??\"无\",items:[\"无\",\"ass\",\"json\",\"xml\"]}),computed:{enabled(){return\"无\"!==this.type}},watch:{type(t){a.danmakuType=t}}}),l=i(379),c=i.n(l),d=i(311),u=i.n(d),p={insert:\"head\",singleton:!1},h=(c()(u(),p),u().locals,(0,i(900).Z)(s,n,[],!1,null,null,null));h.options.__file=\"registry/lib/components/video/danmaku/download/Plugin.vue\";var m=h.exports},900:function(t,e,i){\"use strict\";function n(t,e,i,n,o,r,a,s){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=\"data-v-\"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}i.d(e,{Z:function(){return n}})},574:function(t){\"use strict\";t.exports='<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\"  viewBox=\"0 0 24 24\"><path d=\"M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h4h5.9H20c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M5,7h8v2H5V7z M7,17H5v-2h2V17z M6.3,13v-2H18v2H6.3z M19,17H9v-2h10V17z M19,9h-4.1V7H19V9z\"/></svg>'},643:function(t){\"use strict\";t.exports=coreApis.ui},729:function(t){\"use strict\";t.exports=coreApis.utils.log},129:function(t){\"use strict\";t.exports=coreApis.utils.title}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={id:n,exports:{}};return t[n](r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};return function(){\"use strict\";i.d(n,{component:function(){return r}});var t=coreApis.spinQuery,e=coreApis.toast,o=coreApis.utils.urls;const r={name:\"downloadDanmaku\",displayName:\"下载弹幕\",description:{\"zh-CN\":\"启用下载弹幕支持, 在视频和番剧页面中可从功能面板里下载弹幕. 请注意 ASS 弹幕下载不会包含高级弹幕, 字幕弹幕等.\"},tags:[componentsTags.video],entry:none,reload:none,unload:none,plugin:{displayName:\"下载视频 - 下载弹幕支持\",setup:({addData:t})=>{t(\"downloadVideo.assets\",(async t=>{const{getBlobByType:n}=await Promise.resolve().then(i.bind(i,448));t.push({name:\"downloadDanmaku\",displayName:\"下载弹幕\",getAssets:async(t,i)=>{const{type:o,enabled:r}=i;if(!r)return[];const a=e.Toast.info(\"获取弹幕中...\",\"下载弹幕\");let s=0;const l=await Promise.allSettled(t.map((async e=>{const i=await n(o,e.input);return s++,a.message=`获取弹幕中... (${s}/${t.length})`,{name:`${e.input.title}.${o}`,data:i}}))),c=l.filter((t=>\"fulfilled\"===t.status)),d=l.filter((t=>\"rejected\"===t.status));return a.message=`获取完成. 成功 ${c.length} 个, 失败 ${d.length} 个.`,c.map((t=>t.value))},component:()=>Promise.resolve().then(i.bind(i,998)).then((t=>t.default))})}))}},urlInclude:o.videoAndBangumiUrls,widget:{condition:t.hasVideo,component:()=>Promise.resolve().then(i.bind(i,274)).then((t=>t.default))},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),n=n.component}()}));",
      "metadata": {
        "name": "downloadDanmaku",
        "displayName": "下载弹幕",
        "description": {
          "zh-CN": "启用下载弹幕支持, 在视频和番剧页面中可从功能面板里下载弹幕. 请注意 ASS 弹幕下载不会包含高级弹幕, 字幕弹幕等."
        },
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "downloadAudio": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/download-audio\"]=t():e[\"utils/download-audio\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,o={875:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)(\"DefaultWidget\",{attrs:{disabled:e.disabled||e.downloading,name:e.progress||\"下载音频\",icon:\"mdi-download\"},on:{click:function(t){return e.download()}}})};n._withStripped=!0;var r=coreApis.spinQuery,i=coreApis.observer,s=coreApis.download,d=coreApis.ui;function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l{constructor(){a(this,\"progress\",null),a(this,\"sid\",void 0)}async getDownloadUrl(){const{getJsonWithCredentials:e}=await Promise.resolve().then(o.t.bind(o,663,23)),{Toast:t}=await Promise.resolve().then(o.t.bind(o,141,23)),n=`https://www.bilibili.com/audio/music-service-c/web/url?sid=${this.sid}&privilege=2&quality=2`,r=await e(n);return 0!==r.code?(t.error(\"获取下载链接失败, 请确保当前账号有下载权限.\",\"下载音频\",1e4),null):r.data.cdns.shift()}async download(){const e=await this.getDownloadUrl();return new Promise(((t,o)=>{const n=new XMLHttpRequest;n.open(\"GET\",e),n.responseType=\"blob\",n.addEventListener(\"load\",(()=>t(n.response))),n.addEventListener(\"error\",(()=>o(n.status))),n.addEventListener(\"progress\",(e=>this.progress?.(100*e.loaded/e.total))),n.send()}))}}var u=function(e,t,o,n,r,i,s,d){var a,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=o,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=\"data-v-\"+i),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=a):r&&(a=d?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),a)if(l.functional){l._injectStyles=a;var u=l.render;l.render=function(e,t){return a.call(t),u(e,t)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,a):[a]}return{exports:e,options:l}}(Vue.extend({components:{DefaultWidget:d.DefaultWidget},data:()=>({progress:\"\",disabled:!0,downloader:new l,downloading:!1}),async mounted(){const e=await(0,r.select)(\"#app\"),t=this.downloader;t.progress=e=>{this.progress=`${Math.round(e)}%`},(0,i.childList)(e,(()=>{const e=document.URL.match(/bilibili\\.com\\/audio\\/au([\\d]+)/);e&&e[1]?(this.disabled=!1,[,t.sid]=e):this.disabled=!0}))},methods:{async download(){if(!this.downloading){this.downloading=!0;try{const e=this.downloader;if(null===e.sid)return;const t=await e.download(),o=`${(()=>{const e=document.querySelector(\".song-title\");return e?e.getAttribute(\"title\"):\"神秘音频\"})()}.mp3`;this.progress=\"\",await s.DownloadPackage.single(o,t)}finally{this.downloading=!1}}}}}),n,[],!1,null,null,null);u.options.__file=\"registry/lib/components/utils/download-audio/DownloadAudio.vue\";var c=u.exports},663:function(e){e.exports=coreApis.ajax},141:function(e){e.exports=coreApis.toast}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return o[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if(\"object\"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&\"function\"==typeof o.then)return o}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var d=2&n&&o;\"object\"==typeof d&&!~e.indexOf(d);d=t(d))Object.getOwnPropertyNames(d).forEach((function(e){s[e]=function(){return o[e]}}));return s.default=function(){return o},r.d(i,s),i},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){r.d(i,{component:function(){return e}});const e={name:\"downloadAudio\",displayName:\"下载音频\",entry:none,tags:[componentsTags.utils],description:{\"zh-CN\":\"\\n开启音频下载支持, 音频页面中可以在功能面板中下载当前音频.\\n\\n> 需要进入音频的详细信息页面才能下载, 在其他页面中此按钮将不可点击.\\n    \".trim()},widget:{component:()=>Promise.resolve().then(r.bind(r,875)).then((e=>e.default))},urlInclude:[\"//www.bilibili.com/audio/\"],commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "downloadAudio",
        "displayName": "下载音频",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "开启音频下载支持, 音频页面中可以在功能面板中下载当前音频.\n\n> 需要进入音频的详细信息页面才能下载, 在其他页面中此按钮将不可点击."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "downloadLiveRecords": {
      "code": "!function(e,o){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define([],o):\"object\"==typeof exports?exports[\"live/download-records\"]=o():e[\"live/download-records\"]=o()}(self,(function(){return function(){\"use strict\";var e={420:function(e,o,t){t.r(o),t.d(o,{default:function(){return l}});var n=function(){var e=this,o=e.$createElement;return(e._self._c||o)(\"DefaultWidget\",{staticClass:\"download-live-records\",attrs:{disabled:e.disabled,name:\"下载录像\",icon:\"mdi-download\"},on:{click:function(o){return e.download()}}})};n._withStripped=!0;var r=coreApis.ui,i=coreApis.ajax,s=coreApis.toast,d=coreApis.utils.log;var a=function(e,o,t,n,r,i,s,d){var a,l=\"function\"==typeof e?e.options:e;if(o&&(l.render=o,l.staticRenderFns=t,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=\"data-v-\"+i),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=a):r&&(a=d?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),a)if(l.functional){l._injectStyles=a;var c=l.render;l.render=function(e,o){return a.call(o),c(e,o)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,a):[a]}return{exports:e,options:l}}(Vue.extend({components:{DefaultWidget:r.DefaultWidget},data:()=>({disabled:!1}),methods:{async download(){try{this.disabled=!0;const e=document.URL.replace(window.location.search,\"\").match(/^https:\\/\\/live\\.bilibili\\.com\\/record\\/(.+)/);if(!e)return void(0,d.logError)(new Error(`获取录像ID失败: ${document.URL}`));const o=e[1],t=await(0,i.getJson)(`https://api.live.bilibili.com/xlive/web-room/v1/record/getLiveRecordUrl?rid=${o}&platform=html5`);if(0!==t.code)return void(0,d.logError)(new Error(`获取录像链接失败: ${t.message}`));const n=t.data.list.map((e=>e.url));s.Toast.success(n.map((e=>`<a class=\"download-link\" target=\"_blank\" href=\"${e}\">${e}</a>`)).join(\"\\n\"),\"下载录像\")}finally{this.disabled=!1}}}}),n,[],!1,null,null,null);a.options.__file=\"registry/lib/components/live/download-records/DownloadRecords.vue\";var l=a.exports}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var n={};return function(){t.d(n,{component:function(){return e}});const e={name:\"downloadLiveRecords\",displayName:\"直播录像下载\",description:{\"zh-CN\":\"在直播录像页面 `live.bilibili.com/record/` 中添加下载支持.\"},tags:[componentsTags.live],entry:none,widget:{component:()=>Promise.resolve().then(t.bind(t,420)).then((e=>e.default))},urlInclude:[/^https:\\/\\/live\\.bilibili\\.com\\/record\\/(.+)/],commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),n=n.component}()}));",
      "metadata": {
        "name": "downloadLiveRecords",
        "displayName": "直播录像下载",
        "description": {
          "zh-CN": "在直播录像页面 `live.bilibili.com/record/` 中添加下载支持."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "elegantScrollbar": {
      "code": "!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"style/scrollbar\"]=n():t[\"style/scrollbar\"]=n()}(self,(function(){return function(){var t,n,e={518:function(t,n,e){var r=e(645)((function(t){return t[1]}));r.push([t.id,\"html ::-webkit-scrollbar {\\n  width: 5px !important;\\n  height: 5px !important;\\n}\\nhtml ::-webkit-scrollbar-corner,\\nhtml ::-webkit-scrollbar-track {\\n  background: transparent !important;\\n}\\nhtml ::-webkit-resizer,\\nhtml ::-webkit-scrollbar-thumb {\\n  background: #aaa;\\n  border-radius: 3px;\\n}\\nhtml ::-webkit-scrollbar-thumb:hover {\\n  background: #888;\\n}\\nhtml,\\nhtml * {\\n  scrollbar-color: #aaa transparent;\\n  scrollbar-width: thin !important;\\n}\",\"\"]),t.exports=r},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(t,e,r){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var o={};if(r)for(var a=0;a<this.length;a++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[a][0];null!=c&&(o[c]=!0)}for(var i=0;i<t.length;i++){var u=[].concat(t[i]);r&&o[u[0]]||(e&&(u[2]?u[2]=\"\".concat(e,\" and \").concat(u[2]):u[2]=e),n.push(u))}},n}},110:function(t,n,e){var r=e(518);r&&r.__esModule&&(r=r.default),t.exports=\"string\"==typeof r?r:r.toString()}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={id:t,exports:{}};return e[t](a,a.exports,o),a.exports}n=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if(\"object\"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&\"function\"==typeof e.then)return e}var a=Object.create(null);o.r(a);var c={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;\"object\"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((function(t){c[t]=function(){return e[t]}}));return c.default=function(){return e},o.d(a,c),a},o.d=function(t,n){for(var e in n)o.o(n,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var a={};return function(){\"use strict\";o.d(a,{component:function(){return t}});const t={name:\"elegantScrollbar\",entry:none,displayName:\"使用细滚动条\",description:\"使用浏览器的滚动条风格替代系统的滚动条, 不过 macOS 系统滚动条比浏览器做得好一些, 因此不建议 macOS 使用此功能.\",tags:[componentsTags.style,componentsTags.general],instantStyles:[{name:\"elegant-scrollbar\",style:()=>Promise.resolve().then(o.t.bind(o,110,23))}],commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),a=a.component}()}));",
      "metadata": {
        "name": "elegantScrollbar",
        "displayName": "使用细滚动条",
        "description": "使用浏览器的滚动条风格替代系统的滚动条, 不过 macOS 系统滚动条比浏览器做得好一些, 因此不建议 macOS 使用此功能.",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "general",
            "displayName": "通用",
            "color": "#888",
            "icon": "mdi-progress-wrench",
            "order": 8
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "columnUnlock": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/column-unlock\"]=t():e[\"utils/column-unlock\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,o={163:function(e){e.exports=coreApis.style}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var c=n[e]={exports:{}};return o[e](c,c.exports,r),c.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if(\"object\"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&\"function\"==typeof o.then)return o}var c=Object.create(null);r.r(c);var u={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&o;\"object\"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){u[e]=function(){return o[e]}}));return u.default=function(){return o},r.d(c,u),c},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var c={};return function(){r.d(c,{component:function(){return u}});let e=!1,t=!0;const o=\"column-unlock\",n=async()=>{t=!0;const{addStyle:n}=await Promise.resolve().then(r.t.bind(r,163,23));n(\".article-holder { user-select: text !important }\",o),e||(e=!0,document.addEventListener(\"copy\",(e=>{t&&e.stopImmediatePropagation()}),{capture:!0}))},u={name:\"columnUnlock\",displayName:\"专栏文字选择\",entry:n,reload:n,unload:async()=>{document.getElementById(o)?.remove(),t=!1},tags:[componentsTags.utils],description:{\"zh-CN\":\"使专栏的文字可以选择.\"},urlInclude:[\"//www.bilibili.com/read/\"],commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),c=c.component}()}));",
      "metadata": {
        "name": "columnUnlock",
        "displayName": "专栏文字选择",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "使专栏的文字可以选择."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "urlParamsClean": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/url-params-clean\"]=t():e[\"utils/url-params-clean\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,r={270:function(e){e.exports=coreApis.lifeCycle},156:function(e){e.exports=coreApis.observer}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return r[e](i,i.exports,n),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if(\"object\"==typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&\"function\"==typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;\"object\"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(i,a),i},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){n.d(i,{component:function(){return r}});var e=coreApis.pluginApis.data,t=coreApis.utils;const r={name:\"urlParamsClean\",displayName:\"网址参数清理\",entry:async()=>{if((0,t.isNotHtml)())return;const[r]=(0,e.registerAndGetData)(\"urlParamsClean.noClean\",[\"videocard_series\"]),[o]=(0,e.registerAndGetData)(\"urlParamsClean.params\",[\"spm_id_from\",\"from_source\",\"from_spmid\",\"from\",\"seid\",\"share_source\",\"share_medium\",\"share_plat\",\"share_tag\",\"share_session_id\",\"bbid\",\"ts\",\"timestamp\",\"unique_k\",\"rt\",\"tdsourcetag\",\"accept_quality\",\"broadcast_type\",\"current_qn\",\"current_quality\",\"playurl_h264\",\"playurl_h265\",\"quality_description\",\"network\",\"network_status\",\"platform_network_status\",\"p2p_type\",\"referfrom\",\"visit_id\",\"bsource\",\"spm\",\"hotRank\",\"-Arouter\"]),[i]=(0,e.registerAndGetData)(\"urlParamsClean.siteSpecifiedParams\",[{match:/\\/\\/www\\.bilibili\\.com\\/audio\\/(au[\\d]+|mycollection)/,param:\"type\"},{match:/\\/\\/live\\.bilibili\\.com\\//,param:\"session_id\"},{match:/\\/\\/www\\.bilibili\\.com\\/bangumi\\//,param:\"theme\"}]),[a]=(0,e.registerAndGetData)(\"urlParamsClean.tailingSlash\",[]),{fullyLoaded:s}=await Promise.resolve().then(n.t.bind(n,270,23)),{urlChange:c}=await Promise.resolve().then(n.t.bind(n,156,23));s((()=>{c((()=>(()=>{const e=window.location.search.substring(1).split(\"&\");if(e.some((e=>r.some((t=>e.includes(t))))))return;const n=e.filter((e=>!o.some((t=>e.startsWith(`${t}=`)))&&!i.some((({match:t,param:r})=>document.URL.match(t)&&e.startsWith(`${r}=`))))).join(\"&\");let s=document.URL.replace(window.location.search,\"\");a.forEach((({match:e})=>{(0,t.matchPattern)(s,e)&&s.endsWith(\"/\")&&(s=s.slice(0,s.length-1))}));const c=s+(n?`?${n}`:\"\");c!==document.URL&&(console.log(\"[URL params clean]\",document.URL,c),window.history.replaceState({},document.title,c))})()))}))},description:{\"zh-CN\":\"自动删除网址中的多余跟踪参数. 请注意这会导致浏览器历史记录出现重复的标题 (分别是转换前后的网址).\"},tags:[componentsTags.utils],urlExclude:[/game\\.bilibili\\.com\\/fgo/,/live\\.bilibili\\.com\\/p\\/html\\/live-app-hotrank\\//],commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "urlParamsClean",
        "displayName": "网址参数清理",
        "description": {
          "zh-CN": "自动删除网址中的多余跟踪参数. 请注意这会导致浏览器历史记录出现重复的标题 (分别是转换前后的网址)."
        },
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "customNavbar": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"style/custom-navbar\"]=e():t[\"style/custom-navbar\"]=e()}(self,(function(){return function(){var t,e,n={12:function(t,e,n){\"use strict\";n.d(e,{kO:function(){return pt},rm:function(){return ct},Je:function(){return lt}});var i=n(407);function a(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function r(t){if(\"[object Window]\"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function o(t){var e=r(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function s(t){return t instanceof r(t).Element||t instanceof Element}function c(t){return t instanceof r(t).HTMLElement||t instanceof HTMLElement}function l(t){return t?(t.nodeName||\"\").toLowerCase():null}function p(t){return((s(t)?t.ownerDocument:t.document)||window.document).documentElement}function d(t){return a(p(t)).left+o(t).scrollLeft}function u(t){return r(t).getComputedStyle(t)}function m(t){var e=u(t),n=e.overflow,i=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+i)}function f(t,e,n){void 0===n&&(n=!1);var i,s,u=p(e),f=a(t),h=c(e),v={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(h||!h&&!n)&&((\"body\"!==l(e)||m(u))&&(v=(i=e)!==r(i)&&c(i)?{scrollLeft:(s=i).scrollLeft,scrollTop:s.scrollTop}:o(i)),c(e)?((b=a(e)).x+=e.clientLeft,b.y+=e.clientTop):u&&(b.x=d(u))),{x:f.left+v.scrollLeft-b.x,y:f.top+v.scrollTop-b.y,width:f.width,height:f.height}}function h(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function v(t){return\"html\"===l(t)?t:t.assignedSlot||t.parentNode||t.host||p(t)}function b(t){return[\"html\",\"body\",\"#document\"].indexOf(l(t))>=0?t.ownerDocument.body:c(t)&&m(t)?t:b(v(t))}function g(t,e){void 0===e&&(e=[]);var n=b(t),i=\"body\"===l(n),a=r(n),o=i?[a].concat(a.visualViewport||[],m(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(g(v(o)))}function x(t){return[\"table\",\"td\",\"th\"].indexOf(l(t))>=0}function y(t){if(!c(t)||\"fixed\"===u(t).position)return null;var e=t.offsetParent;if(e){var n=p(e);if(\"body\"===l(e)&&\"static\"===u(e).position&&\"static\"!==u(n).position)return n}return e}function w(t){for(var e=r(t),n=y(t);n&&x(n)&&\"static\"===u(n).position;)n=y(n);return n&&\"body\"===l(n)&&\"static\"===u(n).position?e:n||function(t){for(var e=v(t);c(e)&&[\"html\",\"body\"].indexOf(l(e))<0;){var n=u(e);if(\"none\"!==n.transform||\"none\"!==n.perspective||n.willChange&&\"auto\"!==n.willChange)return e;e=e.parentNode}return null}(t)||e}var _=\"top\",C=\"bottom\",k=\"right\",S=\"left\",V=\"auto\",N=[_,C,k,S],I=\"start\",P=\"end\",L=\"viewport\",O=\"popper\",z=N.reduce((function(t,e){return t.concat([e+\"-\"+I,e+\"-\"+P])}),[]),j=[].concat(N,[V]).reduce((function(t,e){return t.concat([e,e+\"-\"+I,e+\"-\"+P])}),[]),$=[\"beforeRead\",\"read\",\"afterRead\",\"beforeMain\",\"main\",\"afterMain\",\"beforeWrite\",\"write\",\"afterWrite\"];function E(t){var e=new Map,n=new Set,i=[];function a(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&a(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||a(t)})),i}var T={placement:\"bottom\",modifiers:[],strategy:\"absolute\"};function D(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&\"function\"==typeof t.getBoundingClientRect)}))}function M(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,a=e.defaultOptions,r=void 0===a?T:a;return function(t,e,n){void 0===n&&(n=r);var a,o,c={placement:\"bottom\",orderedModifiers:[],options:Object.assign(Object.assign({},T),r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],p=!1,d={state:c,setOptions:function(n){u(),c.options=Object.assign(Object.assign(Object.assign({},r),c.options),n),c.scrollParents={reference:s(t)?g(t):t.contextElement?g(t.contextElement):[],popper:g(e)};var a=function(t){var e=E(t);return $.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign(Object.assign(Object.assign({},n),e),{},{options:Object.assign(Object.assign({},n.options),e.options),data:Object.assign(Object.assign({},n.data),e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(i,c.options.modifiers)));return c.orderedModifiers=a.filter((function(t){return t.enabled})),c.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,a=t.effect;if(\"function\"==typeof a){var r=a({state:c,name:e,instance:d,options:i}),o=function(){};l.push(r||o)}})),d.update()},forceUpdate:function(){if(!p){var t=c.elements,e=t.reference,n=t.popper;if(D(e,n)){c.rects={reference:f(e,w(n),\"fixed\"===c.options.strategy),popper:h(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(t){return c.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<c.orderedModifiers.length;i++)if(!0!==c.reset){var a=c.orderedModifiers[i],r=a.fn,o=a.options,s=void 0===o?{}:o,l=a.name;\"function\"==typeof r&&(c=r({state:c,options:s,name:l,instance:d})||c)}else c.reset=!1,i=-1}}},update:(a=function(){return new Promise((function(t){d.forceUpdate(),t(c)}))},function(){return o||(o=new Promise((function(t){Promise.resolve().then((function(){o=void 0,t(a())}))}))),o}),destroy:function(){u(),p=!0}};if(!D(t,e))return d;function u(){l.forEach((function(t){return t()})),l=[]}return d.setOptions(n).then((function(t){!p&&n.onFirstUpdate&&n.onFirstUpdate(t)})),d}}var A={passive:!0};// eslint-disable-next-line import/no-unused-modules\nfunction B(t){return t.split(\"-\")[0]}function U(t){return t.split(\"-\")[1]}function F(t){return[\"top\",\"bottom\"].indexOf(t)>=0?\"x\":\"y\"}function R(t){var e,n=t.reference,i=t.element,a=t.placement,r=a?B(a):null,o=a?U(a):null,s=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2;switch(r){case _:e={x:s,y:n.y-i.height};break;case C:e={x:s,y:n.y+n.height};break;case k:e={x:n.x+n.width,y:c};break;case S:e={x:n.x-i.width,y:c};break;default:e={x:n.x,y:n.y}}var l=r?F(r):null;if(null!=l){var p=\"y\"===l?\"height\":\"width\";switch(o){case I:e[l]=e[l]-(n[p]/2-i[p]/2);break;case P:e[l]=e[l]+(n[p]/2-i[p]/2)}}return e}// eslint-disable-next-line import/no-unused-modules\nvar W={top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\"};function q(t){var e,n=t.popper,i=t.popperRect,a=t.placement,o=t.offsets,s=t.position,c=t.gpuAcceleration,l=t.adaptive,d=t.roundOffsets?function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:Math.round(e*i)/i||0,y:Math.round(n*i)/i||0}}(o):o,u=d.x,m=void 0===u?0:u,f=d.y,h=void 0===f?0:f,v=o.hasOwnProperty(\"x\"),b=o.hasOwnProperty(\"y\"),g=S,x=_,y=window;if(l){var V=w(n);V===r(n)&&(V=p(n)),a===_&&(x=C,h-=V.clientHeight-i.height,h*=c?1:-1),a===S&&(g=k,m-=V.clientWidth-i.width,m*=c?1:-1)}var N,I=Object.assign({position:s},l&&W);return c?Object.assign(Object.assign({},I),{},((N={})[x]=b?\"0\":\"\",N[g]=v?\"0\":\"\",N.transform=(y.devicePixelRatio||1)<2?\"translate(\"+m+\"px, \"+h+\"px)\":\"translate3d(\"+m+\"px, \"+h+\"px, 0)\",N)):Object.assign(Object.assign({},I),{},((e={})[x]=b?h+\"px\":\"\",e[g]=v?m+\"px\":\"\",e.transform=\"\",e))}// eslint-disable-next-line import/no-unused-modules\nvar Z={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function H(t){return t.replace(/left|right|bottom|top/g,(function(t){return Z[t]}))}var J={start:\"end\",end:\"start\"};function Y(t){return t.replace(/start|end/g,(function(t){return J[t]}))}function X(t,e){var n,i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&((n=i)instanceof r(n).ShadowRoot||n instanceof ShadowRoot)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function G(t){return Object.assign(Object.assign({},t),{},{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Q(t,e){return e===L?G(function(t){var e=r(t),n=p(t),i=e.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,c=0;return i&&(a=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,c=i.offsetTop)),{width:a,height:o,x:s+d(t),y:c}}(t)):c(e)?function(t){var e=a(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):G(function(t){var e=p(t),n=o(t),i=t.ownerDocument.body,a=Math.max(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=Math.max(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+d(t),c=-n.scrollTop;return\"rtl\"===u(i||e).direction&&(s+=Math.max(e.clientWidth,i?i.clientWidth:0)-a),{width:a,height:r,x:s,y:c}}(p(t)))}function K(t,e,n){var i=\"clippingParents\"===e?function(t){var e=g(v(t)),n=[\"absolute\",\"fixed\"].indexOf(u(t).position)>=0&&c(t)?w(t):t;return s(n)?e.filter((function(t){return s(t)&&X(t,n)&&\"body\"!==l(t)})):[]}(t):[].concat(e),a=[].concat(i,[n]),r=a[0],o=a.reduce((function(e,n){var i=Q(t,n);return e.top=Math.max(i.top,e.top),e.right=Math.min(i.right,e.right),e.bottom=Math.min(i.bottom,e.bottom),e.left=Math.max(i.left,e.left),e}),Q(t,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function tt(t){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),t)}function et(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}\n// eslint-disable-next-line import/no-unused-modules\nfunction nt(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=void 0===i?t.placement:i,o=n.boundary,c=void 0===o?\"clippingParents\":o,l=n.rootBoundary,d=void 0===l?L:l,u=n.elementContext,m=void 0===u?O:u,f=n.altBoundary,h=void 0!==f&&f,v=n.padding,b=void 0===v?0:v,g=tt(\"number\"!=typeof b?b:et(b,N)),x=m===O?\"reference\":O,y=t.elements.reference,w=t.rects.popper,S=t.elements[h?x:m],V=K(s(S)?S:S.contextElement||p(t.elements.popper),c,d),I=a(y),P=R({reference:I,element:w,strategy:\"absolute\",placement:r}),z=G(Object.assign(Object.assign({},w),P)),j=m===O?z:I,$={top:V.top-j.top+g.top,bottom:j.bottom-V.bottom+g.bottom,left:V.left-j.left+g.left,right:j.right-V.right+g.right},E=t.modifiersData.offset;if(m===O&&E){var T=E[r];Object.keys($).forEach((function(t){var e=[k,C].indexOf(t)>=0?1:-1,n=[_,C].indexOf(t)>=0?\"y\":\"x\";$[t]+=T[n]*e}))}return $}function it(t,e,n){return Math.max(t,Math.min(e,n))}function at(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function rt(t){return[_,k,C,S].some((function(e){return t[e]>=0}))}// eslint-disable-next-line import/no-unused-modules\nvar ot=M({defaultModifiers:[{name:\"eventListeners\",enabled:!0,phase:\"write\",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,a=i.scroll,o=void 0===a||a,s=i.resize,c=void 0===s||s,l=r(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach((function(t){t.addEventListener(\"scroll\",n.update,A)})),c&&l.addEventListener(\"resize\",n.update,A),function(){o&&p.forEach((function(t){t.removeEventListener(\"scroll\",n.update,A)})),c&&l.removeEventListener(\"resize\",n.update,A)}}// eslint-disable-next-line import/no-unused-modules\n,data:{}},{name:\"popperOffsets\",enabled:!0,phase:\"read\",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=R({reference:e.rects.reference,element:e.rects.popper,strategy:\"absolute\",placement:e.placement})},data:{}},{name:\"computeStyles\",enabled:!0,phase:\"beforeWrite\",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,a=void 0===i||i,r=n.adaptive,o=void 0===r||r,s=n.roundOffsets,c=void 0===s||s,l={placement:B(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign(Object.assign({},e.styles.popper),q(Object.assign(Object.assign({},l),{},{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign(Object.assign({},e.styles.arrow),q(Object.assign(Object.assign({},l),{},{offsets:e.modifiersData.arrow,position:\"absolute\",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign(Object.assign({},e.attributes.popper),{},{\"data-popper-placement\":e.placement})}// eslint-disable-next-line import/no-unused-modules\n,data:{}},{name:\"applyStyles\",enabled:!0,phase:\"write\",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];c(a)&&l(a)&&(Object.assign(a.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?a.removeAttribute(t):a.setAttribute(t,!0===e?\"\":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:\"0\",top:\"0\",margin:\"0\"},arrow:{position:\"absolute\"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],a=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]=\"\",t}),{});c(i)&&l(i)&&(Object.assign(i.style,r),Object.keys(a).forEach((function(t){i.removeAttribute(t)})))}))}}// eslint-disable-next-line import/no-unused-modules\n,requires:[\"computeStyles\"]},{name:\"offset\",enabled:!0,phase:\"main\",requires:[\"popperOffsets\"],fn:function(t){var e=t.state,n=t.options,i=t.name,a=n.offset,r=void 0===a?[0,0]:a,o=j.reduce((function(t,n){return t[n]=function(t,e,n){var i=B(t),a=[S,_].indexOf(i)>=0?-1:1,r=\"function\"==typeof n?n(Object.assign(Object.assign({},e),{},{placement:t})):n,o=r[0],s=r[1];return o=o||0,s=(s||0)*a,[S,k].indexOf(i)>=0?{x:s,y:o}:{x:o,y:s}}(n,e.rects,r),t}),{}),s=o[e.placement],c=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[i]=o}},{name:\"flip\",enabled:!0,phase:\"main\",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var a=n.mainAxis,r=void 0===a||a,o=n.altAxis,s=void 0===o||o,c=n.fallbackPlacements,l=n.padding,p=n.boundary,d=n.rootBoundary,u=n.altBoundary,m=n.flipVariations,f=void 0===m||m,h=n.allowedAutoPlacements,v=e.options.placement,b=B(v),g=c||(b===v||!f?[H(v)]:\n// eslint-disable-next-line import/no-unused-modules\nfunction(t){if(B(t)===V)return[];var e=H(t);return[Y(t),e,Y(e)]}(v)),x=[v].concat(g).reduce((function(t,n){return t.concat(B(n)===V?function(t,e){void 0===e&&(e={});var n=e,i=n.placement,a=n.boundary,r=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?j:c,p=U(i),d=p?s?z:z.filter((function(t){return U(t)===p})):N,u=d.filter((function(t){return l.indexOf(t)>=0}));0===u.length&&(u=d);var m=u.reduce((function(e,n){return e[n]=nt(t,{placement:n,boundary:a,rootBoundary:r,padding:o})[B(n)],e}),{});return Object.keys(m).sort((function(t,e){return m[t]-m[e]}))}(e,{placement:n,boundary:p,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:h}):n)}),[]),y=e.rects.reference,w=e.rects.popper,P=new Map,L=!0,O=x[0],$=0;$<x.length;$++){var E=x[$],T=B(E),D=U(E)===I,M=[_,C].indexOf(T)>=0,A=M?\"width\":\"height\",F=nt(e,{placement:E,boundary:p,rootBoundary:d,altBoundary:u,padding:l}),R=M?D?k:S:D?C:_;y[A]>w[A]&&(R=H(R));var W=H(R),q=[];if(r&&q.push(F[T]<=0),s&&q.push(F[R]<=0,F[W]<=0),q.every((function(t){return t}))){O=E,L=!1;break}P.set(E,q)}if(L)for(var Z=function(t){var e=x.find((function(e){var n=P.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return O=e,\"break\"},J=f?3:1;J>0;J--){if(\"break\"===Z(J))break}e.placement!==O&&(e.modifiersData[i]._skip=!0,e.placement=O,e.reset=!0)}}// eslint-disable-next-line import/no-unused-modules\n,requiresIfExists:[\"offset\"],data:{_skip:!1}},{name:\"preventOverflow\",enabled:!0,phase:\"main\",fn:function(t){var e=t.state,n=t.options,i=t.name,a=n.mainAxis,r=void 0===a||a,o=n.altAxis,s=void 0!==o&&o,c=n.boundary,l=n.rootBoundary,p=n.altBoundary,d=n.padding,u=n.tether,m=void 0===u||u,f=n.tetherOffset,v=void 0===f?0:f,b=nt(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:p}),g=B(e.placement),x=U(e.placement),y=!x,V=F(g),N=\"x\"===V?\"y\":\"x\",P=e.modifiersData.popperOffsets,L=e.rects.reference,O=e.rects.popper,z=\"function\"==typeof v?v(Object.assign(Object.assign({},e.rects),{},{placement:e.placement})):v,j={x:0,y:0};if(P){if(r){var $=\"y\"===V?_:S,E=\"y\"===V?C:k,T=\"y\"===V?\"height\":\"width\",D=P[V],M=P[V]+b[$],A=P[V]-b[E],R=m?-O[T]/2:0,W=x===I?L[T]:O[T],q=x===I?-O[T]:-L[T],Z=e.elements.arrow,H=m&&Z?h(Z):{width:0,height:0},J=e.modifiersData[\"arrow#persistent\"]?e.modifiersData[\"arrow#persistent\"].padding:{top:0,right:0,bottom:0,left:0},Y=J[$],X=J[E],G=it(0,L[T],H[T]),Q=y?L[T]/2-R-G-Y-z:W-G-Y-z,K=y?-L[T]/2+R+G+X+z:q+G+X+z,tt=e.elements.arrow&&w(e.elements.arrow),et=tt?\"y\"===V?tt.clientTop||0:tt.clientLeft||0:0,at=e.modifiersData.offset?e.modifiersData.offset[e.placement][V]:0,rt=P[V]+Q-at-et,ot=P[V]+K-at,st=it(m?Math.min(M,rt):M,D,m?Math.max(A,ot):A);P[V]=st,j[V]=st-D}if(s){var ct=\"x\"===V?_:S,lt=\"x\"===V?C:k,pt=P[N],dt=it(pt+b[ct],pt,pt-b[lt]);P[N]=dt,j[N]=dt-pt}e.modifiersData[i]=j}}// eslint-disable-next-line import/no-unused-modules\n,requiresIfExists:[\"offset\"]},{name:\"arrow\",enabled:!0,phase:\"main\",fn:\n// eslint-disable-next-line import/no-unused-modules\nfunction(t){var e,n=t.state,i=t.name,a=n.elements.arrow,r=n.modifiersData.popperOffsets,o=B(n.placement),s=F(o),c=[S,k].indexOf(o)>=0?\"height\":\"width\";if(a&&r){var l=n.modifiersData[i+\"#persistent\"].padding,p=h(a),d=\"y\"===s?_:S,u=\"y\"===s?C:k,m=n.rects.reference[c]+n.rects.reference[s]-r[s]-n.rects.popper[c],f=r[s]-n.rects.reference[s],v=w(a),b=v?\"y\"===s?v.clientHeight||0:v.clientWidth||0:0,g=m/2-f/2,x=l[d],y=b-p[c]-l[u],V=b/2-p[c]/2+g,N=it(x,V,y),I=s;n.modifiersData[i]=((e={})[I]=N,e.centerOffset=N-V,e)}},effect:function(t){var e=t.state,n=t.options,i=t.name,a=n.element,r=void 0===a?\"[data-popper-arrow]\":a,o=n.padding,s=void 0===o?0:o;null!=r&&(\"string\"!=typeof r||(r=e.elements.popper.querySelector(r)))&&X(e.elements.popper,r)&&(e.elements.arrow=r,e.modifiersData[i+\"#persistent\"]={padding:tt(\"number\"!=typeof s?s:et(s,N))})}// eslint-disable-next-line import/no-unused-modules\n,requires:[\"popperOffsets\"],requiresIfExists:[\"preventOverflow\"]},{name:\"hide\",enabled:!0,phase:\"main\",requiresIfExists:[\"preventOverflow\"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,a=e.rects.popper,r=e.modifiersData.preventOverflow,o=nt(e,{elementContext:\"reference\"}),s=nt(e,{altBoundary:!0}),c=at(o,i),l=at(s,a,r),p=rt(c),d=rt(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign(Object.assign({},e.attributes.popper),{},{\"data-popper-reference-hidden\":p,\"data-popper-escaped\":d})}}]});function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ct=\"customNavbar.items\",lt=\"customNavbar.renderedItems\";class pt{constructor(t){if(st(this,\"name\",void 0),st(this,\"displayName\",void 0),st(this,\"content\",void 0),st(this,\"flexStyle\",\"0 0 auto\"),st(this,\"disabled\",!1),st(this,\"href\",null),st(this,\"active\",!1),st(this,\"clickAction\",none),st(this,\"contentMounted\",none),st(this,\"notifyCount\",0),st(this,\"touch\",!1),st(this,\"loginRequired\",!1),st(this,\"popupContent\",null),st(this,\"popper\",null),st(this,\"boundingWidth\",0),st(this,\"noPopupPadding\",!1),st(this,\"transparentPopup\",!1),st(this,\"lazy\",!0),st(this,\"hidden\",!1),st(this,\"order\",0),st(this,\"requestedPopup\",void 0),Object.assign(this,t),!this.name)throw new Error(\"Missing CustomNavbarItem name\");if(void 0===this.content)throw new Error(\"Missing CustomNavbarItem content\");(0,i.addComponentListener)(\"customNavbar.touch\",(e=>{this.touch=!!e&&t.touch}),!0),this.hidden=pt.navbarOptions.hidden.includes(this.name);const e=pt.navbarOptions.order;this.order=e[this.name]||0,this.requestedPopup=!this.lazy}get element(){return dq(`.custom-navbar-item[data-name='${this.name}']`)}toString(){return this.name}usePopper(t,e){this.popper=ot(t,e,{placement:\"bottom\"})}}st(pt,\"navbarOptions\",(0,i.getComponentSettings)(\"customNavbar\").options)},8281:function(t,e,n){\"use strict\";n.d(e,{I:function(){return c}});var i=n(2023),a=n(4522),r=n(5729),o=n(3864),s=n(8643);const c=(t,e)=>Vue.extend({components:{VLoading:s.VLoading,VEmpty:s.VEmpty,ScrollTrigger:s.ScrollTrigger},data:()=>({loading:!0,cards:[],hasMorePage:!0}),computed:{sortedCards(){return[...this.cards].sort((0,a.descendingStringSort)((t=>t.id)))}},async created(){await this.nextPage();const t=this.sortedCards;t.length>0&&(0,o.setLatestID)(t[0].id)},methods:{async nextPage(){try{const n=this.sortedCards,r=n[n.length-1]?.id??0,o=await(0,i.getFeeds)(t,r);if(console.log(o),0!==o.code)throw this.hasMorePage=!1,new Error(o.message);const s=lodash.get(o,\"data.cards\",[]).map(e);let c=(0,i.applyContentFilter)(n.concat(s).sort((0,a.descendingStringSort)((t=>t.id))).filter((t=>!(0,i.isPreOrderedVideo)(t))));if(c.length>0&&this.onCardsUpdate&&(c=this.onCardsUpdate(c)),console.log(\"nextPage get\",c),this.cards=c,0===this.cards.length)return void(this.hasMorePage=!1);this.hasMorePage=0===r||Boolean(lodash.get(o,\"data.has_more\",!0))}catch(t){(0,r.logError)(t)}finally{this.loading=!1}}}})},3037:function(t,e,n){\"use strict\";n.d(e,{u:function(){return a}});var i=n(12);const a=Vue.extend({props:{item:{type:i.kO,required:!0},container:{type:HTMLElement,required:!0}},mounted(){const t=this.item,e=this.container;e&&t?.usePopper(e,this.$el.parentElement)},methods:{popupShow(){this.item?.popper?.update()}}})},5220:function(t,e,n){\"use strict\";n.r(e),n.d(e,{setTriggerElement:function(){return r},loadNavbarSettings:function(){return o},toggleNavbarSettings:function(){return s}});var i=n(3109);let a;const r=t=>{a&&(a.triggerElement=t)},o=async()=>{if(a)return!1;const t=await Promise.resolve().then(n.bind(n,4040)).then((t=>t.default));return a=(0,i.mountVueComponent)(t),document.body.insertAdjacentElement(\"beforeend\",a.$el),!0},s=async()=>{a||await o(),a?.toggle()}},2194:function(t,e,n){\"use strict\";n.d(e,{N:function(){return a},V:function(){return o}});var i=n(3109);let a;!function(t){t.Bangumi=\"bangumi\",t.Cinema=\"cinema\"}(a||(a={}));const r=(0,i.getUID)(),o={name:\"subscriptions\",displayName:\"订阅\",content:\"订阅\",href:`https://space.bilibili.com/${r}/bangumi`,touch:!0,active:[`https://space.bilibili.com/${r}/bangumi`,`https://space.bilibili.com/${r}/cinema`,`https://space.bilibili.com/${r}/subs`].includes(document.URL.replace(/\\?.*$/,\"\")),loginRequired:!0,boundingWidth:380,noPopupPadding:!0,popupContent:()=>Promise.resolve().then(n.bind(n,8834)).then((t=>t.default))}},5173:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'html {\\n  --navbar-height: 50px;\\n  --navbar-foreground: #555;\\n  --navbar-background: white;\\n  --navbar-bounds-padding: 10%;\\n  --navbar-icon-size: 24px;\\n}\\nbody.custom-navbar-loading::after {\\n  content: \"\";\\n  height: 50px;\\n  height: var(--navbar-height);\\n  width: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  background-color: white;\\n  z-index: 10001;\\n}\\nbody.dark.custom-navbar-loading::after {\\n  background-color: #333;\\n}\\nbody.fixed-navbar .left-panel .adaptive-scroll .scroll-content {\\n  top: 50px !important;\\n}\\nbody.fixed-navbar.enable-feeds-filter .left-panel .adaptive-scroll .scroll-content,\\nbody.fixed-navbar .right-panel .adaptive-scroll .scroll-content {\\n  top: 58px !important;\\n}\\n[dir=\"ltr\"] .custom-navbar *,[dir=\"ltr\"] \\n.custom-navbar {\\n  margin-left: 0;\\n}\\n[dir=\"rtl\"] .custom-navbar *,[dir=\"rtl\"] \\n.custom-navbar {\\n  margin-right: 0;\\n}\\n[dir=\"ltr\"] .custom-navbar *,[dir=\"ltr\"] \\n.custom-navbar {\\n  margin-right: 0;\\n}\\n[dir=\"rtl\"] .custom-navbar *,[dir=\"rtl\"] \\n.custom-navbar {\\n  margin-left: 0;\\n}\\n[dir=\"ltr\"] .custom-navbar *,[dir=\"ltr\"] \\n.custom-navbar {\\n  padding-left: 0;\\n}\\n[dir=\"rtl\"] .custom-navbar *,[dir=\"rtl\"] \\n.custom-navbar {\\n  padding-right: 0;\\n}\\n[dir=\"ltr\"] .custom-navbar *,[dir=\"ltr\"] \\n.custom-navbar {\\n  padding-right: 0;\\n}\\n[dir=\"rtl\"] .custom-navbar *,[dir=\"rtl\"] \\n.custom-navbar {\\n  padding-left: 0;\\n}\\n.custom-navbar *,\\n.custom-navbar {\\n  transition: all 0.2s ease-out;\\n  -webkit-tap-highlight-color: transparent;\\n  outline: none !important;\\n}\\n.custom-navbar {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 50px;\\n  height: var(--navbar-height);\\n  width: 100%;\\n  background-color: white;\\n  background-color: var(--navbar-background);\\n  color: #555;\\n  color: var(--navbar-foreground);\\n  z-index: 10001;\\n  display: flex;\\n  justify-content: center;\\n  line-height: normal;\\n}\\nbody.fixed-navbar .custom-navbar {\\n  position: fixed;\\n}\\nbody.player-mode-blackmask .custom-navbar {\\n  visibility: hidden;\\n}\\nbody.player-mode-webfullscreen .custom-navbar, body.player-fullscreen-fix .custom-navbar, body.player-full-win .custom-navbar {\\n  z-index: 1;\\n}\\n.custom-navbar path {\\n  fill: #555;\\n  fill: var(--navbar-foreground);\\n}\\n.custom-navbar svg.stroke,\\n.custom-navbar svg.stroke path {\\n  fill: transparent;\\n  stroke: #555;\\n  stroke: var(--navbar-foreground);\\n}\\n.custom-navbar.fill:not(.transparent) path {\\n  fill: var(--foreground-color-d);\\n}\\n.custom-navbar.fill:not(.transparent) path svg.stroke,\\n.custom-navbar.fill:not(.transparent) path svg.stroke path {\\n  fill: transparent;\\n  stroke: var(--navbar-foreground-d);\\n}\\n.custom-navbar.shadow:not(.transparent) {\\n  box-shadow: rgba(0,0,0,0.13333) 0 1px 10px 1px;\\n}\\nbody.dark .custom-navbar.shadow:not(.transparent) {\\n  box-shadow: rgba(0,0,0,0.26667) 0px 2px 10px 1px;\\n}\\n.custom-navbar.blur:not(.transparent) {\\n  -webkit-backdrop-filter: blur(24px);\\n          backdrop-filter: blur(24px);\\n  --navbar-background: rgba(255,255,255,0.8);\\n}\\nbody.dark .custom-navbar:not(.fill):not(.transparent) {\\n  --navbar-background: #222;\\n  --navbar-foreground: #eee;\\n}\\nbody.dark .custom-navbar:not(.fill):not(.transparent).blur {\\n  --navbar-background: rgba(34,34,34,0.53333);\\n}\\n.custom-navbar.transparent {\\n  --navbar-background: transparent;\\n  --navbar-foreground: #eee;\\n}\\n.custom-navbar.transparent::before {\\n  content: \"\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: calc(2 * 50px);\\n  height: calc(2 * var(--navbar-height));\\n  background-image: linear-gradient(to bottom, rgba(0,0,0,0.66667) 0, rgba(0,0,0,0.26667) 65%, transparent 100%);\\n  pointer-events: none;\\n}\\n.custom-navbar.fill:not(.transparent) {\\n  --navbar-background: var(--theme-color);\\n  --navbar-foreground: var(--foreground-color-d);\\n  height: 50px;\\n  height: var(--navbar-height);\\n  width: 100%;\\n}\\n.custom-navbar.fill:not(.transparent).blur {\\n  --navbar-background: var(--theme-color-60);\\n}\\n.custom-navbar.fill.shadow:not(.transparent) {\\n  box-shadow: var(--theme-color-30) 0px 2px 10px 1px;\\n}\\n.custom-navbar .custom-navbar-items {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  height: 100%;\\n  flex: 1 0 auto;\\n  color: inherit;\\n}\\n.custom-navbar .padding {\\n  max-width: 10%;\\n  max-width: var(--navbar-bounds-padding);\\n  flex: 1 1 0;\\n  transition: none;\\n  position: relative;\\n}\\n.custom-navbar .padding.peek::after,\\n.custom-navbar .custom-navbar-items > *.peek::after {\\n  content: \"\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  border: 2px dashed;\\n}',\"\"]),t.exports=i},9065:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.custom-navbar-item {\\n  color: inherit;\\n  position: relative;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n}\\n.custom-navbar-item .active-bar {\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  background-color: var(--theme-color);\\n  width: 100%;\\n  height: 3px;\\n  border-radius: 1.5px;\\n  display: none;\\n}\\n.custom-navbar.transparent .custom-navbar-item .active-bar, .custom-navbar.fill .custom-navbar-item .active-bar {\\n  background-color: rgba(0, 0, 0, 0.3);\\n}\\n.custom-navbar-item.active .active-bar {\\n  display: flex;\\n}\\n.custom-navbar-item.view-border::before {\\n  content: \"\";\\n  width: 94%;\\n  height: 94%;\\n  border: 2px dashed var(--navbar-foreground);\\n  position: absolute;\\n  top: 3%;\\n  left: 3%;\\n  box-sizing: border-box;\\n}\\n.custom-navbar-item:not(.disabled) {\\n  cursor: pointer;\\n}\\n.custom-navbar-item:not(.disabled):hover {\\n  background-color: rgba(136,136,136,0.13333);\\n}\\n.custom-navbar-item.disabled a {\\n  cursor: default;\\n}\\n.custom-navbar-item .main-content {\\n  transition: none;\\n  font-size: 10pt;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 10px;\\n  color: var(--navbar-foreground);\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n.custom-navbar-item .main-content:hover {\\n  color: var(--navbar-foreground) !important;\\n}\\n.custom-navbar-item.active .main-content {\\n  font-weight: bold;\\n  font-size: 11pt;\\n}\\n.custom-navbar-item .popup {\\n  color: black;\\n  background: white;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  border-radius: 8px;\\n  transition: all 0.2s ease-out 0.2s;\\n  position: absolute;\\n  top: 100%;\\n  left: 50%;\\n  padding: 8px;\\n  pointer-events: none;\\n  opacity: 0;\\n  transform: translateX(-50%);\\n  cursor: default;\\n}\\nbody.dark .custom-navbar-item .popup {\\n  color: #eee;\\n  background: #222;\\n}\\n.custom-navbar-item .popup.iframe-container {\\n  border: none;\\n  box-shadow: none;\\n}\\n.custom-navbar-item .popup.iframe-container:not(.transparent) iframe {\\n  box-shadow: rgba(0, 0, 0, 0.2) 0 4px 8px 0px;\\n}\\n.custom-navbar-item .popup.no-padding {\\n  padding: 0;\\n}\\n.custom-navbar-item .popup.transparent {\\n  background-color: transparent !important;\\n  box-shadow: none;\\n}\\n.custom-navbar-item:not(.disabled) .popup-container {\\n  position: absolute;\\n  top: calc(100% - 8px);\\n  left: 50%;\\n  transition: all 0.2s ease-out 0.2s;\\n  pointer-events: none;\\n}\\n.custom-navbar-item:not(.disabled):hover .popup-container {\\n  top: 100%;\\n}\\n.custom-navbar-item:not(.disabled):hover .popup-container > .popup {\\n  pointer-events: initial;\\n  opacity: 1;\\n}\\n.custom-navbar-item a,\\n.custom-navbar-item a:hover {\\n  color: inherit !important;\\n  text-decoration: none;\\n}\\n.custom-navbar-item .notify-count {\\n  position: absolute;\\n  left: 50%;\\n  top: 0;\\n  background-color: var(--theme-color);\\n  padding: 0 8px;\\n  display: flex;\\n  justify-content: center;\\n  font-size: 11px;\\n  transform: translateX(-50%);\\n  opacity: 0;\\n  line-height: 14px;\\n  white-space: nowrap;\\n  color: var(--foreground-color);\\n  border-radius: 0 0 8px 8px;\\n}\\n.custom-navbar-item .notify-count:not(:empty):not(.hidden) {\\n  opacity: 1;\\n}\\n.custom-navbar-item .notify-count.dot {\\n  color: transparent;\\n  border-radius: 50%;\\n  width: 8px;\\n  height: 8px;\\n  padding: 0;\\n  top: 2px;\\n}\\n.custom-navbar.fill .custom-navbar-item .notify-count {\\n  background-color: rgba(0, 0, 0, 0.3);\\n}',\"\"]),t.exports=i},6410:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.custom-navbar .favorites-list {\\n  width: 380px;\\n  height: 600px;\\n  min-height: 200px;\\n  max-height: calc(100vh - var(--navbar-height) - 12px);\\n  font-size: 12px;\\n  display: flex;\\n  align-items: stretch;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: center;\\n}\\n.custom-navbar .favorites-list .be-empty,\\n.custom-navbar .favorites-list .be-loading {\\n  align-self: center;\\n  flex: 1;\\n}\\n.custom-navbar .favorites-list .be-scroll-trigger {\\n  text-align: center;\\n}\\n.custom-navbar .favorites-list .header {\\n  display: flex;\\n  align-items: stretch;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: space-between;\\n  margin: 16px 12px;\\n}\\n.custom-navbar .favorites-list .header .search {\\n  flex: 1;\\n  margin-left: 8px;\\n}\\n.custom-navbar .favorites-list .header .search .be-textbox {\\n  height: 100%;\\n}\\n.custom-navbar .favorites-list .header .list-select {\\n  flex-shrink: 0;\\n  height: 26px;\\n}\\n.custom-navbar .favorites-list .header .dropdown-popup {\\n  max-height: 300px;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n}\\n.custom-navbar .favorites-list .header .dropdown-popup::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.custom-navbar .favorites-list .header .operation {\\n  margin-left: 8px;\\n}\\n.custom-navbar .favorites-list .header .more-info {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  box-sizing: border-box;\\n  height: 26px;\\n  border-radius: 13px;\\n  padding: 4px;\\n}\\n.custom-navbar .favorites-list .header .play-all {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  box-sizing: border-box;\\n  height: 26px;\\n  border-radius: 13px;\\n  padding: 4px;\\n}\\n.custom-navbar .favorites-list .content {\\n  display: flex;\\n  align-items: stretch;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n  justify-content: space-between;\\n  flex-grow: 1;\\n}\\n.custom-navbar .favorites-list .content::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.custom-navbar .favorites-list .content .floating {\\n  box-sizing: border-box;\\n  height: 20px;\\n  border-radius: 10px;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  background-color: rgba(0,0,0,0.8);\\n  color: white;\\n  justify-content: center;\\n  cursor: pointer;\\n}\\n.custom-navbar .favorites-list .content .cards {\\n  flex: 1;\\n  scroll-behavior: smooth;\\n  position: relative;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n  padding: 0 12px;\\n  padding-bottom: 12px;\\n}\\n.custom-navbar .favorites-list .content .cards::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.custom-navbar .favorites-list .content .cards-enter, .custom-navbar .favorites-list .content .cards-leave-to {\\n  opacity: 0;\\n  transform: translateY(-16px) scale(0.9);\\n}\\n.custom-navbar .favorites-list .content .cards-leave-active {\\n  transition: 0.24s cubic-bezier(0.22, 0.61, 0.36, 1);\\n  position: absolute;\\n}\\n.custom-navbar .favorites-list .content .cards-leave-active.be-scroll-trigger {\\n  width: 100%;\\n  padding-bottom: 12px;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card {\\n  cursor: pointer;\\n  flex-shrink: 0;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  color: black;\\n  background-color: #fff;\\n  display: grid;\\n  grid-template: \"cover title\" 2fr \"cover info\" 1fr/130px 1fr;\\n  height: 85px;\\n}\\nbody.dark .custom-navbar .favorites-list .content .cards .favorite-card {\\n  background-color: #282828;\\n  color: #eee;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card:not(:last-child) {\\n  margin-bottom: 12px;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card:hover .cover {\\n  transform: scale(1.05);\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .cover-container {\\n  grid-area: cover;\\n  overflow: hidden;\\n  border-radius: 8px 0 0 8px;\\n  position: relative;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .cover-container .favorite-time {\\n  top: 6px;\\n  left: 6px;\\n  padding: 0 6px;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .cover-container .duration {\\n  left: 6px;\\n  bottom: 6px;\\n  padding: 0 6px;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .cover-container .floating {\\n  position: absolute;\\n  opacity: 0;\\n  font-size: 11px;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .cover-container .cover {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card:hover .floating {\\n  opacity: 1;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .title {\\n  grid-area: title;\\n  font-size: 13px;\\n  font-weight: bold;\\n  display: -webkit-box;\\n  white-space: normal;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  word-break: break-all;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  line-height: 1.5;\\n  max-height: 3em;\\n  -webkit-box-align: start;\\n  margin: 0;\\n  margin-top: 8px;\\n  padding: 0 10px;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .title:hover {\\n  color: var(--theme-color) !important;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .up {\\n  flex: 0 1 auto;\\n  padding: 2px 10px 2px 2px;\\n  margin: 0 8px 6px;\\n  justify-self: start;\\n  align-self: center;\\n  max-width: calc(100% - 16px);\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  box-sizing: border-box;\\n  height: 24px;\\n  border-radius: 12px;\\n  border: 1px solid rgba(136,136,136,0.13333);\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .up:hover {\\n  background-color: rgba(136,136,136,0.13333);\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .up .face {\\n  border-radius: 50%;\\n  margin-right: 6px;\\n  height: 20px;\\n  width: 20px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\nbody.dark .custom-navbar .favorites-list .content .cards .favorite-card .up .face.placeholder {\\n  filter: invert(0.9);\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .up .name {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  font-size: 11px;\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .up:hover .name {\\n  color: var(--theme-color);\\n}\\n.custom-navbar .favorites-list .content .cards .favorite-card .description {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  margin: 4px 10px;\\n}',\"\"]),t.exports=i},3030:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".navbar-feeds {\\n  width: 380px;\\n  height: 600px;\\n  min-height: 200px;\\n  max-height: calc(100vh - var(--navbar-height) - 12px);\\n  line-height: normal;\\n  white-space: nowrap;\\n  box-sizing: border-box;\\n  padding: 4px 4px 0 4px;\\n  font-size: 12px;\\n}\\n.navbar-feeds .be-tab-control {\\n  height: 100%;\\n  padding-top: 8px;\\n  box-sizing: border-box;\\n}\\n.navbar-feeds .be-tab-control .default-header .default-tabs .default-tab:not(:last-child) {\\n  margin-right: 16px;\\n}\",\"\"]),t.exports=i},4728:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".bangumi-feeds {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.bangumi-feeds .bangumi-feeds-content {\\n  align-self: stretch;\\n}\\n.bangumi-feeds .be-scroll-trigger {\\n  padding-bottom: 12px;\\n}\",\"\"]),t.exports=i},8994:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".column-feeds {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\",\"\"]),t.exports=i},2422:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".live-feeds {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.live-feeds .live-feeds-content {\\n  align-self: stretch;\\n}\\n.live-feeds .live-feeds-content-enter, .live-feeds .live-feeds-content-leave-to {\\n  opacity: 0;\\n  transform: translateY(-16px) scale(0.9);\\n}\\n.live-feeds .live-feeds-content-leave-active {\\n  transition: 0.24s cubic-bezier(0.22, 0.61, 0.36, 1);\\n  position: absolute;\\n}\\n.live-feeds .live-feeds-content .live-card {\\n  margin: 0 8px 12px 8px;\\n  background-color: #fff;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  display: flex;\\n  align-items: stretch;\\n  grid-gap: 0;\\n  gap: 0;\\n  height: 54px;\\n  border-radius: 26px;\\n  box-sizing: border-box;\\n  padding: 2px;\\n  width: auto;\\n  flex-shrink: 0;\\n}\\nbody.dark .live-feeds .live-feeds-content .live-card {\\n  background-color: #282828;\\n  color: #eee;\\n}\\n.live-feeds .live-feeds-content .live-card .face-container {\\n  flex-shrink: 0;\\n  border-radius: 50%;\\n  height: 48px;\\n  overflow: hidden;\\n}\\n.live-feeds .live-feeds-content .live-card .face-container .face {\\n  height: 100%;\\n  width: 100%;\\n}\\n.live-feeds .live-feeds-content .live-card:hover .face {\\n  transform: scale(1.05);\\n}\\n.live-feeds .live-feeds-content .live-card .live-info {\\n  display: flex;\\n  align-items: stretch;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n  flex: 1 0 0;\\n  width: 0;\\n  justify-content: center;\\n}\\n.live-feeds .live-feeds-content .live-card .live-title {\\n  font-size: 14px;\\n  font-weight: bold;\\n  padding: 0 12px;\\n  padding-bottom: 6px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  color: inherit;\\n  line-height: normal;\\n}\\n.live-feeds .live-feeds-content .live-card:hover .live-title {\\n  color: var(--theme-color);\\n}\\n.live-feeds .live-feeds-content .live-card .live-name {\\n  opacity: 0.75;\\n  padding: 0 12px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  line-height: normal;\\n}\",\"\"]),t.exports=i},4812:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".video-feeds[data-v-6e663916] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  flex-direction: column;\\n  flex: 1;\\n  padding: 0 8px;\\n}\\n.video-feeds .be-scroll-trigger[data-v-6e663916] {\\n  padding-bottom: 12px;\\n}\\n.video-feeds-content[data-v-6e663916] {\\n  flex: 1;\\n  align-self: stretch;\\n  display: flex;\\n  align-items: flex-start;\\n  justify-content: space-between;\\n  width: 356px;\\n}\\n.video-feeds-content .cards-enter[data-v-6e663916], .video-feeds-content .cards-leave-to[data-v-6e663916] {\\n  opacity: 0;\\n  transform: translateY(-16px) scale(0.9);\\n}\\n.video-feeds-content .cards-leave-active[data-v-6e663916] {\\n  transition: 0.24s cubic-bezier(0.22, 0.61, 0.36, 1);\\n  position: absolute;\\n}\\n.video-feeds-content .left-column[data-v-6e663916],\\n.video-feeds-content .right-column[data-v-6e663916] {\\n  display: flex;\\n  flex-direction: column;\\n  padding-bottom: 12px;\\n}\\n.video-feeds-content .left-column .video-card[data-v-6e663916],\\n.video-feeds-content .right-column .video-card[data-v-6e663916] {\\n  --card-width: 174px;\\n}\\n.video-feeds-content .left-column .video-card[data-v-6e663916]:not(:last-child),\\n.video-feeds-content .right-column .video-card[data-v-6e663916]:not(:last-child) {\\n  margin-bottom: 8px;\\n}\",\"\"]),t.exports=i},7337:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.custom-navbar-history-list {\\n  width: 350px;\\n  height: 600px;\\n  min-height: 200px;\\n  max-height: calc(100vh - var(--navbar-height) - 12px);\\n  font-size: 12px;\\n  padding: 0;\\n  margin: 0;\\n  display: flex;\\n  align-items: stretch;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: center;\\n}\\n.custom-navbar-history-list .header {\\n  display: flex;\\n  align-items: stretch;\\n  flex-direction: column;\\n  grid-gap: 6px;\\n  gap: 6px;\\n  margin: 16px 12px 4px 12px;\\n}\\n.custom-navbar-history-list .header .header-row {\\n  display: flex;\\n  align-items: stretch;\\n  grid-gap: 8px;\\n  gap: 8px;\\n  justify-content: space-between;\\n}\\n.custom-navbar-history-list .header .header-row .row-title {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.custom-navbar-history-list .header .type-filters {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 8px;\\n  gap: 8px;\\n}\\n.custom-navbar-history-list .header .type-filters .type-filter .be-button {\\n  padding: 4px 8px 4px 6px;\\n  color: rgba(136,136,136,0.53333);\\n}\\n.custom-navbar-history-list .header .type-filters .type-filter .be-button .be-icon {\\n  margin-right: 6px;\\n}\\n.custom-navbar-history-list .header .type-filters .type-filter .be-button.checked {\\n  color: inherit;\\n}\\n.custom-navbar-history-list .header .search {\\n  flex: 1;\\n}\\n.custom-navbar-history-list .header .search .be-textbox {\\n  height: 100%;\\n}\\n.custom-navbar-history-list .header .operations {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 8px;\\n  gap: 8px;\\n}\\n.custom-navbar-history-list .header .operations .operation .be-button {\\n  width: 26px;\\n  box-sizing: border-box;\\n}\\n.custom-navbar-history-list .content {\\n  display: flex;\\n  align-items: stretch;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n  justify-content: space-between;\\n  flex-grow: 1;\\n}\\n.custom-navbar-history-list .content::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.custom-navbar-history-list .content .be-scroll-trigger,\\n.custom-navbar-history-list .content .be-empty,\\n.custom-navbar-history-list .content .be-loading {\\n  align-self: center;\\n  text-align: center;\\n  margin: 12px 0;\\n}\\n.custom-navbar-history-list .content .cards {\\n  flex: 1;\\n  scroll-behavior: smooth;\\n  position: relative;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n  padding-bottom: 12px;\\n}\\n.custom-navbar-history-list .content .cards-enter, .custom-navbar-history-list .content .cards-leave-to {\\n  opacity: 0;\\n  transform: translateY(-16px) scale(0.9);\\n}\\n.custom-navbar-history-list .content .cards-leave-active {\\n  transition: 0.24s cubic-bezier(0.22, 0.61, 0.36, 1);\\n  position: absolute;\\n}\\n.custom-navbar-history-list .content .cards::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.custom-navbar-history-list .content .cards .empty-tip {\\n  text-align: center;\\n}\\n.custom-navbar-history-list .content .cards .time-group-enter, .custom-navbar-history-list .content .cards .time-group-leave-to {\\n  opacity: 0;\\n  transform: translateY(-16px) scale(0.9);\\n}\\n.custom-navbar-history-list .content .cards .time-group-leave-active {\\n  transition: 0.24s cubic-bezier(0.22, 0.61, 0.36, 1);\\n  position: absolute;\\n}\\n.custom-navbar-history-list .content .cards .time-group-name {\\n  padding: 8px 12px;\\n  font-size: 12px;\\n  position: sticky;\\n  top: 0;\\n  z-index: 1;\\n  background-color: #fff;\\n}\\nbody.dark .custom-navbar-history-list .content .cards .time-group-name {\\n  background-color: #222;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items {\\n  padding: 0 12px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .floating {\\n  box-sizing: border-box;\\n  height: 20px;\\n  border-radius: 10px;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  background-color: rgba(0,0,0,0.8);\\n  color: white;\\n  justify-content: center;\\n  position: absolute;\\n  opacity: 0;\\n  font-size: 11px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item {\\n  display: grid;\\n  grid-template: \"cover title title\" 5fr \"cover up time\" 6fr/80px 1fr auto;\\n  border-radius: 8px;\\n  color: black;\\n  background-color: #fff;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n}\\nbody.dark .custom-navbar-history-list .content .cards .time-group-items .time-group-item {\\n  background-color: #282828;\\n  color: #eee;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item:not(:last-child) {\\n  margin-bottom: 8px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item:hover .cover {\\n  transform: scale(1.05);\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item:hover .floating {\\n  opacity: 1;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .cover-container {\\n  grid-area: cover;\\n  position: relative;\\n  height: 55px;\\n  overflow: hidden;\\n  border-radius: 7px 0 0 7px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .cover-container .cover {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  width: 80px;\\n  height: 55px;\\n}\\nbody.dark .custom-navbar-history-list .content .cards .time-group-items .time-group-item .cover-container .cover.placeholder {\\n  filter: invert(0.9);\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .cover-container .duration {\\n  left: 2px;\\n  bottom: 2px;\\n  padding: 0 6px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .cover-container .live-status.on {\\n  background-color: var(--theme-color);\\n  color: var(--foreground-color);\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .cover-container .progress-number {\\n  left: 2px;\\n  top: 2px;\\n  padding: 0 6px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .cover-container .progress {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  height: 2px;\\n  border-radius: 1px;\\n  background-color: var(--theme-color);\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .title {\\n  grid-area: title;\\n  font-weight: bold;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  align-self: end;\\n  margin: 0;\\n  line-height: normal;\\n  display: block;\\n  padding-left: 8px;\\n  padding-right: 6px;\\n  font-size: 13px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .title:hover {\\n  color: var(--theme-color) !important;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .up,\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .time {\\n  font-size: 11px;\\n  opacity: 0.75;\\n  align-self: center;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .up {\\n  grid-area: up;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  padding-left: 8px;\\n  opacity: 1;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .up .be-icon {\\n  margin-right: 4px;\\n  font-size: 14px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .up-face {\\n  border-radius: 50%;\\n  width: 18px;\\n  height: 18px;\\n  margin-right: 4px;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .up-name {\\n  white-space: nowrap;\\n  max-width: 160px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  opacity: 0.75;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .up-name:hover {\\n  opacity: 1;\\n}\\n.custom-navbar-history-list .content .cards .time-group-items .time-group-item .time {\\n  font-size: 11px;\\n  grid-area: time;\\n  padding-right: 6px;\\n}',\"\"]),t.exports=i},4374:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.custom-navbar .home-popup {\\n  max-height: 75vh;\\n  display: flex;\\n  flex-wrap: wrap;\\n  flex-direction: row;\\n  writing-mode: vertical-lr;\\n}\\n.custom-navbar .home-popup > * {\\n  writing-mode: horizontal-tb;\\n}\\n.custom-navbar .home-popup .category-item {\\n  border-radius: 8px;\\n  font-size: 12pt;\\n  cursor: pointer;\\n  position: relative;\\n  box-sizing: border-box;\\n}\\n.custom-navbar .home-popup .category-item.loading {\\n  font-size: 10pt;\\n  cursor: auto;\\n  cursor: initial;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.custom-navbar .home-popup .category-item:not(.loading):hover {\\n  background-color: rgba(136,136,136,0.13333);\\n}\\n.custom-navbar .home-popup .category-item a {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 8px;\\n}\\n.custom-navbar .home-popup .category-item a.sub-region {\\n  position: relative;\\n  padding: 8px;\\n  display: flex;\\n  justify-content: flex-start;\\n  border-bottom: 2px solid transparent;\\n  font-size: 15px;\\n  line-height: normal;\\n}\\n.custom-navbar .home-popup .category-item a.sub-region::before {\\n  content: \"\";\\n  position: absolute;\\n  top: calc(100% - 4px);\\n  left: 8px;\\n  width: calc(100% - 16px);\\n  height: 2px;\\n  border-radius: 2px;\\n  background-color: var(--theme-color);\\n  transition: 0.16s 0.1s ease-out;\\n  transform: scaleX(0);\\n}\\n.custom-navbar .home-popup .category-item a.sub-region:hover::before {\\n  transform: scaleX(1);\\n}\\n.custom-navbar .home-popup .category-item svg {\\n  width: 25px;\\n  height: 25px;\\n  fill: currentColor;\\n  margin-right: 10px;\\n}\\n.custom-navbar .home-popup .category-item .name {\\n  flex: 1 0 auto;\\n}\\n.custom-navbar .home-popup .category-item.main {\\n  min-width: 150px;\\n}\\n.custom-navbar .home-popup .category-item .sub-regions-popup {\\n  z-index: 10002;\\n  width: max-content;\\n  transform: scaleX(0);\\n  transform-origin: left;\\n  padding: 6px;\\n  left: 100%;\\n  top: 0;\\n  transition-delay: 0.3s;\\n  pointer-events: initial;\\n}\\n.custom-navbar .home-popup .category-item:hover .sub-regions-popup {\\n  transform: scaleX(1);\\n  opacity: 1;\\n}\\n.custom-navbar .home-popup .category-item .count {\\n  opacity: 0.5;\\n  font-size: 14px;\\n}',\"\"]),t.exports=i},3324:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".custom-navbar-logo {\\n  width: auto;\\n  margin: 0 4px;\\n}\\n.custom-navbar:not(.fill) .custom-navbar-logo:not(.season) {\\n  color: var(--theme-color);\\n}\\n.custom-navbar-logo.season {\\n  transform: scale(1.15);\\n  filter: drop-shadow(0 0 2px rgba(0,0,0,0.13333));\\n}\\nbody.season-logo-enabled .bili-header .inner-logo {\\n  display: none !important;\\n}\",\"\"]),t.exports=i},6617:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.messages-popup[data-v-589ce0fa] {\\n  width: max-content;\\n}\\n.messages-popup .message-entry a[data-v-589ce0fa] {\\n  position: relative;\\n  padding: 8px;\\n  display: flex;\\n  justify-content: flex-start;\\n  border-bottom: 2px solid transparent;\\n  font-size: 15px;\\n  line-height: normal;\\n}\\n.messages-popup .message-entry a[data-v-589ce0fa]::before {\\n  content: \"\";\\n  position: absolute;\\n  top: calc(100% - 4px);\\n  left: 8px;\\n  width: calc(100% - 16px);\\n  height: 2px;\\n  border-radius: 2px;\\n  background-color: var(--theme-color);\\n  transition: 0.16s 0.1s ease-out;\\n  transform: scaleX(0);\\n}\\n.messages-popup .message-entry a[data-v-589ce0fa]:hover::before {\\n  transform: scaleX(1);\\n}\\n.messages-popup .message-entry a[data-count][data-v-589ce0fa]::after {\\n  content: attr(data-count);\\n  position: absolute;\\n  left: 100%;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  background-color: var(--theme-color);\\n  color: var(--foreground-color);\\n  padding: 0 6px;\\n  display: flex;\\n  justify-content: center;\\n  font-size: 9pt;\\n  border-radius: 6px;\\n  white-space: nowrap;\\n}',\"\"]),t.exports=i},3369:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.ranking-popup[data-v-6678d691] {\\n  width: max-content;\\n}\\n.ranking-popup .ranking-entry a[data-v-6678d691] {\\n  position: relative;\\n  padding: 8px;\\n  display: flex;\\n  justify-content: flex-start;\\n  border-bottom: 2px solid transparent;\\n  font-size: 15px;\\n  line-height: normal;\\n}\\n.ranking-popup .ranking-entry a[data-v-6678d691]::before {\\n  content: \"\";\\n  position: absolute;\\n  top: calc(100% - 4px);\\n  left: 8px;\\n  width: calc(100% - 16px);\\n  height: 2px;\\n  border-radius: 2px;\\n  background-color: var(--theme-color);\\n  transition: 0.16s 0.1s ease-out;\\n  transform: scaleX(0);\\n}\\n.ranking-popup .ranking-entry a[data-v-6678d691]:hover::before {\\n  transform: scaleX(1);\\n}',\"\"]),t.exports=i},2438:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".custom-navbar .launch-bar {\\n  --color: var(--custom-navbar-foreground);\\n  background-color: rgba(0,0,0,0.66667);\\n  opacity: 0.5;\\n  transition: opacity 0.2s ease-out;\\n  padding: 2px 6px;\\n  border-radius: 8px;\\n}\\n.custom-navbar .launch-bar:hover, .custom-navbar .launch-bar[focus-within] {\\n  opacity: 1;\\n}\\n.custom-navbar .launch-bar:hover, .custom-navbar .launch-bar:focus-within {\\n  opacity: 1;\\n}\\n.custom-navbar .launch-bar .input-area .launch-bar-form .input {\\n  padding: 8px 6px;\\n}\\n.custom-navbar:not(.transparent) .launch-bar {\\n  background-color: rgba(136,136,136,0.2);\\n}\\n.custom-navbar.fill:not(.transparent) .launch-bar {\\n  background-color: rgba(0,0,0,0.13333);\\n}\\n.custom-navbar-search {\\n  align-self: center;\\n  display: flex;\\n}\",\"\"]),t.exports=i},8306:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".custom-navbar-extra-options {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\",\"\"]),t.exports=i},4754:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.custom-navbar-settings {\\n  background-color: #fff;\\n  color: black;\\n  border-radius: 8px;\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  width: 400px;\\n  font-size: 14px;\\n  padding: 12px 12px 12px 18px;\\n  left: 50%;\\n  top: 50%;\\n  transform: translateX(-50%) translateY(-50%) scale(0.95);\\n  transition: 0.2s ease-out;\\n  z-index: 100002;\\n}\\nbody.dark .custom-navbar-settings {\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);\\n}\\nbody.dark .custom-navbar-settings {\\n  background-color: #282828;\\n  color: #eee;\\n}\\nbody.dark .custom-navbar-settings {\\n  background-color: #222;\\n}\\n.custom-navbar-settings.open {\\n  transform: translateX(-50%) translateY(-50%) scale(1);\\n}\\n.custom-navbar-settings .navbar-settings-header {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: space-between;\\n}\\n.custom-navbar-settings .navbar-settings-header .title {\\n  margin-left: 6px;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n.custom-navbar-settings .navbar-settings-header .grow {\\n  flex: 1;\\n}\\n.custom-navbar-settings .navbar-settings-header .close {\\n  padding: 6px;\\n  cursor: pointer;\\n  transition: 0.2s ease-out;\\n}\\n.custom-navbar-settings .navbar-settings-header .close:hover {\\n  color: var(--theme-color);\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section {\\n  margin-top: 12px;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section > :not(:last-child) {\\n  margin-bottom: 6px;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-title {\\n  font-size: 14px;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-description {\\n  font-size: 12px;\\n  opacity: 0.6;\\n  line-height: 1.5;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  flex-wrap: wrap;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .be-slider {\\n  margin: 0 4px;\\n  flex: 1;\\n}\\n[dir=\"ltr\"] .custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .padding-value {\\n  text-align: right;\\n}\\n[dir=\"rtl\"] .custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .padding-value {\\n  text-align: left;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .padding-value {\\n  margin-left: 12px;\\n  width: 50px;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item {\\n  background-color: #fff;\\n  color: black;\\n  border-radius: 8px;\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  transition: none;\\n  white-space: nowrap;\\n  padding: 6px;\\n  padding-left: 8px;\\n  margin: 0 4px 4px 0;\\n  cursor: move;\\n}\\nbody.dark .custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item {\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);\\n}\\nbody.dark .custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item {\\n  background-color: #282828;\\n  color: #eee;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item:hover {\\n  border-color: var(--theme-color);\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item.navbar-hidden {\\n  opacity: 0.5;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item.sortable-ghost {\\n  opacity: 0;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item.sortable-chosen {\\n  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.16);\\n  transform: scale(1.05);\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item.sortable-drag {\\n  opacity: 1;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item.sortable-drag.navbar-hidden {\\n  opacity: 0.5;\\n}\\n.custom-navbar-settings .navbar-settings-content .navbar-settings-section-content .navbar-sort-item .toggle-visible {\\n  margin-left: 6px;\\n  cursor: pointer;\\n}',\"\"]),t.exports=i},8734:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".navbar-subscriptions {\\n  width: 380px;\\n  height: 600px;\\n  min-height: 200px;\\n  max-height: calc(100vh - var(--navbar-height) - 12px);\\n  padding: 0 4px 0 4px;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n}\\n.navbar-subscriptions .be-tab-control {\\n  padding-top: 12px;\\n  height: 100%;\\n  box-sizing: border-box;\\n}\\n.navbar-subscriptions .be-tab-control .default-content {\\n  padding-bottom: 0;\\n}\",\"\"]),t.exports=i},7104:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".subscription-list {\\n  width: 100%;\\n  box-sizing: border-box;\\n  padding: 0 8px;\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n.subscription-list .be-scroll-trigger {\\n  padding-bottom: 12px;\\n}\\n.subscription-list .subscription-content {\\n  align-self: stretch;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.subscription-list .subscription-content .subscription-card {\\n  position: relative;\\n  display: flex;\\n  margin-bottom: 12px;\\n  flex-shrink: 0;\\n  background-color: #fff;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  border-radius: 8px;\\n}\\nbody.dark .subscription-list .subscription-content .subscription-card {\\n  background-color: #2d2d2d;\\n  color: #eee;\\n}\\n.subscription-list .subscription-content .subscription-card .cover-container {\\n  height: 64px;\\n  width: 64px;\\n  border-radius: 8px 0 0 8px;\\n  overflow: hidden;\\n}\\n.subscription-list .subscription-content .subscription-card .cover-container .cover {\\n  height: 100%;\\n  width: 100%;\\n}\\n.subscription-list .subscription-content .subscription-card:hover .cover {\\n  transform: scale(1.05);\\n}\\n.subscription-list .subscription-content .subscription-card .card-info {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  padding: 0 12px;\\n  max-width: calc(100% - 24px - 64px);\\n  box-sizing: content-box;\\n}\\n.subscription-list .subscription-content .subscription-card .info {\\n  padding: 2px;\\n  border-radius: 14px;\\n  line-height: 1;\\n}\\n.subscription-list .subscription-content .subscription-card .info:hover {\\n  color: var(--theme-color) !important;\\n}\\n.subscription-list .subscription-content .subscription-card .progress-row {\\n  display: flex;\\n  padding-bottom: 8px;\\n  justify-content: space-between;\\n  align-self: stretch;\\n  align-items: center;\\n}\\n.subscription-list .subscription-content .subscription-card .status {\\n  padding: 0 4px;\\n  background-color: rgba(136,136,136,0.13333);\\n  border: 1px solid rgba(136,136,136,0.26667);\\n  border-radius: 4px;\\n  opacity: 0.75;\\n}\\n.subscription-list .subscription-content .subscription-card .status.status-2 {\\n  background-color: var(--theme-color-10);\\n  border-color: var(--theme-color-30);\\n  opacity: 1;\\n}\\n.subscription-list .subscription-content .subscription-card .progress {\\n  white-space: nowrap;\\n  width: 0;\\n  flex-grow: 1;\\n  margin: 0 8px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.subscription-list .subscription-content .subscription-card .title {\\n  font-size: 14px;\\n  font-weight: bold;\\n  padding-top: 4px;\\n  color: inherit;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  width: 100%;\\n  margin: 0;\\n  flex: 1;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.subscription-list .subscription-content .subscription-card:hover .title {\\n  color: var(--theme-color);\\n}\",\"\"]),t.exports=i},8961:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".navbar-upload[data-v-1a272463] {\\n  display: flex;\\n  align-items: center;\\n}\\n.navbar-upload-name[data-v-1a272463] {\\n  padding-left: 4px;\\n  font-size: 12pt;\\n  font-weight: bold;\\n}\",\"\"]),t.exports=i},2360:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.upload-popup[data-v-a07cc62e] {\\n  width: max-content;\\n}\\n.upload-popup a[data-v-a07cc62e] {\\n  position: relative;\\n  padding: 8px;\\n  display: flex;\\n  justify-content: flex-start;\\n  border-bottom: 2px solid transparent;\\n  font-size: 15px;\\n  line-height: normal;\\n}\\n.upload-popup a[data-v-a07cc62e]::before {\\n  content: \"\";\\n  position: absolute;\\n  top: calc(100% - 4px);\\n  left: 8px;\\n  width: calc(100% - 16px);\\n  height: 2px;\\n  border-radius: 2px;\\n  background-color: var(--theme-color);\\n  transition: 0.16s 0.1s ease-out;\\n  transform: scaleX(0);\\n}\\n.upload-popup a[data-v-a07cc62e]:hover::before {\\n  transform: scaleX(1);\\n}',\"\"]),t.exports=i},464:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".user-face-container {\\n  position: relative;\\n  height: calc(var(--navbar-height) - 16px);\\n  width: calc(var(--navbar-height) - 16px);\\n}\\n.user-face-container .user-face,\\n.user-face-container .user-pendant {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n.custom-navbar-item:hover .user-face-container .user-face,\\n.custom-navbar-item:hover .user-face-container .user-pendant {\\n  transform: scale(2) translateY(10px);\\n  z-index: 100;\\n  opacity: 1;\\n}\\n.user-face-container .user-face {\\n  background-color: transparent;\\n  background-size: contain;\\n  border-radius: 50%;\\n}\\n.user-face-container .user-pendant {\\n  background-color: transparent;\\n  background-size: cover;\\n  width: 170%;\\n  height: 170%;\\n  top: -12px;\\n  left: -12px;\\n  opacity: 0;\\n  pointer-events: none;\\n}\",\"\"]),t.exports=i},9692:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\".user-info-panel {\\n  border-radius: 8px;\\n  overflow: hidden;\\n  width: 240px;\\n  font-size: 12px;\\n}\\n.user-info-panel .circle {\\n  position: relative;\\n  width: var(--navbar-icon-size);\\n  height: var(--navbar-icon-size);\\n  opacity: 0.7;\\n}\\n.user-info-panel .circle .mdi {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n.user-info-panel .mdi-circle ~ .mdi {\\n  filter: invert(1);\\n  font-size: calc(var(--navbar-icon-size) - 10px);\\n  line-height: calc(var(--navbar-icon-size) - 10px);\\n  transform: translate(5px, 5px);\\n}\\n.user-info-panel .be-icon {\\n  font-style: normal;\\n}\\n.user-info-panel .logged-in {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n.user-info-panel .row,\\n.user-info-panel .items {\\n  align-self: stretch;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.user-info-panel .items {\\n  padding-top: 4px;\\n}\\n.user-info-panel .row {\\n  margin: 0 10px;\\n  width: auto !important;\\n}\\n.user-info-panel .row::after {\\n  content: none !important;\\n}\\n.user-info-panel .row.level-info {\\n  margin-bottom: -5px;\\n}\\n.user-info-panel .privileges {\\n  justify-content: center;\\n}\\n.user-info-panel .privileges > * {\\n  font-size: 11px;\\n  background-color: rgba(136,136,136,0.13333);\\n  padding: 2px 4px;\\n  margin: 0 2px;\\n  border-radius: 4px;\\n  line-height: normal;\\n  cursor: pointer;\\n}\\n.user-info-panel .privileges > *.received {\\n  cursor: default;\\n  opacity: 0.5;\\n}\\n.user-info-panel .privileges > *:not(.received):hover {\\n  background-color: rgba(136,136,136,0.26667);\\n}\\n.user-info-panel .bv-custom-navbar-operation {\\n  height: 36px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: relative;\\n  align-self: stretch;\\n}\\n.user-info-panel .bv-custom-navbar-operation:hover {\\n  background-color: rgba(136,136,136,0.13333);\\n}\\n.user-info-panel .bv-custom-navbar-operation .be-icon {\\n  position: absolute;\\n  left: 10px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  background: none;\\n}\\n.user-info-panel .item {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-around;\\n  align-items: center;\\n  height: 48px;\\n  flex: 1;\\n}\\n.user-info-panel .item > .be-icon {\\n  opacity: 0.7;\\n}\\n.user-info-panel .item > .be-icon:nth-child(2) {\\n  font-size: 18px;\\n  line-height: 18px;\\n}\\n.user-info-panel .item span {\\n  font-size: 14px;\\n  font-weight: bold;\\n  opacity: 0.7;\\n}\\n.user-info-panel .welcome,\\n.user-info-panel .name {\\n  font-size: 16px;\\n  font-weight: bold;\\n  margin: 46px 0 16px 0;\\n  text-align: center;\\n  color: inherit;\\n}\\n.user-info-panel .name {\\n  margin: 62px 0 0 0;\\n}\\n.user-info-panel .name:hover {\\n  color: var(--theme-color) !important;\\n}\\n.user-info-panel .type {\\n  font-size: 11px;\\n  opacity: 0.5;\\n  margin: 6px 0;\\n}\\n.user-info-panel .separator {\\n  height: 1px;\\n  align-self: stretch;\\n  margin: 5px 10px;\\n  background: rgba(0, 0, 0, 0.1);\\n}\\nbody.dark .user-info-panel .separator {\\n  background: rgba(255, 255, 255, 0.1);\\n}\\n.user-info-panel .level-progress-thumb {\\n  width: 100%;\\n  height: 100%;\\n  background: var(--theme-color);\\n  transform-origin: left;\\n}\\n.user-info-panel .level-progress-label {\\n  font-size: 11px;\\n}\\n.user-info-panel .stats {\\n  display: flex;\\n  align-items: center;\\n  align-self: stretch;\\n  margin: 0 10px;\\n  line-height: normal;\\n}\\n.user-info-panel .stats-item {\\n  padding: 6px 0;\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  transition: none;\\n}\\n.user-info-panel .stats-item:hover {\\n  color: var(--theme-color) !important;\\n}\\n.user-info-panel .stats-item .stats-number {\\n  font-weight: bold;\\n  margin-bottom: 4px;\\n  font-size: 14px;\\n  transition: none;\\n}\\n.user-info-panel .grey-button,\\n.user-info-panel .theme-button {\\n  align-self: stretch;\\n  height: 36px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 6px;\\n  border-radius: 4px;\\n  font-size: 14px;\\n}\\n.user-info-panel .grey-button {\\n  background: #f8f8f8;\\n  color: inherit !important;\\n}\\n.user-info-panel .grey-button:hover {\\n  background: #f0f0f0;\\n}\\n.user-info-panel .grey-button.logout {\\n  font-size: 12px;\\n  height: 32px;\\n  cursor: pointer;\\n}\\n.user-info-panel .grey-button.logout:hover {\\n  color: inherit !important;\\n}\\nbody.dark .user-info-panel .grey-button {\\n  background: #282828;\\n}\\nbody.dark .user-info-panel .grey-button:hover {\\n  background: #333;\\n}\\n.user-info-panel .theme-button {\\n  background: var(--theme-color);\\n  color: var(--foreground-color) !important;\\n}\\n.user-info-panel .theme-button:hover {\\n  background: var(--theme-color-90);\\n  color: var(--foreground-color) !important;\\n}\",\"\"]),t.exports=i},8120:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,'.custom-navbar .watchlater-list {\\n  height: 600px;\\n  min-height: 200px;\\n  max-height: calc(100vh - var(--navbar-height) - 12px);\\n  width: 380px;\\n  font-size: 12px;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n.custom-navbar .watchlater-list .round-button {\\n  box-sizing: border-box;\\n  height: 26px;\\n  border-radius: 13px;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: center;\\n  cursor: pointer;\\n  width: 26px;\\n}\\n.custom-navbar .watchlater-list .floating {\\n  box-sizing: border-box;\\n  height: 20px;\\n  border-radius: 10px;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  background-color: rgba(0,0,0,0.8);\\n  color: white;\\n  justify-content: center;\\n  cursor: pointer;\\n}\\n.custom-navbar .watchlater-list .header {\\n  display: flex;\\n  align-items: stretch;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: space-between;\\n  align-self: stretch;\\n  margin: 16px 12px;\\n}\\n.custom-navbar .watchlater-list .header .search {\\n  position: relative;\\n  flex-grow: 1;\\n  margin-right: 8px;\\n}\\n.custom-navbar .watchlater-list .header .search .be-textbox {\\n  height: 100%;\\n}\\n.custom-navbar .watchlater-list .header .operations {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.custom-navbar .watchlater-list .header .operations .round-button:not(:last-child) {\\n  margin-right: 4px;\\n}\\n.custom-navbar .watchlater-list .header .operation:not(:last-child) {\\n  margin-right: 8px;\\n}\\n.custom-navbar .watchlater-list .header .more-info {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  box-sizing: border-box;\\n  height: 28px;\\n  border-radius: 14px;\\n  padding: 4px 6px 4px 10px;\\n}\\n.custom-navbar .watchlater-list .be-empty,\\n.custom-navbar .watchlater-list .be-loading {\\n  flex: 1;\\n}\\n.custom-navbar .watchlater-list-content {\\n  flex: 1;\\n  align-self: stretch;\\n  scroll-behavior: smooth;\\n  position: relative;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n  padding: 0 12px;\\n  padding-bottom: 12px;\\n}\\n.custom-navbar .watchlater-list-content::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card {\\n  cursor: pointer;\\n  flex-shrink: 0;\\n  border-radius: 8px;\\n  color: black;\\n  background-color: #fff;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  display: grid;\\n  grid-template: \"cover title\" 2fr \"cover info\" 1fr/130px 1fr;\\n  height: 85px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card.cards-enter, .custom-navbar .watchlater-list-content .watchlater-card.cards-leave-to {\\n  opacity: 0;\\n  transform: translateY(-16px) scale(0.9);\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card.cards-leave-active {\\n  transition: 0.24s cubic-bezier(0.22, 0.61, 0.36, 1);\\n  position: absolute;\\n}\\nbody.dark .custom-navbar .watchlater-list-content .watchlater-card {\\n  background-color: #282828;\\n  color: #eee;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card:not(:last-child) {\\n  margin-bottom: 12px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card:hover .cover {\\n  transform: scale(1.05);\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .cover-container {\\n  grid-area: cover;\\n  overflow: hidden;\\n  border-radius: 8px 0 0 8px;\\n  position: relative;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .cover-container .remove {\\n  top: 6px;\\n  left: 6px;\\n  width: 20px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .cover-container .duration {\\n  left: 6px;\\n  bottom: 6px;\\n  padding: 0 6px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .cover-container .viewed {\\n  white-space: nowrap;\\n  right: 6px;\\n  top: 6px;\\n  padding: 0 6px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .cover-container .floating {\\n  position: absolute;\\n  opacity: 0;\\n  font-size: 11px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .cover-container .cover {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card:hover .floating {\\n  opacity: 1;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .title {\\n  grid-area: title;\\n  font-size: 13px;\\n  font-weight: bold;\\n  margin: 0;\\n  margin-top: 8px;\\n  padding: 0 10px;\\n  display: -webkit-box;\\n  white-space: normal;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  word-break: break-all;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  line-height: 1.5;\\n  max-height: 3em;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .title:hover {\\n  color: var(--theme-color) !important;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .up {\\n  flex: 0 1 auto;\\n  padding: 2px 10px 2px 2px;\\n  margin: 0 8px 6px;\\n  justify-self: start;\\n  align-self: center;\\n  max-width: calc(100% - 16px);\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  box-sizing: border-box;\\n  height: 24px;\\n  border-radius: 12px;\\n  border: 1px solid rgba(136,136,136,0.13333);\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .up:hover {\\n  background-color: rgba(136,136,136,0.13333);\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .up .face {\\n  border-radius: 50%;\\n  margin-right: 6px;\\n  height: 20px;\\n  width: 20px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .up .name {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  font-size: 11px;\\n}\\n.custom-navbar .watchlater-list-content .watchlater-card .up:hover .name {\\n  color: var(--theme-color);\\n}\\n.custom-navbar .watchlater-list .undo {\\n  position: absolute;\\n  bottom: 16px;\\n  left: 50%;\\n  opacity: 0;\\n  transform: translateX(-50%) translateY(8px);\\n}\\n.custom-navbar .watchlater-list .undo.show {\\n  opacity: 1;\\n  transform: translateX(-50%) translateY(0px);\\n}',\"\"]),t.exports=i},5437:function(t,e,n){var i=n(3645)((function(t){return t[1]}));i.push([t.id,\"body.no-banner #banner_link,\\nbody.no-banner .z-top-container.has-banner > .header,\\n.bili-header-m > #banner_link .search,\\nli.nav-item[report-id=playpage_dynamic] iframe,\\nli.nav-item[report-id=playpage_dynamic] .i-frame,\\n.z-top-container > .header .search,\\n.i_menu_login,\\n.international-header .b-logo,\\n.bili-banner .taper-line,\\n.international-header .mini-header,\\n.bili-header-m .head-banner .head-content .head-logo,\\n#biliMainHeader .mini-header,\\n#biliMainHeader .base-mini-header,\\n.bili-header__bar,\\n.z-top-container#bili-header-container {\\n  display: none !important;\\n}\\n\\n.van-popover {\\n  z-index: 10002 !important;\\n}\\n\\n.international-header {\\n  min-height: 50px !important;\\n}\\n\\n.bili-header-m .head-banner {\\n  margin-top: calc(-1 * $height) !important;\\n}\\n\\n.bili-header-m > .nav-menu,\\n.z_top {\\n  visibility: hidden !important;\\n  height: 50px !important;\\n}\\n\\n.link-top-container#tab-container {\\n  top: 50px !important;\\n}\",\"\"]),t.exports=i},3645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,i){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var a={};if(i)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar o=this[r][0];null!=o&&(a[o]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);i&&a[c[0]]||(n&&(c[2]?c[2]=\"\".concat(n,\" and \").concat(c[2]):c[2]=n),e.push(c))}},e}},3379:function(t,e,n){\"use strict\";var i,a=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},i=[],a=0;a<t.length;a++){var r=t[a],c=e.base?r[0]+e.base:r[0],l=n[c]||0,p=\"\".concat(c,\" \").concat(l);n[c]=l+1;var d=s(p),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(o[d].references++,o[d].updater(u)):o.push({identifier:p,updater:v(u,e),references:1}),i.push(p)}return i}function l(t){var e=document.createElement(\"style\"),i=t.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),\"function\"==typeof t.insert)t.insert(e);else{var o=r(t.insert||\"head\");if(!o)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");o.appendChild(e)}return e}var p,d=(p=[],function(t,e){return p[t]=e,p.filter(Boolean).join(\"\\n\")});function u(t,e,n,i){var a=n?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,a);else{var r=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function m(t,e,n){var i=n.css,a=n.media,r=n.sourceMap;if(a?t.setAttribute(\"media\",a):t.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,h=0;function v(t,e){var n,i,a;if(e.singleton){var r=h++;n=f||(f=l(e)),i=u.bind(null,n,r,!1),a=u.bind(null,n,r,!0)}else n=l(e),i=m.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||\"boolean\"==typeof e.singleton||(e.singleton=a());var n=c(t=t||[],e);return function(t){if(t=t||[],\"[object Array]\"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var a=s(n[i]);o[a].references--}for(var r=c(t,e),l=0;l<n.length;l++){var p=s(n[l]);0===o[p].references&&(o[p].updater(),o.splice(p,1))}n=r}}}},6064:function(t,e,n){var i=n(5437);i&&i.__esModule&&(i=i.default),t.exports=\"string\"==typeof i?i:i.toString()},2631:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return dt}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"custom-navbar\",class:t.styles,attrs:{role:\"navigation\"}},[n(\"div\",{staticClass:\"left-pad padding\"}),t._v(\" \"),n(\"div\",{staticClass:\"custom-navbar-items\",attrs:{role:\"list\"}},t._l(t.items,(function(t){return n(\"NavbarItem\",{key:t.name,attrs:{item:t}})})),1),t._v(\" \"),n(\"div\",{staticClass:\"right-pad padding\"})])};i._withStripped=!0;var a=n(3109),r=n(4522),o=n(8269);const s=\"https://message.bilibili.com/\",c={name:\"messages\",displayName:\"消息\",content:\"消息\",href:s,active:document.URL.startsWith(s),loginRequired:!0,touch:!0,popupContent:()=>Promise.resolve().then(n.bind(n,2542)).then((t=>t.default)),lazy:!1},l=\"https://www.bilibili.com/v/popular/rank/\",p={name:\"ranking\",displayName:\"排行\",content:\"排行\",href:`${l}all`,active:document.URL.startsWith(l),touch:!0,popupContent:()=>Promise.resolve().then(n.bind(n,2632)).then((t=>t.default))},d={name:\"userInfo\",displayName:\"个人信息\",content:()=>Promise.resolve().then(n.bind(n,399)).then((t=>t.default)),href:(0,a.getUID)()?\"https://space.bilibili.com\":null,touch:!0,popupContent:()=>Promise.resolve().then(n.bind(n,7437)).then((t=>t.default)),lazy:!1,noPopupPadding:!0,boundingWidth:240},u={name:\"logo\",displayName:\"Logo\",content:()=>Promise.resolve().then(n.bind(n,969)).then((t=>t.default)),href:\"https://www.bilibili.com/\"},m={name:\"home\",displayName:\"主站\",content:\"主站\",href:\"https://www.bilibili.com/\",touch:!0,boundingWidth:366,popupContent:()=>Promise.resolve().then(n.bind(n,1742)).then((t=>t.default))},f=t=>({...t,name:`${t.iframeName}Iframe`,content:t.displayName,touch:!0,popupContent:()=>Promise.resolve().then(n.bind(n,4666)).then((t=>t.default)),boundingWidth:t.width,noPopupPadding:!0,transparentPopup:!0}),h=f({src:\"https://www.bilibili.com/page-proxy/game-nav.html\",href:\"https://game.bilibili.com/\",width:680,height:260,lazy:!0,displayName:\"游戏中心\",iframeName:\"games\"}),v=f({src:\"https://live.bilibili.com/blackboard/dropdown-menu.html\",href:\"https://live.bilibili.com\",width:528,height:266,lazy:!0,displayName:\"直播\",iframeName:\"lives\"}),b=f({src:\"https://manga.bilibili.com/eden/bilibili-nav-panel.html\",href:\"https://manga.bilibili.com\",width:720,height:266,lazy:!0,displayName:\"漫画\",iframeName:\"manga\"}),g=new Array(4).fill(0).map(((t,e)=>({name:`blank${e+1}`,displayName:`弹性空白${e+1}`,content:\"\",disabled:!0,flexStyle:\"1 0 auto\"}))),x=t=>({...t,content:t.displayName,active:document.URL.startsWith(t.href)}),y=(x({name:\"ranking\",displayName:\"排行\",href:\"https://www.bilibili.com/v/popular/rank/all\"}),x({name:\"bangumi\",displayName:\"番剧\",href:\"https://www.bilibili.com/anime/\"})),w=x({name:\"drawing\",displayName:\"相簿\",href:\"https://h.bilibili.com\"}),_=x({name:\"music\",displayName:\"音频\",href:\"https://www.bilibili.com/audio/home/\"}),C=x({name:\"shop\",displayName:\"会员购\",href:\"https://show.bilibili.com\"}),k=x({name:\"match\",displayName:\"赛事\",href:\"https://www.bilibili.com/v/game/match/\"}),S={name:\"upload\",displayName:\"投稿\",content:()=>Promise.resolve().then(n.bind(n,6426)).then((t=>t.default)),touch:!0,href:\"https://member.bilibili.com/platform/upload/video/frame\",popupContent:()=>Promise.resolve().then(n.bind(n,4037)).then((t=>t.default))},V={name:\"search\",displayName:\"搜索\",content:()=>Promise.resolve().then(n.bind(n,5700)).then((t=>t.default)),disabled:!0},N={name:\"feeds\",displayName:\"动态\",content:\"动态\",href:\"https://t.bilibili.com/\",touch:!0,active:\"https://t.bilibili.com/\"===document.URL.replace(window.location.search,\"\"),contentMounted:async t=>{const{getNotifyCount:e}=await Promise.resolve().then(n.t.bind(n,3864,23));await(async()=>{const n=await e();t.notifyCount=n})()},loginRequired:!0,popupContent:()=>Promise.resolve().then(n.bind(n,4196)).then((t=>t.default)),boundingWidth:300,noPopupPadding:!0};var I=n(2194);const P={name:\"watchlater\",displayName:\"稍后再看\",content:\"稍后再看\",href:\"https://www.bilibili.com/watchlater/#/list\",touch:!0,active:document.URL.startsWith(\"https://www.bilibili.com/watchlater/\"),loginRequired:!0,boundingWidth:380,noPopupPadding:!0,popupContent:()=>Promise.resolve().then(n.bind(n,5878)).then((t=>t.default))},L=`https://space.bilibili.com/${(0,a.getUID)()}/favlist`,O={name:\"favorites\",displayName:\"收藏\",content:\"收藏\",href:L,touch:!0,active:document.URL.replace(/\\?.*$/,\"\")===L,loginRequired:!0,boundingWidth:380,noPopupPadding:!0,popupContent:()=>Promise.resolve().then(n.bind(n,3995)).then((t=>t.default))},z=\"https://www.bilibili.com/account/history\",j={name:\"history\",displayName:\"历史\",content:\"历史\",href:z,touch:!0,active:document.URL.replace(/\\?.*$/,\"\")===z,loginRequired:!0,boundingWidth:350,noPopupPadding:!0,popupContent:()=>Promise.resolve().then(n.bind(n,712)).then((t=>t.default))},[$,E,T,D]=g;var M=n(12),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.item.hidden,expression:\"!item.hidden\"}],staticClass:\"custom-navbar-item\",class:{disabled:t.item.disabled,active:t.item.active},style:{flex:t.item.flexStyle,order:t.item.order},attrs:{role:\"listitem\",\"data-name\":t.item.name}},[t.item.href?n(\"CustomNavbarLink\",{staticClass:\"main-content\",attrs:{\"new-tab\":t.newTab,href:!t.item.active&&!t.item.touch&&t.item.href},on:{mouseover:function(e){return e.target!==e.currentTarget?null:t.requestPopup()}}},[\"string\"==typeof t.item.content?[t._v(\"\\n      \"+t._s(t.item.content)+\"\\n    \")]:n(t.item.content,{tag:\"component\",attrs:{item:t.item}})],2):n(\"div\",{staticClass:\"main-content\",on:{click:function(e){!t.item.active&&!t.item.touch&&t.item.clickAction&&t.item.clickAction(e)}}},[\"string\"==typeof t.item.content?[t._v(\"\\n      \"+t._s(t.item.content)+\"\\n    \")]:n(t.item.content,{tag:\"component\",attrs:{item:t.item}})],2),t._v(\" \"),n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.item.active,expression:\"!item.active\"}],staticClass:\"notify-count\"},[t.item.notifyCount>0?[t._v(\"\\n      \"+t._s(t.item.notifyCount)+\"\\n    \")]:t._e()],2),t._v(\" \"),n(\"div\",{ref:\"popupContainer\",staticClass:\"popup-container\"},[t.item.popupContent?n(\"div\",{staticClass:\"popup\",class:t.popupClasses(t.item)},[t.item.requestedPopup?n(t.item.popupContent,{ref:\"popup\",tag:\"component\",attrs:{container:t.$refs.popupContainer,item:t.item}}):t._e()],1):t._e()]),t._v(\" \"),n(\"div\",{staticClass:\"active-bar\"})],1)};A._withStripped=!0;var B=n(407),U=function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"a\",t._g(t._b({attrs:{target:t.newTab?\"_blank\":null}},\"a\",t.$attrs,!1),t.$listeners),[t._t(\"default\")],2)};U._withStripped=!0;var F=Vue.extend({props:{newTab:{type:Boolean,default:!0}}}),R=n(1900),W=(0,R.Z)(F,U,[],!1,null,null,null);W.options.__file=\"registry/lib/components/style/custom-navbar/CustomNavbarLink.vue\";var q=W.exports;const Z=t=>{const{name:e}=t,n=M.kO.navbarOptions;return e in n.openInNewTabOverrides?n.openInNewTabOverrides[e]:n.openInNewTab};var H=Vue.extend({components:{CustomNavbarLink:q},props:{item:{type:M.kO,required:!0}},data(){return{newTab:Z(this.item),cancelListeners:none}},mounted(){const t=this.item;t.contentMounted?.(t);const e=()=>{this.updateLinkOption()};(0,B.addComponentListener)(\"customNavbar.openInNewTabOverrides\",e),(0,B.addComponentListener)(\"customNavbar.openInNewTab\",e),this.cancelListeners=()=>{(0,B.removeComponentListener)(\"customNavbar.openInNewTabOverrides\",e),(0,B.removeComponentListener)(\"customNavbar.openInNewTab\",e)}},beforeDestroy(){this.cancelListeners?.()},methods:{updateLinkOption(){this.newTab=Z(this.item)},popupClasses:t=>({transparent:t.transparentPopup,\"no-padding\":t.noPopupPadding,\"iframe-container\":t.iframeName}),triggerPopupShow:lodash.debounce((function(t){const{popup:e}=this.$refs;if(!e)return;const n=M.kO.navbarOptions.refreshOnPopup&&e.popupRefresh&&\"function\"==typeof e.popupRefresh;!t&&n&&e.popupRefresh(),e.popupShow&&\"function\"==typeof e.popupShow&&e.popupShow()}),300),async requestPopup(){const{item:t}=this;if(!t.disabled){if(!t.requestedPopup)return t.requestedPopup=!0,console.log(\"requestedPopup\",!0),void this.triggerPopupShow(!0);console.log(\"requestedPopup\",!1),this.triggerPopupShow(!1)}}}}),J=n(3379),Y=n.n(J),X=n(9065),G=n.n(X),Q={insert:\"head\",singleton:!1},K=(Y()(G(),Q),G().locals,(0,R.Z)(H,A,[],!1,null,null,null));K.options.__file=\"registry/lib/components/style/custom-navbar/CustomNavbarItem.vue\";var tt=K.exports,et=coreApis.spinQuery,nt=coreApis.utils.urls;const[it]=(0,o.registerAndGetData)(M.rm,[$,u,m,y,p,w,_,h,v,C,k,b,E,V,T,d,c,N,I.V,P,O,j,S,D]),[at]=(0,o.registerAndGetData)(M.Je,{items:[]}),rt=()=>{const t=Boolean((0,a.getUID)()),e=it.filter((e=>!(e.loginRequired&&!t))).map((t=>new M.kO(t))).sort((0,r.ascendingSort)((t=>t.order)));return at.items=e,e};var ot=Vue.extend({components:{NavbarItem:tt},data:()=>({initItems:it,items:rt(),styles:[]}),watch:{initItems(){this.items=rt()}},async mounted(){await(async t=>{(0,nt.matchCurrentPage)(nt.mainSiteUrls)&&(0,et.sq)((()=>dqa(\".animated-banner video, .banner-img img, #banner_link, .international-header .bili-banner, .bili-header__banner\")),(t=>0!==t.length&&!!t.some((t=>!!t.style.backgroundImage||!!t.src)))).then((()=>{(0,B.addComponentListener)(\"customNavbar.transparent\",(e=>{(0,B.getComponentSettings)(\"hideBanner\").enabled||t.toggleStyle(e,\"transparent\")}),!0),(0,B.addComponentListener)(\"hideBanner\",(e=>{(0,B.getComponentSettings)(\"customNavbar\").options.transparent&&t.toggleStyle(!e,\"transparent\")}))}))})(this)},methods:{toggleStyle(t,e){t&&!this.styles.includes(e)?this.styles.push(e):!t&&this.styles.includes(e)&&this.styles.splice(this.styles.indexOf(e),1)}}}),st=n(5173),ct=n.n(st),lt={insert:\"head\",singleton:!1},pt=(Y()(ct(),lt),ct().locals,(0,R.Z)(ot,i,[],!1,null,null,null));pt.options.__file=\"registry/lib/components/style/custom-navbar/CustomNavbar.vue\";var dt=pt.exports},3995:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return I}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"favorites-list\"},[n(\"div\",{staticClass:\"header\"},[n(\"FavoritesFolderSelect\",{model:{value:t.folder,callback:function(e){t.folder=e},expression:\"folder\"}}),t._v(\" \"),n(\"div\",{staticClass:\"search\"},[n(\"TextBox\",{attrs:{linear:\"\",placeholder:\"搜索\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"a\",{staticClass:\"operation\",attrs:{href:t.playLink,title:\"播放全部\",target:\"_blank\"}},[n(\"VButton\",{staticClass:\"play-all\",attrs:{round:\"\"}},[n(\"VIcon\",{attrs:{icon:\"mdi-play\",size:18}})],1)],1),t._v(\" \"),n(\"a\",{staticClass:\"operation\",attrs:{href:t.moreLink,title:\"查看更多\",target:\"_blank\"}},[n(\"VButton\",{staticClass:\"more-info\",attrs:{round:\"\"}},[n(\"VIcon\",{attrs:{icon:\"mdi-dots-horizontal\",size:18}})],1)],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"content\"},[t.loading&&!t.searching?n(\"VLoading\"):t.loading||t.canLoadMore||0!==t.filteredCards.length?n(\"transition-group\",{staticClass:\"cards\",attrs:{name:\"cards\",tag:\"div\"}},[t._l(t.filteredCards,(function(e){return n(\"div\",{key:e.id,staticClass:\"favorite-card\"},[n(\"a\",{staticClass:\"cover-container\",attrs:{target:\"_blank\",href:\"https://www.bilibili.com/video/\"+e.bvid}},[n(\"DpiImage\",{staticClass:\"cover\",attrs:{src:e.coverUrl,size:{width:130,height:85}}}),t._v(\" \"),n(\"div\",{staticClass:\"floating duration\"},[t._v(t._s(e.durationText))]),t._v(\" \"),n(\"div\",{staticClass:\"floating favorite-time\"},[t._v(t._s(e.favoriteTime))])],1),t._v(\" \"),n(\"a\",{staticClass:\"title\",attrs:{target:\"_blank\",href:\"https://www.bilibili.com/video/\"+e.bvid,title:e.title}},[t._v(t._s(e.title))]),t._v(\" \"),e.upID?n(\"a\",{staticClass:\"up\",attrs:{target:\"_blank\",href:\"https://space.bilibili.com/\"+e.upID,title:e.upName}},[n(\"DpiImage\",{staticClass:\"face\",attrs:{\"placeholder-image\":\"\",src:e.upFaceUrl,size:20}}),t._v(\" \"),n(\"div\",{staticClass:\"name\"},[t._v(t._s(e.upName))])],1):n(\"div\",{staticClass:\"description\"},[t._v(\"\\n          \"+t._s(e.description)+\"\\n        \")])])})),t._v(\" \"),t.canLoadMore?n(\"ScrollTrigger\",{key:\"scroll-trigger\",on:{trigger:function(e){return t.scrollTrigger()}}}):t._e()],2):n(\"VEmpty\")],1)])};i._withStripped=!0;var a=n(8643),r=n(8117),o=n(3109),s=n(3663),c=n(5729),l=n(407);const p={id:0,name:\"加载中...\",count:0};var d=function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"VDropdown\",{staticClass:\"favorites-folder-select\",attrs:{round:\"\",items:t.folders,\"key-mapper\":function(t){return t.id},value:t.folder},on:{change:function(e){return t.change(e)}},scopedSlots:t._u([{key:\"item\",fn:function(e){var n=e.item;return[t._v(\"\\n    \"+t._s(n.name)+\"\\n  \")]}}])})};d._withStripped=!0;const u=(0,l.getComponentSettings)(\"customNavbar\").options;var m=Vue.extend({components:{VDropdown:a.VDropdown},model:{prop:\"folder\",event:\"change\"},props:{folder:{type:Object,required:!0}},data:()=>({folders:[]}),async created(){const t=(0,o.getUID)();if(!t)return;const e=`https://api.bilibili.com/medialist/gateway/base/created?pn=1&ps=100&up_mid=${t}&is_space=0`,n=await(0,s.getJsonWithCredentials)(e);if(0!==n.code)throw new Error(`获取收藏夹列表失败: ${n.message}`);if(this.folders=lodash.get(n,\"data.list\",[]).map((t=>({id:t.id,name:t.title,count:t.media_count}))),this.folders.length>0&&this.folder.id===p.id){const{lastFavoriteFolder:t}=u,e=this.folders.find((e=>e.id===t));e?this.$emit(\"change\",e):this.$emit(\"change\",this.folders[0])}},methods:{change(t){u.lastFavoriteFolder=t.id,this.$emit(\"change\",t)}}}),f=n(1900),h=(0,f.Z)(m,d,[],!1,null,null,null);h.options.__file=\"registry/lib/components/style/custom-navbar/favorites/FavoritesFolderSelect.vue\";var v=h.exports,b=n(3037);const g=(0,l.getComponentSettings)(\"customNavbar\").options,x=t=>!!g.showDeadVideos||9!==t.attr&&1!==t.attr,y=t=>({id:t.id,aid:t.id,bvid:t.bvid,coverUrl:t.cover.replace(\"http:\",\"https:\"),favoriteTimestamp:1e3*t.fav_time,favoriteTime:(0,r.formatDate)(new Date(1e3*t.fav_time)),title:t.title,description:t.intro,duration:t.duration,durationText:(0,r.formatDuration)(t.duration),playCount:t.cnt_info.play,danmakuCount:t.cnt_info.danmaku,upName:t.upper.name,upFaceUrl:t.upper.face.replace(\"http:\",\"https:\"),upID:t.upper.mid});var w=Vue.extend({components:{FavoritesFolderSelect:v,VLoading:a.VLoading,VEmpty:a.VEmpty,VIcon:a.VIcon,VButton:a.VButton,TextBox:a.TextBox,DpiImage:a.DpiImage,ScrollTrigger:a.ScrollTrigger},mixins:[b.u],data:()=>({loading:!0,cards:[],filteredCards:[],page:1,hasMorePage:!0,searchPage:1,hasMoreSearchPage:!0,search:\"\",folder:p}),computed:{searching(){return\"\"!==this.search},moreLink(){const{id:t}=this.folder;return 0===t?`https://space.bilibili.com/${(0,o.getUID)()}/favlist`:`https://space.bilibili.com/${(0,o.getUID)()}/favlist?fid=${t}`},playLink(){const{id:t}=this.folder;if(0!==t)return`https://www.bilibili.com/medialist/play/ml${t}`},canLoadMore(){return this.searching?this.hasMoreSearchPage:this.hasMorePage}},watch:{folder(){this.changeList()},search(t){\"\"!==t?(t=t.toLowerCase(),this.hasMoreSearchPage=!0,this.searchPage=1,this.filteredCards=this.cards.filter((e=>e.title.toLowerCase().includes(t)||e.upName.toLowerCase().includes(t)))):this.filteredCards=this.cards}},methods:{async getCards(){const t=`https://api.bilibili.com/x/v3/fav/resource/list?media_id=${this.folder.id}&pn=${this.page}&ps=20&keyword=&order=mtime&type=0&tid=0&platform=web`,e=await(0,s.getJsonWithCredentials)(t);if(0!==e.code)throw new Error(`加载收藏夹内容失败: ${e.message}`);return e.data.medias?e.data.medias.filter(x).map(y):[]},async changeList(){if(0!==this.folder.id)try{this.search=\"\",this.cards=[],this.loading=!0,this.searchPage=1,this.hasMoreSearchPage=!0,this.page=1,this.hasMorePage=!0,this.cards=await this.getCards(),this.filteredCards=this.cards}catch(t){(0,c.logError)(t)}finally{this.loading=!1}},async loadNextPage(){try{this.page++;const t=await this.getCards();this.cards.push(...t),this.hasMorePage=0===t.length||this.cards.length<this.folder.count}catch(t){(0,c.logError)(t)}},debounceSearchAllList:lodash.debounce((async function(){if(this.searching)try{this.loading=!0;const t=await(0,s.getJsonWithCredentials)(`https://api.bilibili.com/x/v3/fav/resource/list?media_id=${this.folder.id}&pn=${this.searchPage}&ps=20&keyword=${this.search}&order=mtime&type=0&tid=0&platform=web`),e=await(0,s.getJsonWithCredentials)(`https://api.bilibili.com/x/v3/fav/resource/list?media_id=${this.folder.id}&pn=${this.searchPage}&ps=20&keyword=${this.search}&order=mtime&type=1&tid=0&platform=web`);if(0!==t.code&&0!==e.code)return;const n=lodash.get(t,\"data.medias\",[])||[],i=lodash.get(e,\"data.medias\",[])||[];this.searchPage++;const a=lodash.uniqBy(this.filteredCards.concat(n.filter(x).map(y),i.filter(x).map(y)),(t=>t.id));this.filteredCards=a;const r=n.length+i.length===0,o=i.length<20;if(r||o)return void(this.hasMoreSearchPage=!1)}catch(t){console.error(t)}finally{this.loading=!1}}),200),scrollTrigger(){this.searching?this.debounceSearchAllList():this.loadNextPage()}}}),_=n(3379),C=n.n(_),k=n(6410),S=n.n(k),V={insert:\"head\",singleton:!1},N=(C()(S(),V),S().locals,(0,f.Z)(w,i,[],!1,null,null,null));N.options.__file=\"registry/lib/components/style/custom-navbar/favorites/NavbarFavorites.vue\";var I=N.exports},4196:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return v}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"navbar-feeds\"},[n(\"TabControl\",{ref:\"tabControl\",attrs:{tabs:t.tabs,\"more-link\":\"https://t.bilibili.com/\"},scopedSlots:t._u([{key:\"more-link\",fn:function(){return[t._v(\"\\n      所有动态\\n      \"),n(\"VIcon\",{attrs:{icon:\"feeds\",size:18}})]},proxy:!0}])})],1)};i._withStripped=!0;var a=n(8643),r=n(2023),o=n(3864),s=n(3037);const c=[{name:\"video\",displayName:\"视频\",component:()=>Promise.resolve().then(n.bind(n,7747)).then((t=>t.default)),activeLink:\"https://t.bilibili.com/?tab=8\",count:0},{name:\"bangumi\",displayName:\"番剧\",component:()=>Promise.resolve().then(n.bind(n,9312)).then((t=>t.default)),activeLink:\"https://t.bilibili.com/?tab=512,4097,4098,4099,4100,4101\",count:0},{name:\"column\",displayName:\"专栏\",component:()=>Promise.resolve().then(n.bind(n,1728)).then((t=>t.default)),activeLink:\"https://t.bilibili.com/?tab=64\",count:0},{name:\"live\",displayName:\"直播\",component:()=>Promise.resolve().then(n.bind(n,1141)).then((t=>t.default)),activeLink:\"https://link.bilibili.com/p/center/index#/user-center/follow/1\",count:0}];var l=Vue.extend({components:{TabControl:a.TabControl,VIcon:a.VIcon},mixins:[s.u],data:()=>({tabs:c}),mounted(){this.refreshNotifyCount()},methods:{popupShow(){this.item.notifyCount=0},async refreshNotifyCount(){const{tabControl:t}=this.$refs;c.forEach((async e=>{if(t.selectedTab===e)return;if(\"live\"===e.name)return;const n=await(0,o.getNotifyCount)(r.feedsCardTypes[e.name].id.toString());e.count=n,console.log(e)}))}}}),p=n(3379),d=n.n(p),u=n(3030),m=n.n(u),f={insert:\"head\",singleton:!1},h=(d()(m(),f),m().locals,(0,n(1900).Z)(l,i,[],!1,null,null,null));h.options.__file=\"registry/lib/components/style/custom-navbar/feeds/NavbarFeeds.vue\";var v=h.exports},9312:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return v}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"bangumi-feeds\"},[t.loading?n(\"VLoading\"):t.loading||0!==t.cards.length?[n(\"div\",{staticClass:\"bangumi-feeds-content\"},t._l(t.cards,(function(t){return n(\"BangumiCard\",{key:t.id,attrs:{\"is-new\":t.new,data:t}})})),1),t._v(\" \"),t.hasMorePage?n(\"ScrollTrigger\",{on:{trigger:function(e){return t.nextPage()}}}):t._e()]:n(\"VEmpty\")],2)};i._withStripped=!0;var a=n(2023),r=n(3864),o=coreApis.componentApis.feeds.BangumiCard,s=n.n(o),c=n(8281),l=Vue.extend({components:{BangumiCard:s()},mixins:[(0,c.I)(a.feedsCardTypes.bangumi,(t=>{const e=JSON.parse(t.card);return{id:t.desc.dynamic_id_str,title:e.apiSeasonInfo.title,coverUrl:e.apiSeasonInfo.cover,epCoverUrl:e.cover,epTitle:e.new_desc,url:e.url,get new(){return(0,r.isNewID)(this.id)}}}))]}),p=n(3379),d=n.n(p),u=n(4728),m=n.n(u),f={insert:\"head\",singleton:!1},h=(d()(m(),f),m().locals,(0,n(1900).Z)(l,i,[],!1,null,null,null));h.options.__file=\"registry/lib/components/style/custom-navbar/feeds/tabs/BangumiFeeds.vue\";var v=h.exports},1728:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return v}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"column-feeds\"},[t.loading?n(\"VLoading\"):t.loading||0!==t.cards.length?[n(\"div\",{staticClass:\"columns-feeds-content\"},t._l(t.cards,(function(t){return n(\"ColumnCard\",{key:t.id,attrs:{\"is-new\":t.new,data:t}})})),1),t._v(\" \"),t.hasMorePage?n(\"ScrollTrigger\",{on:{trigger:function(e){return t.nextPage()}}}):t._e()]:n(\"VEmpty\")],2)};i._withStripped=!0;var a=n(2023),r=n(3864),o=coreApis.componentApis.feeds.ColumnCard,s=n.n(o),c=n(8281),l=Vue.extend({components:{ColumnCard:s()},mixins:[(0,c.I)(a.feedsCardTypes.column,(t=>{const e=JSON.parse(t.card);return{id:t.desc.dynamic_id_str,cvID:e.id,title:e.title,upName:e.author.name,upFaceUrl:e.author.face,upID:e.author.mid,description:e.summary,covers:e.image_urls,originalCovers:e.origin_image_urls,get new(){return(0,r.isNewID)(this.id)}}}))]}),p=n(3379),d=n.n(p),u=n(8994),m=n.n(u),f={insert:\"head\",singleton:!1},h=(d()(m(),f),m().locals,(0,n(1900).Z)(l,i,[],!1,null,null,null));h.options.__file=\"registry/lib/components/style/custom-navbar/feeds/tabs/ColumnFeeds.vue\";var v=h.exports},1141:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return m}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"live-feeds\"},[t.loading?n(\"VLoading\"):t.loading||0!==t.cards.length?t._e():n(\"VEmpty\"),t._v(\" \"),n(\"transition-group\",{staticClass:\"live-feeds-content\",attrs:{name:\"cards\",tag:\"div\"}},t._l(t.cards,(function(e){return n(\"a\",{key:e.id,staticClass:\"live-card\",attrs:{target:\"_blank\",href:e.url}},[n(\"div\",{staticClass:\"face-container\"},[n(\"DpiImage\",{staticClass:\"face\",attrs:{size:48,src:e.upFaceUrl}})],1),t._v(\" \"),n(\"div\",{staticClass:\"live-info\"},[n(\"div\",{staticClass:\"live-title\",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(\" \"),n(\"div\",{staticClass:\"live-name\",attrs:{title:e.name}},[t._v(t._s(e.upName))])])])})),0)],1)};i._withStripped=!0;var a=n(8643),r=n(3663),o=Vue.extend({components:{VLoading:a.VLoading,VEmpty:a.VEmpty,DpiImage:a.DpiImage},data:()=>({loading:!0,rawItems:[],hasMorePage:!0}),computed:{cards(){return this.rawItems.map((t=>({id:t.roomid,title:t.title,upFaceUrl:t.face,upName:t.uname,url:t.link})))}},async created(){const[t]=(0,r.responsiveGetPages)({api:t=>(0,r.getJsonWithCredentials)(`https://api.live.bilibili.com/relation/v1/feed/feed_list?page=${t}&pagesize=24`),getList:t=>lodash.get(t,\"data.list\",[]),getTotal:t=>lodash.get(t,\"data.results\",0)});this.rawItems=await t,this.loading=!1}}),s=n(3379),c=n.n(s),l=n(2422),p=n.n(l),d={insert:\"head\",singleton:!1},u=(c()(p(),d),p().locals,(0,n(1900).Z)(o,i,[],!1,null,null,null));u.options.__file=\"registry/lib/components/style/custom-navbar/feeds/tabs/LiveFeeds.vue\";var m=u.exports},7747:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return x}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"video-feeds\"},[t.loading?n(\"VLoading\"):t.loading||0!==t.cards.length?[n(\"div\",{staticClass:\"video-feeds-content\"},[n(\"transition-group\",{staticClass:\"left-column\",attrs:{name:\"cards\",tag:\"div\"}},t._l(t.columnedCards.left,(function(t){return n(\"VideoCard\",{key:t.id,attrs:{orientation:\"vertical\",\"is-new\":t.new,\"show-stats\":!1,data:t}})})),1),t._v(\" \"),n(\"transition-group\",{staticClass:\"right-column\",attrs:{name:\"cards\",tag:\"div\"}},t._l(t.columnedCards.right,(function(t){return n(\"VideoCard\",{key:t.id,attrs:{orientation:\"vertical\",\"is-new\":t.new,\"show-stats\":!1,data:t}})})),1)],1),t._v(\" \"),t.hasMorePage?n(\"ScrollTrigger\",{on:{trigger:function(e){return t.nextPage()}}}):t._e()]:n(\"VEmpty\")],2)};i._withStripped=!0;var a=n(8117),r=n(3864),o=n(2023),s=coreApis.componentApis.feeds.VideoCard,c=n.n(s),l=n(8281);const p=t=>{const e=Number(new Date),n=new Date(t),i=[n.getHours(),n.getMinutes(),n.getSeconds()].map((t=>t.toString().padStart(2,\"0\"))).join(\":\");let a;return a=new Date(e).getFullYear()!==n.getFullYear()?[n.getFullYear(),n.getMonth()+1,n.getDate()]:[n.getMonth()+1,n.getDate()],`${a.map((t=>t.toString().padStart(2,\"0\"))).join(\"-\")} ${i}`},d=t=>{const e=Number(new Date);if(e-864e5<t){const n=Math.round((e-t)/1e3/3600);if(0===n){const n=Math.round((e-t)/1e3/60);return 0===n?\"刚刚\":`${n}分钟前`}return`${n}小时前`}const n=new Date(t);let i;return i=new Date(e).getFullYear()!==n.getFullYear()?[n.getFullYear(),n.getMonth()+1,n.getDate()]:[n.getMonth()+1,n.getDate()],`${i.map((t=>t.toString().padStart(2,\"0\"))).join(\"-\")}`};var u=Vue.extend({components:{VideoCard:c()},mixins:[(0,l.I)(o.feedsCardTypes.video,(t=>{const e=JSON.parse(t.card);return{id:t.desc.dynamic_id_str,aid:e.aid,bvid:t.desc.bvid,videoUrl:`https://www.bilibili.com/${t.desc.bvid}`,coverUrl:e.pic,title:e.title,duration:e.duration,durationText:(0,a.formatDuration)(e.duration),description:e.desc,pubTime:p(1e3*e.pubdate),pubTimeText:d(1e3*e.pubdate),upFaceUrl:t.desc.user_profile.info.face,upName:t.desc.user_profile.info.uname,upID:t.desc.user_profile.info.uid,watchlater:!0,playCount:(0,a.formatCount)(e.stat.view),get new(){return(0,r.isNewID)(this.id)}}}))],computed:{columnedCards(){const{cards:t}=this;return{left:t.filter(((t,e)=>e%2==0)),right:t.filter(((t,e)=>e%2!=0))}}},methods:{onCardsUpdate:t=>(0,o.groupVideoFeeds)(t)}}),m=n(3379),f=n.n(m),h=n(4812),v=n.n(h),b={insert:\"head\",singleton:!1},g=(f()(v(),b),v().locals,(0,n(1900).Z)(u,i,[],!1,null,\"6e663916\",null));g.options.__file=\"registry/lib/components/style/custom-navbar/feeds/tabs/VideoFeeds.vue\";var x=g.exports},712:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return _}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"custom-navbar-history-list\"},[n(\"div\",{staticClass:\"header\"},[n(\"div\",{staticClass:\"header-row\"},[n(\"div\",{staticClass:\"search\"},[n(\"TextBox\",{attrs:{placeholder:\"搜索\",linear:\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"div\",{staticClass:\"operations\"},[n(\"a\",{staticClass:\"operation\",attrs:{target:\"_blank\",href:\"https://www.bilibili.com/account/history\"}},[n(\"VButton\",{attrs:{title:\"查看更多\",round:\"\"}},[n(\"VIcon\",{attrs:{icon:\"mdi-dots-horizontal\",size:18}})],1)],1)])]),t._v(\" \"),n(\"div\",{staticClass:\"header-row\"},[n(\"div\",{staticClass:\"row-title\"},[t._v(\"\\n        过滤:\\n      \")]),t._v(\" \"),n(\"div\",{staticClass:\"type-filters\"},t._l(t.types,(function(e){return n(\"div\",{key:e.name,staticClass:\"type-filter\"},[n(\"VButton\",{class:{checked:e.checked},attrs:{round:\"\",title:(e.checked?\"不显示\":\"显示\")+e.displayName},on:{click:function(n){return t.toggleTypeFilter(e)}}},[n(\"VIcon\",{attrs:{icon:e.icon,size:18}}),t._v(\"\\n            \"+t._s(e.displayName)+\"\\n          \")],1)],1)})),0)])]),t._v(\" \"),n(\"div\",{staticClass:\"content\"},[t.loading?n(\"VLoading\"):t.loading||0!==t.groups.length?n(\"transition-group\",{staticClass:\"cards\",attrs:{name:\"cards\",tag:\"div\"}},[t._l(t.groups,(function(e){return n(\"div\",{key:e.name,staticClass:\"time-group\"},[n(\"div\",{staticClass:\"time-group-name\"},[t._v(\"\\n          \"+t._s(e.name)+\"\\n        \")]),t._v(\" \"),n(\"transition-group\",{staticClass:\"time-group-items\",attrs:{name:\"time-group\",tag:\"div\"}},t._l(e.items,(function(e){return n(\"div\",{key:e.id,staticClass:\"time-group-item\"},[n(\"a\",{staticClass:\"cover-container\",attrs:{target:\"_blank\",href:e.url}},[n(\"DpiImage\",{staticClass:\"cover\",attrs:{src:e.cover,size:{width:160,height:110},\"placeholder-image\":\"\"}}),t._v(\" \"),e.progress?n(\"div\",{staticClass:\"progress\",style:{width:100*e.progress+\"%\"}}):t._e(),t._v(\" \"),e.progressText?n(\"div\",{staticClass:\"floating progress-number\"},[t._v(t._s(e.progress>=1?\"已看完\":e.progressText))]):t._e(),t._v(\" \"),void 0!==e.liveStatus?n(\"div\",{staticClass:\"floating duration live-status\",class:{on:1===e.liveStatus}},[t._v(t._s(1===e.liveStatus?\"直播中\":\"未开播\"))]):t._e(),t._v(\" \"),e.durationText?n(\"div\",{staticClass:\"floating duration\"},[t._v(t._s(e.durationText))]):t._e()],1),t._v(\" \"),n(\"a\",{staticClass:\"title\",attrs:{target:\"_blank\",href:e.url,title:e.title}},[t._v(t._s(e.title||e.upName+\"的直播间\"))]),t._v(\" \"),n(\"a\",{staticClass:\"up\",attrs:{target:\"_blank\",href:\"pgc\"===e.type?e.url:\"https://space.bilibili.com/\"+e.upID,title:e.upName}},[e.upFaceUrl?n(\"DpiImage\",{staticClass:\"up-face\",attrs:{size:18,src:e.upFaceUrl}}):t._e(),t._v(\" \"),n(\"div\",{staticClass:\"up-name\"},[t._v(t._s(e.upName))])],1),t._v(\" \"),e.timeText?n(\"div\",{staticClass:\"time\",attrs:{title:new Date(e.viewAt).toLocaleString()}},[t._v(\"\\n              \"+t._s(e.timeText)+\"\\n            \")]):t._e()])})),0)],1)})),t._v(\" \"),t.canNextPage?n(\"ScrollTrigger\",{key:\"scroll-trigger\",on:{trigger:function(e){return t.nextPage()}}}):t._e()],2):n(\"VEmpty\")],1)])};i._withStripped=!0;var a=n(4522),r=n(8643),o=n(3037),s=n(3663),c=n(3109),l=n(8117);let p;!function(t){t.Video=\"archive\",t.Live=\"live\",t.Article=\"article\",t.Bangumi=\"pgc\"}(p||(p={}));const d=[{name:p.Video,displayName:\"视频\",icon:\"mdi-play-circle-outline\",checked:!0},{name:p.Bangumi,displayName:\"番剧\",icon:\"mdi-television-classic\",checked:!0},{name:p.Live,displayName:\"直播\",icon:\"mdi-video-wireless-outline\",checked:!0},{name:p.Article,displayName:\"专栏\",icon:\"mdi-newspaper-variant-outline\",checked:!0}],u=()=>{const t=new Date,e=Number(new Date(t.getFullYear(),t.getMonth(),t.getDate())),n=864e5;return{now:t,today:e,oneDay:n,yesterday:e-n,lastWeek:e-7*n}},m=t=>{const{yesterday:e}=u();return Number(t)>=e?`${t.getHours().toString().padStart(2,\"0\")}:${t.getMinutes().toString().padStart(2,\"0\")}`:`${(t.getMonth()+1).toString().padStart(2,\"0\")}-${t.getDate().toString().padStart(2,\"0\")} ${t.getHours().toString().padStart(2,\"0\")}:${t.getMinutes().toString().padStart(2,\"0\")}`},f=t=>{\"article\"===t.history.business&&(t.history.cid=t.history.oid);const{epid:e,bvid:n,cid:i,oid:a}=t.history,r=t.progress>0?`t=${t.progress}`:\"t=0\",o=-1===t.progress?1:t.progress/t.duration,s=t=>t.replace(\"http:\",\"https:\"),d=new Date(1e3*t.view_at),u=t.cover?s(t.cover):t.covers?s(t.covers[0]):\"\",f={title:t.title,viewAt:1e3*t.view_at,time:d,timeText:m(d),cover:u,covers:t.covers?.map(s)??[],progress:o,progressText:Number.isNaN(o)?null:`${(0,c.fixed)(100*o,1)}%`,duration:t.duration,durationText:t.duration?(0,l.formatDuration)(t.duration):null,upName:t.author_name,upFaceUrl:s(t.author_face),upID:t.author_mid};if(e)return{...f,id:e,url:`https://www.bilibili.com/bangumi/play/ep${e}?${r}`,title:t.show_title||t.title,upName:t.title,type:p.Bangumi};if(n)return{...f,id:n,url:`https://www.bilibili.com/video/${n}?p=${t.history.page}&${r}`,type:p.Video};if(i)return{...f,id:i,url:`https://www.bilibili.com/read/cv${i}`,type:p.Article};if(a)return{...f,id:a,url:`https://live.bilibili.com/${a}`,liveStatus:t.live_status,type:p.Live};throw console.error(\"unknown history item type\",t),new Error(\"未知的历史项目类型\")};var h=Vue.extend({components:{VButton:r.VButton,VIcon:r.VIcon,TextBox:r.TextBox,VLoading:r.VLoading,VEmpty:r.VEmpty,ScrollTrigger:r.ScrollTrigger,DpiImage:r.DpiImage},mixins:[o.u],data:()=>({types:d,search:\"\",viewTime:0,cards:[],groups:[],loading:!0,hasMorePage:!0}),computed:{canNextPage(){return\"\"===this.search&&!this.loading&&this.hasMorePage&&this.types.every((t=>t.checked))}},watch:{search:lodash.debounce((function(){this.updateGroups()}),200)},async created(){try{await this.nextPage()}finally{this.loading=!1}},methods:{toggleTypeFilter(t){t.checked=!t.checked,this.updateGroups()},filterFunc(t){return!d.some((e=>e.name===t.type&&!e.checked))&&!(!t.title.toLowerCase().includes(this.search.toLowerCase())&&!t.upName.toLowerCase().includes(this.search.toLowerCase()))},updateGroups(){this.groups=(t=>{if(0===t.length)return[];const{today:e,yesterday:n,lastWeek:i}=u(),a=lodash.groupBy(t,(t=>t.viewAt>=e?\"今天\":t.viewAt>=n?\"昨天\":t.viewAt>=i?\"本周\":\"更早\"));return Object.entries(a).map((([t,e])=>({name:t,items:e})))})(this.cards.filter(this.filterFunc))},async nextPage(){const t=await(async t=>{let e=\"https://api.bilibili.com/x/web-interface/history/cursor\";t&&(e+=`?view_at=${Math.round(t/1e3)}`);const{list:n}=await(0,s.bilibiliApi)((0,s.getJsonWithCredentials)(e),\"获取历史记录失败\");return Array.isArray(n)?n.map(f):[]})(this.viewTime),e=lodash.uniqBy(this.cards.concat(t).sort((0,a.descendingSort)((t=>t.viewAt))),(t=>t.id));this.cards=e,this.updateGroups(),e.length>0&&(this.viewTime=lodash.last(e).viewAt),this.hasMorePage=0!==e.length}}}),v=n(3379),b=n.n(v),g=n(7337),x=n.n(g),y={insert:\"head\",singleton:!1},w=(b()(x(),y),x().locals,(0,n(1900).Z)(h,i,[],!1,null,null,null));w.options.__file=\"registry/lib/components/style/custom-navbar/history/NavbarHistory.vue\";var _=w.exports},1742:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"home-popup\",attrs:{role:\"list\"}},t._l(Object.entries(t.categories),(function(e){var i=e[0],a=e[1];return n(\"div\",{key:i,staticClass:\"category-item\",class:{main:null!==a.code},attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{href:a.link,target:\"_blank\"}},[n(\"svg\",{attrs:{\"aria-hidden\":\"true\"}},[n(\"use\",{attrs:{href:\"#header-icon-\"+a.icon,\"xlink:href\":\"#header-icon-\"+a.icon}})]),t._v(\" \"),n(\"div\",{staticClass:\"name\"},[t._v(t._s(i))]),t._v(\" \"),n(\"span\",{staticClass:\"count\"},[null!==a.count?[t._v(t._s(a.count))]:t._e()],2)]),t._v(\" \"),a.subCategories?n(\"div\",{staticClass:\"sub-regions-popup popup\"},t._l(Object.entries(a.subCategories),(function(e){var i=e[0],a=e[1];return n(\"a\",{key:i,staticClass:\"sub-region\",attrs:{href:a,target:\"_blank\"}},[t._v(t._s(i))])})),0):t._e()])})),0)};i._withStripped=!0;var a=n(1212),r=n(3037);const o=lodash.cloneDeep(a.categories);Object.values(o).forEach((t=>{t.count=null}));let s=!1;var c=Vue.extend({mixins:[r.u],data:()=>({categories:o}),async created(){if(s)return;s=!0;const{bilibiliApi:t,getJson:e}=await Promise.resolve().then(n.t.bind(n,3663,23)),{addCategoryIcons:i}=await Promise.resolve().then(n.t.bind(n,1212,23));i();const{region_count:a={}}=await t(e(\"https://api.bilibili.com/x/web-interface/online\"),\"[自定义顶栏] 分区投稿信息获取失败\");Object.values(this.categories).forEach((t=>{t.code&&(Array.isArray(t.code)?t.count=lodash.sum(t.code.map((t=>a[t]))):t.count=a[t.code])}))},mounted(){this.$el.style.maxHeight=\"inherit\",this.$nextTick((()=>{this.$el.style.maxHeight=\"\"}))}}),l=n(3379),p=n.n(l),d=n(4374),u=n.n(d),m={insert:\"head\",singleton:!1},f=(p()(u(),m),u().locals,(0,n(1900).Z)(c,i,[],!1,null,null,null));f.options.__file=\"registry/lib/components/style/custom-navbar/home/NavbarHome.vue\";var h=f.exports},4666:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return s}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)(\"iframe\",{attrs:{src:t.item.src,frameborder:\"0\",width:t.item.width,height:t.item.height}})};i._withStripped=!0;var a=n(3037),r=Vue.extend({name:\"IframePopup\",mixins:[a.u]}),o=(0,n(1900).Z)(r,i,[],!1,null,null,null);o.options.__file=\"registry/lib/components/style/custom-navbar/iframe/IframePopup.vue\";var s=o.exports},969:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.seasonLogoUrl?n(\"img\",{staticClass:\"custom-navbar-logo season\",attrs:{height:\"38\",src:t.seasonLogoUrl}}):n(\"VIcon\",{staticClass:\"custom-navbar-logo\",attrs:{icon:\"logo\"}})};i._withStripped=!0;var a=n(407),r=n(3663),o=n(8643),s=Vue.extend({name:\"NavbarLogo\",components:{VIcon:o.VIcon},data:()=>({seasonLogoUrl:\"\"}),watch:{seasonLogoUrl(){document.body.classList.toggle(\"season-logo-enabled\",Boolean(this.seasonLogoUrl))}},async created(){(0,a.addComponentListener)(\"customNavbar.seasonLogo\",(async t=>{if(!t)return void(this.seasonLogoUrl=\"\");const e=await(0,r.getJson)(\"https://api.bilibili.com/x/web-show/page/header?resource_id=1\");0===e.code?this.seasonLogoUrl=lodash.get(e,\"data.litpic\",\"\").replace(\"http:\",\"https:\"):this.seasonLogoUrl=\"\"}),!0)}}),c=n(3379),l=n.n(c),p=n(3324),d=n.n(p),u={insert:\"head\",singleton:!1},m=(l()(d(),u),d().locals,(0,n(1900).Z)(s,i,[],!1,null,null,null));m.options.__file=\"registry/lib/components/style/custom-navbar/logo/NavbarLogo.vue\";var f=m.exports},2542:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"messages-popup\",attrs:{role:\"list\"}},t._l(t.entries,(function(e){return n(\"div\",{key:e.name,staticClass:\"message-entry\",attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{\"data-prop\":e.prop,target:\"_blank\",href:e.href,\"data-count\":e.count||null},on:{click:function(n){return t.clearCount(e)}}},[t._v(t._s(e.name))])])})),0)};i._withStripped=!0;var a=n(3663),r=n(3037);const o=[{prop:\"reply\",href:\"https://message.bilibili.com/#/reply\",name:\"回复我的\"},{prop:\"at\",href:\"https://message.bilibili.com/#/at\",name:\"@我的\"},{prop:\"like\",href:\"https://message.bilibili.com/#/love\",name:\"收到的赞\"},{prop:\"sys_msg\",href:\"https://message.bilibili.com/#/system\",name:\"系统通知\"},{prop:\"user_msg\",href:\"https://message.bilibili.com/#/whisper\",name:\"我的消息\"},{href:\"https://message.bilibili.com/#/archive\",name:\"私信存档\"},{href:\"https://message.bilibili.com/#/config\",name:\"消息设置\"}];var s=Vue.extend({name:\"MessagesPopup\",mixins:[r.u],data:()=>({entries:o.map((t=>(t.count=0,t))),settings:{notify:!0,hideNotFollowedCount:!1,json:{}}}),async created(){await this.fetchSettings(),this.notify()},methods:{popupRefresh(){this.notify()},async fetchSettings(){const t=await(0,a.getJsonWithCredentials)(\"https://api.vc.bilibili.com/link_setting/v1/link_setting/get?msg_notify=1&show_unfollowed_msg=1\");0===t.code&&(this.settings={notify:3!==t.data.msg_notify,hideNotFollowedCount:1===t.data.show_unfollowed_msg,json:t.data})},async notify(){if(!this.settings.notify)return;const[t,e]=await Promise.all([(0,a.getJsonWithCredentials)(\"https://api.bilibili.com/x/msgfeed/unread\"),(0,a.getJsonWithCredentials)(\"https://api.vc.bilibili.com/session_svr/v1/session_svr/single_unread\")]);t.data.user_msg=e.data.follow_unread||0,this.settings.hideNotFollowedCount||(t.data.user_msg+=e.data.unfollow_unread||0),this.item.notifyCount=o.reduce(((e,n)=>e+(n.prop?t.data[n.prop]:0)),0),this.item.notifyCount&&(console.log(o),o.forEach((e=>{if(!e.prop)return;const n=t.data[e.prop];console.log(e.prop,e.count,n),n>0&&(e.count=n)})))},clearCount(t){this.item.notifyCount-=t.count,t.count=0}}}),c=n(3379),l=n.n(c),p=n(6617),d=n.n(p),u={insert:\"head\",singleton:!1},m=(l()(d(),u),d().locals,(0,n(1900).Z)(s,i,[],!1,null,\"589ce0fa\",null));m.options.__file=\"registry/lib/components/style/custom-navbar/messages/NavbarMessages.vue\";var f=m.exports},2632:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return m}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"ranking-popup\",attrs:{role:\"list\"}},t._l(t.entries,(function(e){return n(\"div\",{key:e.name,staticClass:\"ranking-entry\",attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{target:\"_blank\",href:e.href}},[t._v(t._s(e.name))])])})),0)};i._withStripped=!0;var a=n(3037);const r=[{href:\"https://www.bilibili.com/v/popular/all\",name:\"综合热门\"},{href:\"https://www.bilibili.com/v/popular/weekly\",name:\"每周必看\"},{href:\"https://www.bilibili.com/v/popular/history\",name:\"入站必刷\"},{href:\"https://www.bilibili.com/v/popular/rank/all\",name:\"排行榜\"}];var o=Vue.extend({name:\"RankingPopup\",mixins:[a.u],data:()=>({entries:r})}),s=n(3379),c=n.n(s),l=n(3369),p=n.n(l),d={insert:\"head\",singleton:!1},u=(c()(p(),d),p().locals,(0,n(1900).Z)(o,i,[],!1,null,\"6678d691\",null));u.options.__file=\"registry/lib/components/style/custom-navbar/ranking/NavbarRanking.vue\";var m=u.exports},5700:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return m}});var i=function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"custom-navbar-search\"},[e(\"LaunchBar\")],1)};i._withStripped=!0;var a=coreApis.componentApis.launchBar.LaunchBar,r=n.n(a),o=Vue.extend({components:{LaunchBar:r()}}),s=n(3379),c=n.n(s),l=n(2438),p=n.n(l),d={insert:\"head\",singleton:!1},u=(c()(p(),d),p().locals,(0,n(1900).Z)(o,i,[],!1,null,null,null));u.options.__file=\"registry/lib/components/style/custom-navbar/search/NavbarSearch.vue\";var m=u.exports},359:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"custom-navbar-extra-options\"},[t.login?n(\"VButton\",{ref:\"button\",on:{mouseover:function(e){return t.loadNavbarSettings()},click:function(e){return t.toggleNavbarSettings()}}},[t._v(\"\\n    布局设置\"),n(\"VIcon\",{attrs:{icon:\"right-arrow\",size:16}})],1):t._e()],1)};i._withStripped=!0;var a=n(3109),r=n(8643),o=n(5220),s=Vue.extend({components:{VIcon:r.VIcon,VButton:r.VButton},data:()=>({login:Boolean((0,a.getUID)())}),methods:{async loadNavbarSettings(){if(await(0,o.loadNavbarSettings)()){const t=this.$refs.button.$el;(0,o.setTriggerElement)(t)}},toggleNavbarSettings:o.toggleNavbarSettings}}),c=n(3379),l=n.n(c),p=n(8306),d=n.n(p),u={insert:\"head\",singleton:!1},m=(l()(d(),u),d().locals,(0,n(1900).Z)(s,i,[],!1,null,null,null));m.options.__file=\"registry/lib/components/style/custom-navbar/settings/ExtraOptions.vue\";var f=m.exports},4040:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return y}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"VPopup\",{ref:\"popup\",staticClass:\"custom-navbar-settings be-settings-extra-options\",attrs:{fixed:\"\",lazy:!1,\"trigger-element\":t.triggerElement},model:{value:t.open,callback:function(e){t.open=e},expression:\"open\"}},[n(\"div\",{staticClass:\"navbar-settings-header\"},[n(\"VIcon\",{staticClass:\"title-icon\",attrs:{icon:\"mdi-sort\",size:24}}),t._v(\" \"),n(\"div\",{staticClass:\"title\"},[t._v(\"\\n      顶栏布局设置\\n    \")]),t._v(\" \"),n(\"div\",{staticClass:\"grow\"}),t._v(\" \"),n(\"div\",{staticClass:\"close\",on:{click:function(e){t.open=!1}}},[n(\"VIcon\",{attrs:{icon:\"close\",size:18}})],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"navbar-settings-content\"},[n(\"div\",{staticClass:\"navbar-settings-section\"},[n(\"div\",{staticClass:\"navbar-settings-section-title\"},[t._v(\"\\n        边缘间距\\n      \")]),t._v(\" \"),n(\"div\",{staticClass:\"navbar-settings-section-description\"},[t._v(\"\\n        设定两侧边缘处的间距, 单位为百分比, 100%为整个顶栏的宽度.\\n        \"),n(\"br\"),t._v(\"空间不足时, 实际呈现的间距会自动缩小.\\n      \")]),t._v(\" \"),n(\"div\",{staticClass:\"navbar-settings-section-content\",on:{mouseover:function(e){return t.peekPadding(!0)},mouseout:function(e){return t.peekPadding(!1)}}},[n(\"VSlider\",{attrs:{min:0,max:40,step:.5},model:{value:t.padding,callback:function(e){t.padding=e},expression:\"padding\"}}),t._v(\" \"),n(\"div\",{staticClass:\"padding-value\"},[t._v(\"\\n          \"+t._s(t.padding.toFixed(1))+\"%\\n        \")])],1)]),t._v(\" \"),n(\"div\",{staticClass:\"navbar-settings-section\"},[n(\"div\",{staticClass:\"navbar-settings-section-title\"},[t._v(\"\\n        元素呈现\\n      \")]),t._v(\" \"),n(\"div\",{staticClass:\"navbar-settings-section-description\"},[t._v(\"\\n        按住并拖动可以调整顺序, 点击眼睛图标可以切换隐藏/显示.\\n      \")]),t._v(\" \"),t.loaded?t._e():n(\"VLoading\"),t._v(\" \"),n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.loaded,expression:\"loaded\"}],ref:\"navbarSortList\",staticClass:\"navbar-settings-section-content navbar-sort-list\"},t._l(t.rendered.items,(function(e){return n(\"div\",{key:e.name,staticClass:\"navbar-sort-item\",class:{\"navbar-hidden\":e.hidden},attrs:{\"data-name\":e.name},on:{mouseover:function(n){return t.peekItem(e,!0)},mouseout:function(n){return t.peekItem(e,!1)}}},[n(\"div\",{staticClass:\"item-name\"},[t._v(\"\\n            \"+t._s(e.displayName)+\"\\n          \")]),t._v(\" \"),n(\"div\",{staticClass:\"toggle-visible\"},[n(\"VIcon\",{attrs:{size:18,icon:e.hidden?\"mdi-eye-off-outline\":\"mdi-eye-outline\"},on:{click:function(n){return t.toggleVisible(e)}}})],1)])})),0)],1)])])};i._withStripped=!0;var a=n(8643),r=n(407),o=n(3109),s=coreApis.runtimeLibrary,c=n(8269),l=n(12);const p=t=>{t.forEach(((t,e)=>{t.order!==e&&(t.order=e)}));const e=Object.fromEntries(t.map((t=>[t.name,t.order])));l.kO.navbarOptions.order=e},{navbarOptions:d}=l.kO,[u]=(0,c.getData)(l.Je);var m=Vue.extend({components:{VPopup:a.VPopup,VIcon:a.VIcon,VSlider:a.VSlider,VLoading:a.VLoading},props:{triggerElement:{type:HTMLElement,default:null}},data:()=>({open:!1,padding:d.padding,rendered:u,hidden:d.hidden,loaded:!1}),watch:{padding:lodash.debounce((t=>{d.padding=t}),200)},async mounted(){(0,r.addComponentListener)(\"customNavbar.padding\",(t=>{this.padding!==t&&(this.padding=t)}));const t=this.$refs.navbarSortList;var e;(await s.SortableJSLibrary).create(t,{delay:100,forceFallback:!0,onEnd:t=>{this.onSort(t)}}),(e=u.items).every(((t,e)=>t.order===e))||p(e),this.loaded=!0},methods:{toggle(){this.$refs.popup.toggle()},peekPadding(t){(0,o.dqa)(\".custom-navbar .padding\").forEach((e=>e.classList.toggle(\"peek\",t)))},peekItem(t,e){t.element?.classList.toggle(\"peek\",e)},onSort(t){const e=this.$refs.navbarSortList,n=t.item;console.log(`${n.getAttribute(\"data-name\")} ${t.oldIndex}->${t.newIndex}`);const i=Object.fromEntries([...e.children].map(((t,e)=>[t.getAttribute(\"data-name\"),e])));this.rendered.items=((t,e)=>{const n=lodash.sortBy(t,(t=>e[t.name]));return p(n),n})(u.items,i)},toggleVisible(t){d.hidden.includes(t.name)?(lodash.pull(d.hidden,t.name),t.hidden=!1,console.log(\"delete\",t.name)):(d.hidden.push(t.name),t.hidden=!0,console.log(\"add\",t.name))}}}),f=n(3379),h=n.n(f),v=n(4754),b=n.n(v),g={insert:\"head\",singleton:!1},x=(h()(b(),g),b().locals,(0,n(1900).Z)(m,i,[],!1,null,null,null));x.options.__file=\"registry/lib/components/style/custom-navbar/settings/NavbarSettings.vue\";var y=x.exports},7898:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return s}});var i=function(){var t=this.$createElement;return(this._self._c||t)(\"SubscriptionsList\",{attrs:{type:\"bangumi\"}})};i._withStripped=!0;var a=n(806),r=Vue.extend({components:{SubscriptionsList:a.Z}}),o=(0,n(1900).Z)(r,i,[],!1,null,null,null);o.options.__file=\"registry/lib/components/style/custom-navbar/subscriptions/BangumiSubscriptions.vue\";var s=o.exports},8324:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return s}});var i=function(){var t=this.$createElement;return(this._self._c||t)(\"SubscriptionsList\",{attrs:{type:\"cinema\"}})};i._withStripped=!0;var a=n(806),r=Vue.extend({components:{SubscriptionsList:a.Z}}),o=(0,n(1900).Z)(r,i,[],!1,null,null,null);o.options.__file=\"registry/lib/components/style/custom-navbar/subscriptions/CinemaSubscriptions.vue\";var s=o.exports},8834:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"navbar-subscriptions\"},[n(\"TabControl\",{ref:\"tabControl\",attrs:{tabs:t.tabs,\"more-link\":t.moreLink}})],1)};i._withStripped=!0;var a=n(8643),r=n(3109),o=n(3037),s=n(2194),c=Vue.extend({components:{TabControl:a.TabControl},mixins:[o.u],data(){const t=(0,r.getUID)();return{moreLink:e=>`https://space.bilibili.com/${t}/${e.name}`,tabs:[{name:s.N.Bangumi,displayName:\"追番\",activeLink:`https://space.bilibili.com/${t}/bangumi`,component:()=>Promise.resolve().then(n.bind(n,7898)).then((t=>t.default))},{name:s.N.Cinema,displayName:\"追剧\",activeLink:`https://space.bilibili.com/${t}/cinema`,component:()=>Promise.resolve().then(n.bind(n,8324)).then((t=>t.default))}]}}}),l=n(3379),p=n.n(l),d=n(8734),u=n.n(d),m={insert:\"head\",singleton:!1},f=(p()(u(),m),u().locals,(0,n(1900).Z)(c,i,[],!1,null,null,null));f.options.__file=\"registry/lib/components/style/custom-navbar/subscriptions/NavbarSubscriptions.vue\";var h=f.exports},806:function(t,e,n){\"use strict\";n.d(e,{Z:function(){return x}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"subscription-list\"},[t.loading?n(\"VLoading\"):t.loading||0!==t.cards.length?[n(\"div\",{staticClass:\"subscription-content\"},t._l(t.cards,(function(e){return n(\"a\",{key:e.id,staticClass:\"subscription-card\",attrs:{href:e.playUrl,target:\"_blank\"}},[n(\"div\",{staticClass:\"cover-container\"},[n(\"DpiImage\",{staticClass:\"cover\",attrs:{src:e.coverUrl,size:64}})],1),t._v(\" \"),n(\"div\",{staticClass:\"card-info\"},[n(\"h1\",{staticClass:\"title\",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(\" \"),n(\"div\",{staticClass:\"progress-row\"},[e.status?n(\"div\",{staticClass:\"status\",class:\"status-\"+e.status},[t._v(t._s(e.statusText))]):t._e(),t._v(\" \"),e.progress?n(\"div\",{staticClass:\"progress\",attrs:{title:e.progress+\" | \"+e.latest}},[t._v(t._s(e.progress)+\" | \"+t._s(e.latest))]):n(\"div\",{staticClass:\"progress\",attrs:{title:e.latest}},[t._v(t._s(e.latest))]),t._v(\" \"),n(\"a\",{staticClass:\"info\",attrs:{href:e.mediaUrl,target:\"_blank\",title:\"详细信息\"}},[n(\"VIcon\",{attrs:{icon:\"mdi-information-outline\",size:16}})],1)])])])})),0),t._v(\" \"),t.hasMorePage?n(\"ScrollTrigger\",{on:{trigger:function(e){return t.nextPage()}}}):t._e()]:n(\"VEmpty\")],2)};i._withStripped=!0;var a,r=n(3109),o=n(5729),s=n(8643),c=n(3663),l=n(2194);!function(t){t[t.ToView=1]=\"ToView\",t[t.Viewing=2]=\"Viewing\",t[t.Viewed=3]=\"Viewed\"}(a||(a={}));const p=t=>{switch(t){case a.ToView:return\"想看\";case a.Viewing:default:return\"在看\";case a.Viewed:return\"看过\"}},d=(t,e)=>{let n=t.status;n!==a.Viewed&&(n=a.Viewed-n);let i=e.status;return i!==a.Viewed&&(i=a.Viewed-i),n-i};var u=Vue.extend({components:{DpiImage:s.DpiImage,VLoading:s.VLoading,VEmpty:s.VEmpty,VIcon:s.VIcon,ScrollTrigger:s.ScrollTrigger},props:{type:{type:String,default:l.N.Bangumi}},data:()=>({loading:!0,hasMorePage:!0,cards:[],page:1}),async created(){this.nextPage()},methods:{async nextPage(){try{const t=await(0,c.getJsonWithCredentials)(`https://api.bilibili.com/x/space/bangumi/follow/list?type=${this.type!==l.N.Bangumi?\"2\":\"1\"}&pn=${this.page}&ps=16&vmid=${(0,r.getUID)()}`);if(0!==t.code)return void(0,o.logError)(`加载订阅信息失败: ${t.message}`);const e=lodash.uniqBy(this.cards.concat(lodash.get(t,\"data.list\").map((t=>({title:t.title,coverUrl:t.square_cover.replace(\"http:\",\"https:\"),latest:t.new_ep.index_show,progress:t.progress,id:t.season_id,status:t.follow_status,statusText:p(t.follow_status),playUrl:`https://www.bilibili.com/bangumi/play/ss${t.season_id}`,mediaUrl:`https://www.bilibili.com/bangumi/media/md${t.media_id}`})))),(t=>t.id)).sort(d);this.page++,this.cards=e,this.hasMorePage=lodash.get(t,\"data.total\",0)>this.cards.length}finally{this.loading=!1}}}}),m=n(3379),f=n.n(m),h=n(7104),v=n.n(h),b={insert:\"head\",singleton:!1},g=(f()(v(),b),v().locals,(0,n(1900).Z)(u,i,[],!1,null,null,null));g.options.__file=\"registry/lib/components/style/custom-navbar/subscriptions/SubscriptionsList.vue\";var x=g.exports},6426:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"navbar-upload\"},[n(\"VIcon\",{attrs:{icon:\"upload\",size:18}}),t._v(\" \"),n(\"div\",{staticClass:\"navbar-upload-name\"},[t._v(\"\\n    投稿\\n  \")])],1)};i._withStripped=!0;var a=n(8643),r=Vue.extend({components:{VIcon:a.VIcon}}),o=n(3379),s=n.n(o),c=n(8961),l=n.n(c),p={insert:\"head\",singleton:!1},d=(s()(l(),p),l().locals,(0,n(1900).Z)(r,i,[],!1,null,\"1a272463\",null));d.options.__file=\"registry/lib/components/style/custom-navbar/upload/NavbarUpload.vue\";var u=d.exports},4037:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)};i._withStripped=!0;var a=n(3037),r=Vue.extend({mixins:[a.u]}),o=n(3379),s=n.n(o),c=n(2360),l=n.n(c),p={insert:\"head\",singleton:!1},d=(s()(l(),p),l().locals,(0,n(1900).Z)(r,i,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"upload-popup\",attrs:{role:\"list\"}},[n(\"div\",{attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{target:\"_blank\",href:\"https://member.bilibili.com/platform/upload/text/apply\"}},[t._v(\"专栏投稿\")])]),t._v(\" \"),n(\"div\",{attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{target:\"_blank\",href:\"https://member.bilibili.com/platform/upload/audio/frame\"}},[t._v(\"音频投稿\")])]),t._v(\" \"),n(\"div\",{attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{target:\"_blank\",href:\"https://member.bilibili.com/platform/upload/sticker\"}},[t._v(\"贴纸投稿\")])]),t._v(\" \"),n(\"div\",{attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{target:\"_blank\",href:\"https://member.bilibili.com/platform/upload/video/frame\"}},[t._v(\"视频投稿\")])]),t._v(\" \"),n(\"div\",{attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{target:\"_blank\",href:\"https://member.bilibili.com/platform/upload-manager/article\"}},[t._v(\"投稿管理\")])]),t._v(\" \"),n(\"div\",{attrs:{role:\"listitem\"}},[n(\"a\",{attrs:{target:\"_blank\",href:\"https://member.bilibili.com/platform/home\"}},[t._v(\"创作中心\")])])])}],!1,null,\"a07cc62e\",null));d.options.__file=\"registry/lib/components/style/custom-navbar/upload/UploadPopup.vue\";var u=d.exports},399:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return h}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"user-face-container\"},[n(\"img\",{staticClass:\"user-face\",attrs:{src:t.faceSrc,srcset:t.faceSrcset}}),t._v(\" \"),n(\"img\",{staticClass:\"user-pendant\",attrs:{src:t.pendantSrc,srcset:t.pendantSrcset}})])};i._withStripped=!0;var a=n(3278),r=n(3109),o=coreApis.utils.constants;const s=\"//static.hdslb.com/images/member/noface.gif\";var c=Vue.extend({name:\"UserFace\",data:()=>({faceSrc:o.EmptyImageUrl,pendantSrc:o.EmptyImageUrl,faceSrcset:null,pendantSrcset:null}),async created(){const t=await(0,a.getUserInfo)();if(t.isLogin){if(t.face){const e=t.face.replace(\"http\",\"https\");if(e.includes(s))this.faceSrc=s;else{const t=68;this.faceSrc=e,this.faceSrcset=(0,r.getDpiSourceSet)(e,t)}}if(t.pendant?.image){const e=t.pendant.image.replace(\"http\",\"https\"),n=116;this.pendantSrcset=(0,r.getDpiSourceSet)(e,n,\"png\")}}else this.faceSrc=\"https://static.hdslb.com/images/akari.jpg\"}}),l=n(3379),p=n.n(l),d=n(464),u=n.n(d),m={insert:\"head\",singleton:!1},f=(p()(u(),m),u().locals,(0,n(1900).Z)(c,i,[],!1,null,null,null));f.options.__file=\"registry/lib/components/style/custom-navbar/user-info/UserFace.vue\";var h=f.exports},7437:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return b}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"user-info-panel\"},[t.isLogin&&!0===t.userInfo.isLogin?n(\"div\",{staticClass:\"logged-in\"},[n(\"a\",{staticClass:\"name\",attrs:{target:\"_blank\",href:\"https://space.bilibili.com/\"}},[t._v(t._s(t.userInfo.uname))]),t._v(\" \"),n(\"a\",{staticClass:\"type\",attrs:{target:\"_blank\",href:\"https://account.bilibili.com/account/big\"}},[t._v(t._s(t.userType))]),t._v(\" \"),1===t.userInfo.vipStatus&&2===t.userInfo.vipType?n(\"div\",{staticClass:\"privileges row\"},[n(\"div\",{staticClass:\"b-coin\",class:{received:t.privileges.bCoin.received},attrs:{title:\"有效期限: \"+t.privileges.bCoin.expire},on:{click:function(e){return t.privilegeReceive(1)}}},[t._v(\"\\n        \"+t._s(t.privileges.bCoin.received?\"已领取B币\":\"领取B币\")+\"\\n      \")]),t._v(\" \"),n(\"div\",{staticClass:\"coupons\",class:{received:t.privileges.coupons.received},attrs:{title:\"有效期限: \"+t.privileges.coupons.expire},on:{click:function(e){return t.privilegeReceive(2)}}},[t._v(\"\\n        \"+t._s(t.privileges.coupons.received?\"已领取优惠券\":\"领取优惠券\")+\"\\n      \")])]):t._e(),t._v(\" \"),n(\"div\",{staticClass:\"level-info row\"},[n(\"a\",{staticClass:\"level\",attrs:{target:\"_blank\",title:\"等级\",href:\"https://account.bilibili.com/account/record\"}},[n(\"VIcon\",{staticClass:\"level-icon\",attrs:{icon:\"lv\"+t.userInfo.level_info.current_level}})],1),t._v(\" \"),n(\"span\",{staticClass:\"level-progress-label\"},[t._v(t._s(t.userInfo.level_info.current_exp)+\" / \"+t._s(t.userInfo.level_info.next_exp))])]),t._v(\" \"),n(\"div\",{staticClass:\"level-progress separator\"},[n(\"div\",{staticClass:\"level-progress-thumb\",style:t.levelProgressStyle})]),t._v(\" \"),n(\"div\",{staticClass:\"items\"},[n(\"a\",{staticClass:\"item\",attrs:{target:\"_blank\",title:\"手机验证\",href:\"https://passport.bilibili.com/account/security#/bindphone\"}},[n(\"VIcon\",{attrs:{icon:\"bind-phone\",size:20}}),t._v(\" \"),t.userInfo.mobile_verified?n(\"VIcon\",{attrs:{icon:\"ok\",size:18}}):n(\"VIcon\",{attrs:{icon:\"cancel\",size:18}})],1),t._v(\" \"),n(\"a\",{staticClass:\"item\",attrs:{target:\"_blank\",title:\"邮箱验证\",href:\"https://passport.bilibili.com/account/security#/bindmail\"}},[n(\"VIcon\",{attrs:{icon:\"bind-email\",size:20}}),t._v(\" \"),t.userInfo.email_verified?n(\"VIcon\",{attrs:{icon:\"ok\",size:18}}):n(\"VIcon\",{attrs:{icon:\"cancel\",size:18}})],1),t._v(\" \"),n(\"a\",{staticClass:\"item\",attrs:{target:\"_blank\",href:\"https://account.bilibili.com/site/coin\",title:\"硬币\"}},[n(\"VIcon\",{attrs:{icon:\"coin-outline\",size:20}}),t._v(\" \"),n(\"span\",[t._v(t._s(t.userInfo.money))])],1),t._v(\" \"),n(\"a\",{staticClass:\"item\",attrs:{target:\"_blank\",href:\"https://pay.bilibili.com/bb_balance.html\",title:\"B币\"}},[n(\"VIcon\",{attrs:{icon:\"b-coin-outline\",size:20}}),t._v(\" \"),n(\"span\",[t._v(t._s(t.userInfo.wallet.bcoin_balance))])],1)]),t._v(\" \"),n(\"div\",{staticClass:\"separator\"}),t._v(\" \"),n(\"div\",{staticClass:\"stats\"},[n(\"a\",{staticClass:\"stats-item\",attrs:{href:\"https://space.bilibili.com/\"+t.userInfo.mid+\"/fans/follow\",target:\"_blank\"}},[n(\"div\",{staticClass:\"stats-number\"},[t._v(t._s(t._f(\"count\")(t.stat.following)))]),t._v(\"关注\\n      \")]),t._v(\" \"),n(\"a\",{staticClass:\"stats-item\",attrs:{href:\"https://space.bilibili.com/\"+t.userInfo.mid+\"/fans/fans\",target:\"_blank\"}},[n(\"div\",{staticClass:\"stats-number\"},[t._v(t._s(t._f(\"count\")(t.stat.follower)))]),t._v(\"粉丝\\n      \")]),t._v(\" \"),n(\"a\",{staticClass:\"stats-item\",attrs:{href:\"https://space.bilibili.com/\"+t.userInfo.mid+\"/dynamic\",target:\"_blank\"}},[n(\"div\",{staticClass:\"stats-number\"},[t._v(t._s(t._f(\"count\")(t.stat.dynamic_count)))]),t._v(\"动态\\n      \")])]),t._v(\" \"),n(\"div\",{staticClass:\"separator\"}),t._v(\" \"),n(\"a\",{staticClass:\"bv-custom-navbar-operation\",attrs:{target:\"_blank\",href:\"https://account.bilibili.com/account/home\"}},[n(\"VIcon\",{attrs:{icon:\"profile\"}}),t._v(\"个人中心\\n    \")],1),t._v(\" \"),n(\"a\",{staticClass:\"bv-custom-navbar-operation\",attrs:{target:\"_blank\",href:\"https://member.bilibili.com/platform/upload-manager/article\"}},[n(\"VIcon\",{attrs:{icon:\"posts\"}}),t._v(\"投稿管理\\n    \")],1),t._v(\" \"),n(\"a\",{staticClass:\"bv-custom-navbar-operation\",attrs:{target:\"_blank\",href:\"https://pay.bilibili.com/\"}},[n(\"VIcon\",{attrs:{icon:\"wallet\"}}),t._v(\"B币钱包\\n    \")],1),t._v(\" \"),n(\"a\",{staticClass:\"bv-custom-navbar-operation\",attrs:{target:\"_blank\",href:\"https://link.bilibili.com/p/center/index\"}},[n(\"VIcon\",{attrs:{icon:\"live-center\"}}),t._v(\"直播中心\\n    \")],1),t._v(\" \"),n(\"a\",{staticClass:\"bv-custom-navbar-operation\",attrs:{target:\"_blank\",href:\"https://show.bilibili.com/orderlist\"}},[n(\"VIcon\",{attrs:{icon:\"order-center\"}}),t._v(\"订单中心\\n    \")],1),t._v(\" \"),n(\"a\",{staticClass:\"bv-custom-navbar-operation\",attrs:{target:\"_blank\",href:\"https://www.bilibili.com/v/cheese/mine\"}},[n(\"VIcon\",{attrs:{icon:\"course\"}}),t._v(\"我的课程\\n    \")],1),t._v(\" \"),n(\"div\",{staticClass:\"logout grey-button\",on:{click:function(e){return t.logout()}}},[t._v(\"\\n      退出登录\\n    \")])]):t._e(),t._v(\" \"),t.isLogin?t._e():n(\"div\",{staticClass:\"not-logged-in\"},[n(\"h1\",{staticClass:\"welcome\"},[t._v(\"\\n      欢迎来到 bilibili\\n    \")]),t._v(\" \"),n(\"a\",{staticClass:\"signup grey-button\",attrs:{href:\"https://passport.bilibili.com/register/phone.html\"}},[t._v(\"注册\")]),t._v(\" \"),n(\"a\",{staticClass:\"login theme-button\",attrs:{href:\"https://passport.bilibili.com/login\"}},[t._v(\"登录\")])])])};i._withStripped=!0;var a=n(3109),r=n(8117),o=n(5729),s=n(3663),c=n(3278),l=n(3037),p=Vue.extend({components:{VIcon:coreApis.ui.VIcon},filters:{count:r.formatCount},mixins:[l.u],data:()=>({userInfo:{},stat:{},isLogin:Boolean((0,a.getUID)()),privileges:{bCoin:{received:!1,expire:\"\"},coupons:{received:!1,expire:\"\"}}}),computed:{userType(){if(!this.userInfo.isLogin)return\"未登录\";if(0===this.userInfo.level_info.current_level)return\"注册会员\";if(1===this.userInfo.vipStatus){if(1===this.userInfo.vipType)return this.userInfo.vip_theme_type?\"小会员\":\"大会员\";if(2===this.userInfo.vipType)return this.userInfo.vip_theme_type?\"年度小会员\":\"年度大会员\"}return\"正式会员\"},levelProgressStyle(){if(!this.userInfo.isLogin)return{};const{current_exp:t,current_min:e,next_exp:n}=this.userInfo.level_info;return{transform:`scaleX(${(t-e)/(n-e)})`}}},async created(){const t=await(0,c.getUserInfo)();this.userInfo=t;const e=await(0,s.getJsonWithCredentials)(\"https://api.bilibili.com/x/web-interface/nav/stat\");if(this.stat=e.data||{},this.isLogin&&2===this.userInfo.vipType){const t=await(0,s.getJsonWithCredentials)(\"https://api.bilibili.com/x/vip/privilege/my\");if(0===t.code){const e=t.data.list.find((t=>1===t.type));this.privileges.bCoin.received=1===e.state,this.privileges.bCoin.expire=new Date(1e3*e.expire_time).toLocaleDateString();const n=t.data.list.find((t=>2===t.type));this.privileges.coupons.received=1===n.state,this.privileges.coupons.expire=new Date(1e3*n.expire_time).toLocaleDateString()}}},methods:{async privilegeReceive(t){const e={1:\"bCoin\",2:\"coupons\"};if(this.privileges[e[t]].received)return;this.privileges[e[t]].received=!0;const n=(0,a.getCsrf)(),i=await(await fetch(\"https://api.bilibili.com/x/vip/privilege/receive\",{credentials:\"include\",headers:{\"content-type\":\"application/x-www-form-urlencoded\"},body:`type=${t}&csrf=${n}`,method:\"POST\"})).json();console.log(i),0===i.code?\"bCoin\"===e[t]&&(this.userInfo.wallet.bcoin_balance+=5):69801===i.code||(this.privileges[e[t]].received=!1,(0,o.logError)(i.message))},async logout(){const t=await(0,s.postTextWithCredentials)(\"https://passport.bilibili.com/login/exit/v2\",(0,a.formData)({biliCSRF:(0,a.getCsrf)()})),e=lodash.get(JSON.parse(t),\"data.redirectUrl\",\"\");e&&window.location.assign(e)}}}),d=n(3379),u=n.n(d),m=n(9692),f=n.n(m),h={insert:\"head\",singleton:!1},v=(u()(f(),h),f().locals,(0,n(1900).Z)(p,i,[],!1,null,null,null));v.options.__file=\"registry/lib/components/style/custom-navbar/user-info/UserInfoPopup.vue\";var b=v.exports},5878:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return v}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"watchlater-list\"},[n(\"div\",{staticClass:\"header\"},[n(\"div\",{staticClass:\"search\"},[n(\"TextBox\",{attrs:{linear:\"\",placeholder:\"搜索\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"a\",{staticClass:\"operation\",attrs:{target:\"_blank\",href:\"https://www.bilibili.com/medialist/play/watchlater\"}},[n(\"VButton\",{staticClass:\"round-button\",attrs:{title:\"播放全部\",round:\"\"}},[n(\"VIcon\",{attrs:{icon:\"mdi-play\",size:18}})],1)],1),t._v(\" \"),n(\"a\",{staticClass:\"operation\",attrs:{target:\"_blank\",href:\"https://www.bilibili.com/watchlater/#/list\"}},[n(\"VButton\",{staticClass:\"round-button\",attrs:{title:\"查看更多\",round:\"\"}},[n(\"VIcon\",{attrs:{icon:\"mdi-dots-horizontal\",size:18}})],1)],1)]),t._v(\" \"),t.loading?n(\"VLoading\"):t.loading||0!==t.cards.length?n(\"transition-group\",{staticClass:\"watchlater-list-content\",attrs:{name:\"cards\",tag:\"div\"}},t._l(t.filteredCards,(function(e,i){return n(\"div\",{key:e.aid,staticClass:\"watchlater-card\"},[n(\"a\",{staticClass:\"cover-container\",attrs:{target:\"_blank\",href:e.href}},[n(\"DpiImage\",{staticClass:\"cover\",attrs:{src:e.coverUrl,size:{width:130,height:85}}}),t._v(\" \"),n(\"div\",{staticClass:\"floating remove\",attrs:{title:\"移除\"},on:{click:function(n){return n.preventDefault(),t.remove(e.aid,i)}}},[n(\"VIcon\",{attrs:{icon:\"mdi-close\",size:16}})],1),t._v(\" \"),n(\"div\",{staticClass:\"floating duration\"},[t._v(t._s(e.durationText))]),t._v(\" \"),e.complete?n(\"div\",{staticClass:\"floating viewed\"},[t._v(\"已观看\")]):t._e()],1),t._v(\" \"),n(\"a\",{staticClass:\"title\",attrs:{target:\"_blank\",href:e.href,title:e.title}},[t._v(t._s(e.title))]),t._v(\" \"),n(\"a\",{staticClass:\"up\",attrs:{target:\"_blank\",href:\"https://space.bilibili.com/\"+e.upID,title:e.upName}},[n(\"DpiImage\",{staticClass:\"face\",attrs:{src:e.upFaceUrl,size:20}}),t._v(\" \"),n(\"div\",{staticClass:\"name\"},[t._v(t._s(e.upName))])],1)])})),0):n(\"VEmpty\")],1)};i._withStripped=!0;var a=n(407),r=n(8117),o=coreApis.componentApis.video.watchlater,s=n(8643),c=n(3037),l=Vue.extend({components:{VLoading:s.VLoading,VEmpty:s.VEmpty,TextBox:s.TextBox,VButton:s.VButton,VIcon:s.VIcon,DpiImage:s.DpiImage},mixins:[c.u],data(){const t=(0,a.getComponentSettings)(\"watchlaterRedirect\");return{watchlaterList:o.watchlaterList,loading:!0,cards:[],filteredCards:[],search:\"\",redirect:t.enabled&&t.options.navbar}},watch:{search(){this.updateFilteredCards()}},async created(){try{await this.updateList()}finally{this.loading=!1}},methods:{toggleWatchlater:o.toggleWatchlater,popupRefresh(){this.updateList()},async updateList(){const t=await(0,o.getWatchlaterList)(!0);if(!t)return void(this.cards=[]);const e=t=>this.redirect?`https://www.bilibili.com/video/${t.bvid}`:`https://www.bilibili.com/medialist/play/watchlater/${t.bvid}`,n=t.map((t=>{const n=(()=>{if(void 0===t.pages||!this.redirect)return e(t);const n=t.pages.map((t=>t.cid)),i=0===t.cid?1:n.indexOf(t.cid)+1;return i<=1?e(t):`${e(t)}?p=${i}`})(),i=Math.round(1e3*t.progress/t.duration)/1e3;return{aid:t.aid,href:n,coverUrl:t.pic.replace(\"http:\",\"https:\"),durationText:(0,r.formatDuration)(t.duration),duration:t.duration,complete:t.progress<0||i>.95,title:t.title,upName:t.owner.name,upFaceUrl:t.owner.face.replace(\"http:\",\"https:\"),upID:t.owner.mid}}));this.cards=n,this.search?this.updateFilteredCards():this.filteredCards=n},async remove(t,e){this.cards.splice(e,1),await this.toggleWatchlater(t),this.lastRemovedAid=t},async undo(){const t=this.lastRemovedAid;0!==t&&await this.toggleWatchlater(t)},updateFilteredCards:lodash.debounce((function(){const t=this.search.toLowerCase();this.$el.querySelector(\".watchlater-list-content\").scrollTo(0,0),this.filteredCards=this.cards.filter((e=>e.title.toLowerCase().includes(t)||e.upName.toLowerCase().includes(t)))}),100)}}),p=n(3379),d=n.n(p),u=n(8120),m=n.n(u),f={insert:\"head\",singleton:!1},h=(d()(m(),f),m().locals,(0,n(1900).Z)(l,i,[],!1,null,null,null));h.options.__file=\"registry/lib/components/style/custom-navbar/watchlater/NavbarWatchlater.vue\";var v=h.exports},1900:function(t,e,n){\"use strict\";function i(t,e,n,i,a,r,o,s){var c,l=\"function\"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId=\"data-v-\"+r),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):a&&(c=s?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var p=l.render;l.render=function(t,e){return c.call(e),p(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,{Z:function(){return i}})},3663:function(t){\"use strict\";t.exports=coreApis.ajax},2023:function(t){\"use strict\";t.exports=coreApis.componentApis.feeds.api},3864:function(t){\"use strict\";t.exports=coreApis.componentApis.feeds.notify},1212:function(t){\"use strict\";t.exports=coreApis.componentApis.utils.categories.data},8269:function(t){\"use strict\";t.exports=coreApis.pluginApis.data},407:function(t){\"use strict\";t.exports=coreApis.settings},8643:function(t){\"use strict\";t.exports=coreApis.ui},3278:function(t){\"use strict\";t.exports=coreApis.userInfo},8117:function(t){\"use strict\";t.exports=coreApis.utils.formatters},5729:function(t){\"use strict\";t.exports=coreApis.utils.log},4522:function(t){\"use strict\";t.exports=coreApis.utils.sort},3109:function(t){\"use strict\";t.exports=coreApis.utils}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={id:t,exports:{}};return n[t](r,r.exports,a),r.exports}a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if(\"object\"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&\"function\"==typeof n.then)return n}var r=Object.create(null);a.r(r);var o={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&n;\"object\"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){o[t]=function(){return n[t]}}));return o.default=function(){return n},a.d(r,o),r},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";a.d(r,{component:function(){return n}});var t=a(407),e=a(3109);const n={name:\"customNavbar\",displayName:\"自定义顶栏\",description:\"\\n使用脚本提供的顶栏替换原版的主站顶栏 (非主站不替换), 启用后还可以在反广告插件 (例如 ABP) 中配置禁止原版顶栏的消息 iframe 以提升性能:\\n- *://message.bilibili.com/pages/nav/index_new_pc_sync\\n- *://message.bilibili.com/pages/nav/index_new_sync\\n  \".trim(),entry:async({metadata:{name:n}})=>{if((0,e.isIframe)()||(0,e.isNotHtml)())return;(0,t.addComponentListener)(`${n}.padding`,(t=>{document.documentElement.style.setProperty(\"--navbar-bounds-padding\",`${t}%`)}),!0);[\"https://space.bilibili.com\",\"https://www.bilibili.com/read\",\"https://www.bilibili.com/account/history\"].some((t=>(0,e.matchUrlPattern)(t)))||(0,t.addComponentListener)(`${n}.globalFixed`,(t=>{document.body.classList.toggle(\"fixed-navbar\",t)}),!0);const i=await Promise.resolve().then(a.bind(a,2631)),r=(0,e.mountVueComponent)(i);document.body.insertAdjacentElement(\"beforeend\",r.$el),[\"fill\",\"shadow\",\"blur\"].forEach((e=>{(0,t.addComponentListener)(`${n}.${e}`,(t=>r.toggleStyle(t,e)),!0)}))},tags:[componentsTags.style,componentsTags.general],options:{hidden:{hidden:!0,defaultValue:[\"blank1\",\"blank4\",\"drawing\",\"music\",\"gamesIframe\",\"bangumi\",\"match\"],displayName:\"隐藏的元素\"},order:{hidden:!0,defaultValue:{},displayName:\"元素顺序\"},padding:{hidden:!0,defaultValue:10,displayName:\"边缘间距(%)\"},globalFixed:{defaultValue:!1,displayName:\"全局固定\"},fill:{defaultValue:!1,displayName:\"主题色填充\"},transparent:{defaultValue:!0,displayName:\"透明填充\"},blur:{defaultValue:!1,displayName:\"背景模糊\"},shadow:{defaultValue:!0,displayName:\"投影\"},seasonLogo:{defaultValue:!1,displayName:\"使用季节Logo\"},touch:{defaultValue:!1,displayName:\"触摸模式\"},openInNewTab:{defaultValue:!0,displayName:\"新标签页打开\"},refreshOnPopup:{defaultValue:!0,displayName:\"自动刷新数据\"},openInNewTabOverrides:{defaultValue:{logo:!1},displayName:\"新标签页打开设置覆盖\",hidden:!0},showDeadVideos:{defaultValue:!1,displayName:\"显示已失效视频\",hidden:!0}},urlInclude:[\"//www.bilibili.com\",\"//t.bilibili.com\",\"//search.bilibili.com\",\"//space.bilibili.com\",\"//account.bilibili.com\",\"//pay.bilibili.com\",\"//member.bilibili.com\",\"//big.bilibili.com\",\"//message.bilibili.com\",\"//app.bilibili.com\",\"//passport.bilibili.com\",\"//live.bilibili.com/blackboard/\"],urlExclude:[\"//t.bilibili.com/vote/h5/index/#/result\",\"//t.bilibili.com/lottery/h5/index/#/result\",\"//member.bilibili.com/video/upload\",\"//member.bilibili.com/platform\",\"//space.bilibili.com/ajax/\",\"//www.bilibili.com/h5/comment/\",\"//member.bilibili.com/v2\",\"//game.bilibili.com/\"],instantStyles:[{name:\"custom-navbar-style\",style:()=>Promise.resolve().then(a.t.bind(a,6064,23)),important:!0}],unload:async()=>{document.querySelectorAll(\".custom-navbar,.custom-navbar-settings\").forEach((t=>t.style.display=\"none\"))},reload:async()=>{document.querySelectorAll(\".custom-navbar,.custom-navbar-settings\").forEach((t=>t.style.display=\"flex\"))},extraOptions:()=>Promise.resolve().then(a.bind(a,359)).then((t=>t.default)),plugin:{displayName:\"自定义顶栏 - 功能扩展\",setup:({addData:t})=>{t(\"launchBar.actions\",(t=>{t.push({name:\"navbarSettings\",getActions:async()=>[{name:\"自定义顶栏设置\",description:\"Custom Navbar Settings\",icon:\"mdi-sort\",action:async()=>{const{toggleNavbarSettings:t}=await Promise.resolve().then(a.bind(a,5220));t()}}]})}))}},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "customNavbar",
        "displayName": "自定义顶栏",
        "description": "使用脚本提供的顶栏替换原版的主站顶栏 (非主站不替换), 启用后还可以在反广告插件 (例如 ABP) 中配置禁止原版顶栏的消息 iframe 以提升性能:\n- *://message.bilibili.com/pages/nav/index_new_pc_sync\n- *://message.bilibili.com/pages/nav/index_new_sync",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "general",
            "displayName": "通用",
            "color": "#888",
            "icon": "mdi-progress-wrench",
            "order": 8
          }
        ],
        "options": {
          "hidden": {
            "hidden": true,
            "defaultValue": [
              "blank1",
              "blank4",
              "drawing",
              "music",
              "gamesIframe",
              "bangumi",
              "match"
            ],
            "displayName": "隐藏的元素"
          },
          "order": {
            "hidden": true,
            "defaultValue": {},
            "displayName": "元素顺序"
          },
          "padding": {
            "hidden": true,
            "defaultValue": 10,
            "displayName": "边缘间距(%)"
          },
          "globalFixed": {
            "defaultValue": false,
            "displayName": "全局固定"
          },
          "fill": {
            "defaultValue": false,
            "displayName": "主题色填充"
          },
          "transparent": {
            "defaultValue": true,
            "displayName": "透明填充"
          },
          "blur": {
            "defaultValue": false,
            "displayName": "背景模糊"
          },
          "shadow": {
            "defaultValue": true,
            "displayName": "投影"
          },
          "seasonLogo": {
            "defaultValue": false,
            "displayName": "使用季节Logo"
          },
          "touch": {
            "defaultValue": false,
            "displayName": "触摸模式"
          },
          "openInNewTab": {
            "defaultValue": true,
            "displayName": "新标签页打开"
          },
          "refreshOnPopup": {
            "defaultValue": true,
            "displayName": "自动刷新数据"
          },
          "openInNewTabOverrides": {
            "defaultValue": {
              "logo": false
            },
            "displayName": "新标签页打开设置覆盖",
            "hidden": true
          },
          "showDeadVideos": {
            "defaultValue": false,
            "displayName": "显示已失效视频",
            "hidden": true
          }
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {
          "hidden": [
            "blank1",
            "blank4",
            "drawing",
            "music",
            "gamesIframe",
            "bangumi",
            "match"
          ],
          "order": {
            "blank1": 0,
            "logo": 1,
            "home": 2,
            "bangumi": 3,
            "ranking": 4,
            "drawing": 5,
            "music": 6,
            "gamesIframe": 7,
            "livesIframe": 8,
            "shop": 9,
            "match": 10,
            "mangaIframe": 11,
            "blank2": 12,
            "search": 13,
            "blank3": 14,
            "userInfo": 15,
            "messages": 16,
            "feeds": 17,
            "subscriptions": 18,
            "watchlater": 19,
            "favorites": 20,
            "history": 21,
            "upload": 22,
            "blank4": 23
          },
          "padding": 10,
          "globalFixed": false,
          "fill": false,
          "transparent": false,
          "blur": false,
          "shadow": true,
          "seasonLogo": false,
          "touch": false,
          "openInNewTab": true,
          "refreshOnPopup": true,
          "openInNewTabOverrides": {
            "logo": false
          },
          "showDeadVideos": false
        }
      }
    },
    "liveDanmakuSendbar": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"live/danmaku-sendbar\"]=n():e[\"live/danmaku-sendbar\"]=n()}(self,(function(){return function(){var e,n,t={281:function(e,n,t){\"use strict\";t.d(n,{M6:function(){return r},Jd:function(){return o},xO:function(){return a}});const r=\".control-panel-ctnr .chat-input-ctnr .chat-input\",o=\".control-panel-ctnr .chat-input-ctnr ~ .bottom-actions .bl-button--primary\",a=\".left-area\"},667:function(e,n,t){var r=t(645)((function(e){return e[1]}));r.push([e.id,\".live-web-player-controller .danmaku-send-bar {\\n  display: none;\\n}\\n.live-web-player-controller {\\n  background-image: linear-gradient(to bottom, transparent 20%, rgba(0, 0, 0, 0.9));\\n}\\n@media screen and (min-width: 1038px) {\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar {\\n    display: flex;\\n    margin: 0 24px;\\n    flex: 1 1 0;\\n    height: 24px;\\n    justify-content: center;\\n    align-items: center;\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input {\\n    outline: none !important;\\n    border: none;\\n    border-bottom: 2px solid rgba(255,255,255,0.53333);\\n    background-color: transparent;\\n    color: #fff;\\n    padding: 4px;\\n    line-height: normal;\\n    flex: 1;\\n    width: 0;\\n    max-width: 400px;\\n    min-width: 70px;\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input[focus-within] {\\n    border-color: var(--theme-color);\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input:focus-within {\\n    border-color: var(--theme-color);\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input::-webkit-input-placeholder {\\n    color: rgba(255,255,255,0.53333) !important;\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .right-area {\\n    flex: 0 0 auto !important;\\n}\\n}\",\"\"]),e.exports=r},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,r){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(r)for(var a=0;a<this.length;a++){\n// eslint-disable-next-line prefer-destructuring\nvar i=this[a][0];null!=i&&(o[i]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&o[u[0]]||(t&&(u[2]?u[2]=\"\".concat(t,\" and \").concat(u[2]):u[2]=t),n.push(u))}},n}},379:function(e,n,t){\"use strict\";var r,o=function(){return void 0===r&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\nr=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function l(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function u(e,n){for(var t={},r=[],o=0;o<e.length;o++){var a=e[o],u=n.base?a[0]+n.base:a[0],s=t[u]||0,c=\"\".concat(u,\" \").concat(s);t[u]=s+1;var d=l(c),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:c,updater:h(f,n),references:1}),r.push(c)}return r}function s(e){var n=document.createElement(\"style\"),r=e.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),\"function\"==typeof e.insert)e.insert(n);else{var i=a(e.insert||\"head\");if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");i.appendChild(n)}return n}var c,d=(c=[],function(e,n){return c[e]=n,c.filter(Boolean).join(\"\\n\")});function f(e,n,t,r){var o=t?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var a=document.createTextNode(o),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(a,i[n]):e.appendChild(a)}}function p(e,n,t){var r=t.css,o=t.media,a=t.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),a&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var v=null,m=0;function h(e,n){var t,r,o;if(n.singleton){var a=m++;t=v||(v=s(n)),r=f.bind(null,t,a,!1),o=f.bind(null,t,a,!0)}else t=s(n),r=p.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=o());var t=u(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=l(t[r]);i[o].references--}for(var a=u(e,n),s=0;s<t.length;s++){var c=l(t[s]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}t=a}}}},83:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return m}});var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"danmaku-send-bar\"},[t(\"input\",{attrs:{type:\"text\",placeholder:\"发个弹幕呗~\",maxlength:\"30\"},domProps:{value:e.value},on:{keydown:function(n){return!n.type.indexOf(\"key\")&&e._k(n.keyCode,\"enter\",13,n.key,\"Enter\")?null:e.send()},input:function(n){return e.updateValue(n.target.value)}}})])};r._withStripped=!0;var o=coreApis.spinQuery,a=t(109),i=t(281);let l=!1;var u=Vue.extend({data:()=>({originalTextArea:null,sendButton:null,value:\"\"}),async mounted(){const e=await(0,o.select)(i.M6),n=await(0,o.select)(i.Jd);if(!e||!n)throw new Error(`[danmakuSendBar] ref elements not found. originalTextArea = ${null===e} sendButton = ${null===n}`);if(this.originalTextArea=e,this.sendButton=n,this.value=e.value,e.addEventListener(\"input\",this.listenChange),e.addEventListener(\"change\",this.listenChange),!l){const n=Object.getOwnPropertyDescriptors(HTMLTextAreaElement.prototype).value;Object.defineProperty(e,\"value\",{...n,set(t){n.set?.call(this,t),(0,a.raiseEvent)(e,\"input\")}}),l=!0}},beforeDestroy(){this.originalTextArea.removeEventListener(\"input\",this.listenChange),this.originalTextArea.removeEventListener(\"change\",this.listenChange)},methods:{updateValue(e){this.originalTextArea.value=e,(0,a.raiseEvent)(this.originalTextArea,\"input\")},send(){this.sendButton.disabled||(this.value=\"\",this.sendButton.click())},listenChange(e){this.value=e.target.value}}}),s=t(379),c=t.n(s),d=t(667),f=t.n(d),p={insert:\"head\",singleton:!1};c()(f(),p),f().locals;var v=function(e,n,t,r,o,a,i,l){var u,s=\"function\"==typeof e?e.options:e;if(n&&(s.render=n,s.staticRenderFns=t,s._compiled=!0),r&&(s.functional=!0),a&&(s._scopeId=\"data-v-\"+a),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},s._ssrRegister=u):o&&(u=l?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(s.functional){s._injectStyles=u;var c=s.render;s.render=function(e,n){return u.call(n),c(e,n)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:s}}(u,r,[],!1,null,null,null);v.options.__file=\"registry/lib/components/live/danmaku-sendbar/DanmakuSendbar.vue\";var m=v.exports},109:function(e){\"use strict\";e.exports=coreApis.utils}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={id:e,exports:{}};return t[e](a,a.exports,o),a.exports}o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,{a:n}),n},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if(\"object\"==typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&\"function\"==typeof t.then)return t}var a=Object.create(null);o.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var l=2&r&&t;\"object\"==typeof l&&!~e.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((function(e){i[e]=function(){return t[e]}}));return i.default=function(){return t},o.d(a,i),a},o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var a={};return function(){\"use strict\";o.d(a,{component:function(){return i}});var e=coreApis.componentApis.live.liveControlBar,n=o(109),t=coreApis.utils.urls,r=o(281);const i={name:\"liveDanmakuSendbar\",displayName:\"直播弹幕发送栏\",tags:[componentsTags.live],description:{\"zh-CN\":\"在直播的网页全屏和全屏模式状态下, 在底部显示弹幕栏.\"},entry:async()=>{if(!(0,n.getUID)())return;let t;(0,e.waitForControlBar)({callback:async e=>{const n=dq(e,r.xO);if(!n)throw new Error(\"[danmakuSendBar] leftController not found\");if(!dq(e,\".danmaku-send-bar\")){if(!t){const{mountVueComponent:e}=await Promise.resolve().then(o.t.bind(o,109,23)),n=await Promise.resolve().then(o.bind(o,83));t=e(n).$el}n.insertAdjacentElement(\"afterend\",t)}}})},reload:()=>document.body.classList.remove(\"danmaku-send-bar-unloaded\"),unload:()=>document.body.classList.add(\"danmaku-send-bar-unloaded\"),urlInclude:t.liveUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),a=a.component}()}));",
      "metadata": {
        "name": "liveDanmakuSendbar",
        "displayName": "直播弹幕发送栏",
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "description": {
          "zh-CN": "在直播的网页全屏和全屏模式状态下, 在底部显示弹幕栏."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "keymap": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"utils/keymap\"]=n():e[\"utils/keymap\"]=n()}(self,(function(){return function(){var e,n,t={307:function(e,n,t){\"use strict\";t.d(n,{Nw:function(){return u},vN:function(){return l},$j:function(){return s},kW:function(){return d}});var i=coreApis.componentApis.video.playerAgent,r=t(407),o=t(269);const s=(e,n)=>{const{event:t}=n,i=new MouseEvent(\"click\",{...lodash.pick(t,\"ctrlKey\",\"shiftKey\",\"altKey\",\"metaKey\")});if(\"string\"==typeof e){const n=dq(e);if(!n)return!1;n.dispatchEvent(i)}else{if(!e)return!1;e.dispatchEvent(i)}return!0},a=e=>n=>s(e,n),l=e=>()=>i.playerAgent.changeTime(\"number\"==typeof e?e:e());let c;const d=async(e,n)=>{let t=dq(\".keymap-tip\");if(!t){const r=await i.playerAgent.query.playerArea();if(!r)return;r.insertAdjacentHTML(\"afterbegin\",`\\n      <div class=\"keymap-tip-container\">\\n        <i class=\"keymap-tip-icon mdi ${n}\"></i>\\n        <div class=\"keymap-tip\">${e}</div>\\n      </div>\\n    `),t=dq(\".keymap-tip\")}t.innerHTML=e;const r=dq(\".keymap-tip-container\"),o=dq(r,\".mdi\");o.classList.remove(...o.classList.values()),o.classList.add(\"mdi\",n),c&&clearTimeout(c),r.classList.add(\"show\"),c=window.setTimeout((()=>{r.classList.remove(\"show\")}),2e3)},p={fullscreen:{displayName:\"全屏\",run:()=>i.playerAgent.fullscreen()},webFullscreen:{displayName:\"网页全屏\",run:()=>i.playerAgent.webFullscreen()},wideScreen:{displayName:\"宽屏\",run:()=>i.playerAgent.widescreen()},volumeUp:{displayName:\"增加音量\",run:()=>{const e=i.playerAgent.changeVolume(10);return lodash.isNil(e)?e:(d(`${e}%`,\"mdi-volume-high\"),!0)}},volumeDown:{displayName:\"降低音量\",run:()=>{const e=i.playerAgent.changeVolume(-10);return lodash.isNil(e)?e:(0===e?d(\"静音\",\"mdi-volume-off\"):d(`${e}%`,\"mdi-volume-high\"),!0)}},mute:{displayName:\"静音\",run:()=>{const e=i.playerAgent.toggleMute();return lodash.isNil(e)?e:(i.playerAgent.isMute()?d(\"已静音\",\"mdi-volume-off\"):d(\"已取消静音\",\"mdi-volume-high\"),!0)}},pictureInPicture:{displayName:\"画中画\",run:()=>i.playerAgent.togglePip()},coin:{displayName:\"投币\",run:a(\".video-toolbar .coin,.tool-bar .coin-info, .video-toolbar-module .coin-box, .play-options-ul > li:nth-child(2)\")},favorite:{displayName:\"收藏\",run:a(\".video-toolbar .collect, .video-toolbar-module .fav-box, .play-options-ul > li:nth-child(3)\")},pause:{displayName:\"暂停/播放\",run:()=>i.playerAgent.togglePlay()},like:{displayName:\"点赞\",run:(()=>{let e=!0;return n=>{const{event:t}=n,i=dq(\".video-toolbar .like, .tool-bar .like-info\");if(!i)return!1;t.preventDefault();const r=(e,n)=>{const t=new CustomEvent(e,n);i.dispatchEvent(t)};return e=!0,setTimeout((()=>e=!1),200),r(\"mousedown\",t),document.body.addEventListener(\"keyup\",(n=>{n.preventDefault(),r(\"mouseup\",n),e&&r(\"click\",n)}),{once:!0}),!0}})()},danmaku:{displayName:\"弹幕开关\",run:()=>i.playerAgent.toggleDanmaku()},longJumpBackward:{displayName:\"长倒退\",run:()=>i.playerAgent.changeTime(-(0,r.getComponentSettings)(\"keymap\").options.longJumpSeconds)},longJumpForward:{displayName:\"长前进\",run:()=>i.playerAgent.changeTime((0,r.getComponentSettings)(\"keymap\").options.longJumpSeconds)},jumpBackward:{displayName:\"倒退\",run:()=>i.playerAgent.changeTime(-5)},jumpForward:{displayName:\"前进\",run:()=>i.playerAgent.changeTime(5)},playerMenu:{displayName:\"播放器菜单\",run:()=>{const e=i.playerAgent.query.video.container.sync();if(!e)return null;const n=e.getBoundingClientRect();return e.dispatchEvent(new MouseEvent(\"contextmenu\",{bubbles:!0,cancelable:!1,view:unsafeWindow,button:2,buttons:0,clientX:n.x+n.width/2-88.325,clientY:n.y+n.height/2-97})),!0}},seekBegin:{displayName:\"回开头\",run:()=>i.playerAgent.seek(0)},sendComment:{displayName:\"发送评论\",ignoreTyping:!1,run:()=>{const e=document.activeElement?.nextElementSibling;return e?(e.click(),!0):null}}},[u]=(0,o.registerAndGetData)(\"keymap.actions\",p)},799:function(e,n,t){\"use strict\";t.d(n,{Wb:function(){return r},um:function(){return o}});var i=t(269);const r={fullscreen:\"f\",webFullscreen:\"w\",wideScreen:\"t\",volumeUp:\"arrowUp\",volumeDown:\"arrowDown\",mute:\"m\",pictureInPicture:\"p\",coin:\"c\",favorite:\"s\",pause:\"space\",like:\"l\",playerMenu:\"`\",longJumpForward:\"j\",longJumpBackward:\"shift j\",jumpBackward:\"arrowLeft\",jumpForward:\"arrowRight\",danmaku:\"d\",seekBegin:\"0\",sendComment:\"ctrl enter\"},[,o]=(0,i.registerAndGetData)(\"keymap.presets\",r,{Default:{},YouTube:{like:\"\",pause:\"space k\",longJumpForward:\"l\",longJumpBackward:\"j\",seekBegin:\"0 Home\"},HTML5Player:{coin:\"shift c\",danmaku:\"shift d\",fullscreen:\"enter\",webFullscreen:\"shift enter\",pictureInPicture:\"shift p\",longJumpBackward:\"ctrl arrowLeft\",longJumpForward:\"ctrl arrowRight\"},PotPlayer:{coin:\"shift c\",danmaku:\"shift d\",fullscreen:\"enter\",webFullscreen:\"6\",longJumpBackward:\"ctrl arrowLeft\",longJumpForward:\"ctrl arrowRight\",seekBegin:\"backspace\"}})},450:function(e,n,t){\"use strict\";t.r(n),t.d(n,{loadKeymapSettings:function(){return o},toggleKeymapSettings:function(){return s}});var i=t(109);let r;const o=async e=>{if(r)return;const n=await Promise.resolve().then(t.bind(t,415)).then((e=>e.default));r=(0,i.mountVueComponent)(n),e&&(r.triggerElement=e),document.body.insertAdjacentElement(\"beforeend\",r.$el)},s=async e=>{r||await o(e),r.popupOpen=!r.popupOpen}},376:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-extra-options {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: center;\\n}\\n.keymap-extra-options .keymap-settings-button .be-icon {\\n  margin-right: 8px;\\n}\",\"\"]),e.exports=i},529:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-settings-popup {\\n  background-color: #fff;\\n  color: black;\\n  border-radius: 8px;\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  transition: 0.2s ease-out;\\n  width: 550px;\\n  top: 50%;\\n  left: 50%;\\n  z-index: 100002;\\n  transform: translateX(-50%) translateY(-50%) scale(0.9);\\n  display: flex;\\n  flex-direction: column;\\n}\\nbody.dark .keymap-settings-popup {\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);\\n}\\nbody.dark .keymap-settings-popup {\\n  background-color: #282828;\\n  color: #eee;\\n}\\nbody.dark .keymap-settings-popup {\\n  background-color: #222;\\n}\\n.keymap-settings-popup.open {\\n  transform: translateX(-50%) translateY(-50%) scale(1);\\n}\\n.keymap-settings {\\n  font-size: 12px;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 12px 12px 0 18px;\\n}\\n.keymap-settings-header {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  margin-bottom: 8px;\\n}\\n.keymap-settings-header-title {\\n  flex: 1 0 auto;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n.keymap-settings-header-title .be-icon {\\n  margin-right: 6px;\\n}\\n.keymap-settings-header-help, .keymap-settings-header-close {\\n  display: flex;\\n  padding: 6px;\\n  cursor: pointer;\\n  transition: 0.2s ease-out;\\n  color: inherit;\\n}\\n.keymap-settings-header-help:hover, .keymap-settings-header-close:hover {\\n  color: var(--theme-color);\\n}\\n.keymap-settings-content {\\n  flex: 1 0 auto;\\n  max-height: calc(100vh - 200px);\\n  overflow: auto;\\n  padding-bottom: 12px;\\n}\\n.keymap-settings-content .keymap-settings-grid .grid-header,\\n.keymap-settings-content .keymap-settings-grid .grid-row {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  grid-gap: 8px;\\n  gap: 8px;\\n  justify-content: space-between;\\n  height: 24px;\\n  box-sizing: content-box;\\n}\\n.keymap-settings-content .keymap-settings-grid .grid-header > *,\\n.keymap-settings-content .keymap-settings-grid .grid-row > * {\\n  flex: 1 0 0;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.keymap-settings-content .keymap-settings-grid .grid-header {\\n  margin-bottom: 4px;\\n  padding: 4px 0 6px 0;\\n  border-bottom: 1px solid rgba(136,136,136,0.13333);\\n  position: sticky;\\n  top: 0;\\n  z-index: 1;\\n  background-color: #fff;\\n}\\nbody.dark .keymap-settings-content .keymap-settings-grid .grid-header {\\n  background-color: #222;\\n}\",\"\"]),e.exports=i},519:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-settings-grid .grid-row {\\n  padding: 2px 0;\\n}\\n.keymap-settings-grid .grid-row .row-name,\\n.keymap-settings-grid .grid-row .row-default-binding,\\n.keymap-settings-grid .grid-row .row-preset-binding {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n}\\n.keymap-settings-grid .grid-row .row-name::-webkit-scrollbar,\\n.keymap-settings-grid .grid-row .row-default-binding::-webkit-scrollbar,\\n.keymap-settings-grid .grid-row .row-preset-binding::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.keymap-settings-grid .grid-row .row-name.not-set, .keymap-settings-grid .grid-row .row-name.overwritten,\\n.keymap-settings-grid .grid-row .row-default-binding.not-set,\\n.keymap-settings-grid .grid-row .row-default-binding.overwritten,\\n.keymap-settings-grid .grid-row .row-preset-binding.not-set,\\n.keymap-settings-grid .grid-row .row-preset-binding.overwritten {\\n  opacity: 0.25;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .be-button {\\n  padding: 4px;\\n  margin-right: 4px;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .be-icon {\\n  margin: 0;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .be-textbox {\\n  margin-right: 6px;\\n  flex: 1 0 auto;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .custom-binding-edit,\\n.keymap-settings-grid .grid-row .row-custom-binding .custom-binding-add {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  flex: 1 0 auto;\\n}\",\"\"]),e.exports=i},626:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-tip-container {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n  padding: 8px 16px;\\n  background-color: rgba(0,0,0,0.66667);\\n  color: white;\\n  pointer-events: none;\\n  opacity: 0;\\n  z-index: 100;\\n  display: flex;\\n  align-items: center;\\n  font-size: 14pt;\\n  border-radius: 4px;\\n  transition: 0.2s ease-out;\\n}\\nbody.player-mode-blackmask .keymap-tip-container {\\n  z-index: 10017;\\n}\\n.keymap-tip-container.show {\\n  opacity: 1;\\n}\\n.keymap-tip-container i {\\n  line-height: 1;\\n  margin-right: 8px;\\n  font-size: 18pt;\\n}\\n\\n.bilibili-player .bilibili-player-area .bilibili-player-video-wrap .bilibili-player-volumeHint {\\n  background-color: rgba(0,0,0,0.66667);\\n  color: white;\\n}\\n.bilibili-player .bilibili-player-area .bilibili-player-video-wrap .bilibili-player-volumeHint-icon {\\n  line-height: 1;\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(i)for(var o=0;o<this.length;o++){\n// eslint-disable-next-line prefer-destructuring\nvar s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&r[l[0]]||(t&&(l[2]?l[2]=\"\".concat(t,\" and \").concat(l[2]):l[2]=t),n.push(l))}},n}},379:function(e,n,t){\"use strict\";var i,r=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),s=[];function a(e){for(var n=-1,t=0;t<s.length;t++)if(s[t].identifier===e){n=t;break}return n}function l(e,n){for(var t={},i=[],r=0;r<e.length;r++){var o=e[r],l=n.base?o[0]+n.base:o[0],c=t[l]||0,d=\"\".concat(l,\" \").concat(c);t[l]=c+1;var p=a(d),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(s[p].references++,s[p].updater(u)):s.push({identifier:d,updater:y(u,n),references:1}),i.push(d)}return i}function c(e){var n=document.createElement(\"style\"),i=e.attributes||{};if(void 0===i.nonce){var r=t.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){n.setAttribute(e,i[e])})),\"function\"==typeof e.insert)e.insert(n);else{var s=o(e.insert||\"head\");if(!s)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");s.appendChild(n)}return n}var d,p=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join(\"\\n\")});function u(e,n,t,i){var r=t?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet)e.styleSheet.cssText=p(n,r);else{var o=document.createTextNode(r),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(o,s[n]):e.appendChild(o)}}function g(e,n,t){var i=t.css,r=t.media,o=t.sourceMap;if(r?e.setAttribute(\"media\",r):e.removeAttribute(\"media\"),o&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))),\" */\")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,f=0;function y(e,n){var t,i,r;if(n.singleton){var o=f++;t=m||(m=c(n)),i=u.bind(null,t,o,!1),r=u.bind(null,t,o,!0)}else t=c(n),i=g.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=r());var t=l(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=0;i<t.length;i++){var r=a(t[i]);s[r].references--}for(var o=l(e,n),c=0;c<t.length;c++){var d=a(t[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}t=o}}}},373:function(e,n,t){var i=t(626);i&&i.__esModule&&(i=i.default),e.exports=\"string\"==typeof i?i:i.toString()},500:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return g}});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"keymap-extra-options\"},[t(\"VButton\",{ref:\"button\",staticClass:\"keymap-settings-button\",on:{mouseover:function(n){return e.loadSettings()},click:function(n){return e.toggleSettings()}}},[t(\"VIcon\",{attrs:{icon:\"mdi-keyboard-settings-outline\",size:18}}),e._v(\"\\n    快捷键设置\\n  \")],1)],1)};i._withStripped=!0;var r=t(643),o=t(450),s=Vue.extend({components:{VButton:r.VButton,VIcon:r.VIcon},data:()=>({popupOpen:!1}),methods:{async loadSettings(){await(0,o.loadKeymapSettings)(this.$refs.button)},async toggleSettings(){await(0,o.toggleKeymapSettings)(this.$refs.button)}}}),a=t(379),l=t.n(a),c=t(376),d=t.n(c),p={insert:\"head\",singleton:!1},u=(l()(d(),p),d().locals,(0,t(900).Z)(s,i,[],!1,null,null,null));u.options.__file=\"registry/lib/components/utils/keymap/settings/ExtraOptions.vue\";var g=u.exports},415:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return B}});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"VPopup\",{staticClass:\"keymap-settings-popup be-settings-extra-options\",attrs:{fixed:\"\",\"trigger-element\":e.triggerElement},model:{value:e.popupOpen,callback:function(n){e.popupOpen=n},expression:\"popupOpen\"}},[t(\"div\",{staticClass:\"keymap-settings\"},[t(\"div\",{staticClass:\"keymap-settings-header\"},[t(\"div\",{staticClass:\"keymap-settings-header-title\"},[t(\"VIcon\",{attrs:{icon:\"mdi-keyboard-settings-outline\"}}),e._v(\"\\n        快捷键设置\\n      \")],1),e._v(\" \"),t(\"a\",{staticClass:\"keymap-settings-header-help\",attrs:{href:\"https://github.com/the1812/Bilibili-Evolved/blob/preview/registry/lib/components/utils/keymap/help.md\",target:\"_blank\",title:\"查看帮助\"}},[t(\"VIcon\",{attrs:{size:18,icon:\"mdi-help-circle-outline\"}})],1),e._v(\" \"),t(\"div\",{staticClass:\"keymap-settings-header-close\",attrs:{title:\"关闭\"}},[t(\"VIcon\",{attrs:{size:18,icon:\"close\"},on:{click:function(n){e.popupOpen=!1}}})],1)]),e._v(\" \"),t(\"div\",{staticClass:\"keymap-settings-content\"},[t(\"div\",{staticClass:\"keymap-settings-grid\"},[t(\"div\",{staticClass:\"grid-header\"},[t(\"div\",{staticClass:\"header-name\"},[e._v(\"\\n            动作\\n          \")]),e._v(\" \"),t(\"div\",{staticClass:\"header-default-binding\"},[e._v(\"\\n            默认按键\\n          \")]),e._v(\" \"),t(\"div\",{staticClass:\"header-preset-binding\"},[t(\"VDropdown\",{attrs:{items:e.presetOptions,\"key-mapper\":function(e){return e}},scopedSlots:e._u([{key:\"item\",fn:function(n){var t=n.item;return[e._v(\"\\n                \"+e._s(t)+\"\\n              \")]}}]),model:{value:e.selectedPreset,callback:function(n){e.selectedPreset=n},expression:\"selectedPreset\"}})],1),e._v(\" \"),t(\"div\",{staticClass:\"header-custom-binding\"},[e._v(\"\\n            自定义按键\\n          \")])]),e._v(\" \"),e._l(e.rows,(function(n){return t(\"KeymapSettingsRow\",{key:n.name,attrs:{row:n,\"selected-preset\":e.selectedPreset}})}))],2)])])])};i._withStripped=!0;var r=t(407),o=t(643),s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"grid-row\"},[t(\"div\",{staticClass:\"row-name\",attrs:{title:e.row.name}},[e._v(\"\\n    \"+e._s(e.row.displayName)+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"row-default-binding\",class:{overwritten:e.isOverwrittern(e.presets[e.selectedPreset],e.customKeyBindings),\"not-set\":void 0===e.presetBase[e.row.name]}},[e._v(\"\\n    \"+e._s(e.showReadonlyKey(e.presetBase))+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"row-preset-binding\",class:{overwritten:e.isOverwrittern(e.customKeyBindings),\"not-set\":void 0===e.presets[e.selectedPreset][e.row.name]}},[e._v(\"\\n    \"+e._s(e.showReadonlyKey(e.presets[e.selectedPreset]))+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"row-custom-binding\"},[e.editable?t(\"div\",{staticClass:\"custom-binding-edit\"},[t(\"TextBox\",{ref:\"customBindingTextBox\",attrs:{placeholder:\"禁用\",\"change-on-blur\":\"\",text:e.customKeyBindings[e.row.name]},on:{change:e.updateCustomBinding}}),e._v(\" \"),t(\"VButton\",{attrs:{type:\"transparent\",title:\"删除自定义键位\"},on:{click:function(n){return e.removeCustomBinding()}}},[t(\"VIcon\",{attrs:{icon:\"mdi-trash-can-outline\",size:16}})],1)],1):t(\"div\",{staticClass:\"custom-binding-add\"},[t(\"VButton\",{attrs:{type:\"transparent\",title:\"添加自定义键位\"},on:{click:function(n){return e.addCustomBinding()}}},[t(\"VIcon\",{attrs:{icon:\"mdi-plus\",size:16}})],1)],1)])])};s._withStripped=!0;var a=t(799);const l=(0,r.getComponentSettings)(\"keymap\").options;var c=Vue.extend({components:{TextBox:o.TextBox,VButton:o.VButton,VIcon:o.VIcon},props:{row:{type:Object,required:!0},selectedPreset:{type:String,required:!0}},data:()=>({presets:a.um,presetBase:a.Wb,customKeyBindings:l.customKeyBindings,editable:!1}),created(){this.checkEditable()},methods:{checkEditable(){this.editable=void 0!==this.customKeyBindings[this.row.name]},showReadonlyKey(e){const{name:n}=this.row,t=e[n];return void 0===t?\"继承\":\"\"===t?\"禁用\":t},isOverwrittern(...e){const{name:n}=this.row;return e.some((e=>void 0!==e[n]))},async addCustomBinding(){const{name:e}=this.row;this.customKeyBindings[e]=\"\",this.checkEditable(),await this.$nextTick(),this.$refs.customBindingTextBox.focus()},removeCustomBinding(){const{name:e}=this.row;delete this.customKeyBindings[e],this.checkEditable()},updateCustomBinding(e){console.log(\"update\",e);const{name:n}=this.row;this.customKeyBindings[n]=e}}}),d=t(379),p=t.n(d),u=t(519),g=t.n(u),m={insert:\"head\",singleton:!1},f=(p()(g(),m),g().locals,t(900)),y=(0,f.Z)(c,s,[],!1,null,null,null);y.options.__file=\"registry/lib/components/utils/keymap/settings/KeymapSettingsRow.vue\";var h=y.exports,b=t(307);const v=(0,r.getComponentSettings)(\"keymap\").options;console.log(a.um,b.Nw,v.preset,v.customKeyBindings);var w=Vue.extend({components:{VIcon:o.VIcon,VDropdown:o.VDropdown,VPopup:o.VPopup,KeymapSettingsRow:h},props:{triggerElement:{type:HTMLElement,default:null}},data:()=>({popupOpen:!1,actions:b.Nw,presets:a.um,customKeyBindings:v.customKeyBindings}),computed:{selectedPreset:{get:()=>v.preset,set(e){v.preset=e}},rows(){return Object.entries(this.actions).map((([e,n])=>({name:e,...n})))},presetOptions(){return Object.keys(this.presets)}}}),k=t(529),x=t.n(k),_={insert:\"head\",singleton:!1},C=(p()(x(),_),x().locals,(0,f.Z)(w,i,[],!1,null,null,null));C.options.__file=\"registry/lib/components/utils/keymap/settings/KeymapSettings.vue\";var B=C.exports},900:function(e,n,t){\"use strict\";function i(e,n,t,i,r,o,s,a){var l,c=\"function\"==typeof e?e.options:e;if(n&&(c.render=n,c.staticRenderFns=t,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId=\"data-v-\"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,n){return l.call(n),d(e,n)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}t.d(n,{Z:function(){return i}})},269:function(e){\"use strict\";e.exports=coreApis.pluginApis.data},407:function(e){\"use strict\";e.exports=coreApis.settings},643:function(e){\"use strict\";e.exports=coreApis.ui},109:function(e){\"use strict\";e.exports=coreApis.utils}},i={};function r(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={id:e,exports:{}};return t[e](o,o.exports,r),o.exports}r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(t,i){if(1&i&&(t=this(t)),8&i)return t;if(\"object\"==typeof t&&t){if(4&i&&t.__esModule)return t;if(16&i&&\"function\"==typeof t.then)return t}var o=Object.create(null);r.r(o);var s={};e=e||[null,n({}),n([]),n(n)];for(var a=2&i&&t;\"object\"==typeof a&&!~e.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return t[e]}}));return s.default=function(){return t},r.d(o,s),o},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var o={};return function(){\"use strict\";r.d(o,{component:function(){return u}});var e=coreApis.componentApis.styledComponent,n=r(407),t=r(307),i=r(109),s=coreApis.utils.urls;const a=[\"shift\",\"alt\",\"ctrl\",\"meta\"],l=lodash.once((e=>{const n=s.watchlaterUrls.some((e=>(0,i.matchUrlPattern)(e))),r=s.mediaListUrls.some((e=>(0,i.matchUrlPattern)(e))),o={enable:!0,bindings:e};return document.body.addEventListener(\"keydown\",(e=>{o.enable&&o.bindings.forEach((o=>{if(0===o.keys.length)return;if(!1!==o.action.ignoreTyping&&(0,i.isTyping)())return;const s=e.key.toLowerCase(),l=dq(\".bilibili-player-sphere-control\");if(null!==l&&\"none\"!==l.style.display&&[\"w\",\"a\",\"s\",\"d\"].includes(s))return;if(a.some((n=>{const t=o.keys.includes(n);if(o.keys.includes(`[${n}]`))return!1;return t!==e[`${n}Key`]})))return;const c=o.keys.filter((e=>!a.includes(e.toLowerCase()))).map((e=>e.toLowerCase()));if(!(c.includes(e.key.toLowerCase())||c.includes(e.code.toLowerCase())))return;const d=o.action.run({binding:o,isWatchlater:n,isMediaList:r,event:e,clickElement:t.$j,changeVideoTime:t.vN,showTip:t.kW}),p=!lodash.isNil(d);(o.action.prevent??p)&&(e.stopPropagation(),e.preventDefault())}))})),o}));var c=r(799);let d=null;const p=(0,e.styledComponentEntry)((()=>Promise.resolve().then(r.t.bind(r,373,23))),(async({settings:e})=>{const i=()=>{const n=e.options.preset,i=c.um[n]||{},r=(e=>Object.entries(e).map((([e,n])=>({keys:n.split(\" \").filter((e=>\"\"!==e)),action:t.Nw[e]||none}))))({...c.Wb,...i,...e.options.customKeyBindings});d?d.bindings=r:d=l(r)};(0,n.addComponentListener)(\"keymap.preset\",i,!0),(0,n.addComponentListener)(\"keymap.customKeyBindings\",i)})),u={name:\"keymap\",displayName:\"快捷键扩展\",tags:[componentsTags.video,componentsTags.utils],entry:p,unload:()=>{d&&(d.enable=!1)},reload:()=>{d&&(d.enable=!0)},description:{\"zh-CN\":\"为脚本的功能和 b 站的功能启用键盘快捷键支持, 快捷键列表可在`快捷键设置`中查看和配置.\"},extraOptions:()=>Promise.resolve().then(r.bind(r,500)).then((e=>e.default)),options:{longJumpSeconds:{defaultValue:85,displayName:\"长跳跃秒数\"},customKeyBindings:{defaultValue:{},displayName:\"自定义键位\",hidden:!0},preset:{defaultValue:\"Default\",displayName:\"预设\",hidden:!0}},plugin:{displayName:\"快捷键扩展 - 搜索支持\",setup:({addData:e})=>{e(\"launchBar.actions\",(e=>{e.push({name:\"keymapSettings\",getActions:async()=>[{name:\"快捷键扩展设置\",description:\"Keymap Settings\",icon:\"mdi-keyboard-settings-outline\",action:async()=>{const{toggleKeymapSettings:e}=await Promise.resolve().then(r.bind(r,450));e()}}]})}))}},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),o=o.component}()}));",
      "metadata": {
        "name": "keymap",
        "displayName": "快捷键扩展",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          },
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "为脚本的功能和 b 站的功能启用键盘快捷键支持, 快捷键列表可在`快捷键设置`中查看和配置."
        },
        "options": {
          "longJumpSeconds": {
            "defaultValue": 85,
            "displayName": "长跳跃秒数"
          },
          "customKeyBindings": {
            "defaultValue": {},
            "displayName": "自定义键位",
            "hidden": true
          },
          "preset": {
            "defaultValue": "Default",
            "displayName": "预设",
            "hidden": true
          }
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {
          "longJumpSeconds": 85,
          "customKeyBindings": {
            "coin": "",
            "webFullscreen": "",
            "favorite": "",
            "quickFavorite": "shift e"
          },
          "preset": "Default"
        }
      }
    },
    "viewCover": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/view-cover\"]=t():e[\"utils/view-cover\"]=t()}(self,(function(){return function(){\"use strict\";var e={568:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)(\"DefaultWidget\",{staticClass:\"view-cover\",attrs:{disabled:!e.imageUrl,name:\"查看封面\",icon:\"mdi-image-outline\"},on:{click:function(t){return e.viewCover()}}})};n._withStripped=!0;var i=coreApis.ajax,r=coreApis.observer,s=coreApis.spinQuery,a=coreApis.utils.log,c=coreApis.ui,l=coreApis.componentApis.video.videoInfo;var d=function(e,t,o,n,i,r,s,a){var c,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=o,l._compiled=!0),n&&(l.functional=!0),r&&(l._scopeId=\"data-v-\"+r),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}(Vue.extend({components:{DefaultWidget:c.DefaultWidget},data:()=>({imageUrl:\"\"}),async mounted(){if(document.URL.includes(\"live.bilibili.com\")){const e=\".header-info-ctnr .room-cover, .header-info-ctnr .avatar\",t=await(0,s.select)(e);if(!t)return;const o=t.getAttribute(\"href\").match(/space\\.bilibili\\.com\\/([\\d]+)/);if(o&&o[1]){const e=`https://api.live.bilibili.com/room/v1/Room/getRoomInfoOld?mid=${o[1]}`,t=await(0,i.getJson)(e);this.imageUrl=t.data.cover.replace(\"http:\",\"https:\")}}else(0,r.videoChange)((async()=>{const{aid:e}=unsafeWindow,t=new l.VideoInfo(e);try{await t.fetchInfo()}catch(e){throw(0,a.logError)(e),e}this.imageUrl=t.coverUrl.replace(\"http:\",\"https:\")}))},methods:{async viewCover(){(0,c.showImage)(this.imageUrl)}}}),n,[],!1,null,null,null);d.options.__file=\"registry/lib/components/utils/view-cover/ViewCover.vue\";var u=d.exports}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var n={};return function(){o.d(n,{component:function(){return t}});var e=coreApis.utils.urls;const t={name:\"viewCover\",displayName:\"查看封面\",tags:[componentsTags.utils,componentsTags.video],entry:none,reload:none,unload:none,widget:{component:()=>Promise.resolve().then(o.bind(o,568)).then((e=>e.default))},description:{\"zh-CN\":\"在视频页面中, 可从功能面板中查看封面.\"},urlInclude:[...e.videoAndBangumiUrls],commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),n=n.component}()}));",
      "metadata": {
        "name": "viewCover",
        "displayName": "查看封面",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          },
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "description": {
          "zh-CN": "在视频页面中, 可从功能面板中查看封面."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "bvidConvert": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"video/bvid-convert\"]=n():e[\"video/bvid-convert\"]=n()}(self,(function(){return function(){var e={408:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".bvid-convert {\\n  order: -1;\\n  flex-direction: column;\\n  border-radius: 4px;\\n  padding: 6px 8px;\\n  width: 100%;\\n  -webkit-user-select: text;\\n          user-select: text;\\n  box-sizing: border-box;\\n  box-shadow: 0 0 0 1px rgba(136,136,136,0.26667);\\n  background-color: #fff;\\n}\\nbody.dark .bvid-convert {\\n  background-color: #333;\\n}\\n.bvid-convert-item {\\n  font-size: 14px;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 6px;\\n  gap: 6px;\\n}\\n.bvid-convert-item-copy {\\n  transition: transform 0.3s ease-out;\\n  cursor: pointer;\\n}\\n.bvid-convert-item-copy:active {\\n  transform: scale(0.9);\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(i)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[r][0];null!=c&&(o[c]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&o[s[0]]||(t&&(s[2]?s[2]=\"\".concat(t,\" and \").concat(s[2]):s[2]=t),n.push(s))}},n}},379:function(e,n,t){\"use strict\";var i,o=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),c=[];function a(e){for(var n=-1,t=0;t<c.length;t++)if(c[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},i=[],o=0;o<e.length;o++){var r=e[o],s=n.base?r[0]+n.base:r[0],d=t[s]||0,u=\"\".concat(s,\" \").concat(d);t[s]=d+1;var l=a(u),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==l?(c[l].references++,c[l].updater(f)):c.push({identifier:u,updater:m(f,n),references:1}),i.push(u)}return i}function d(e){var n=document.createElement(\"style\"),i=e.attributes||{};if(void 0===i.nonce){var o=t.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){n.setAttribute(e,i[e])})),\"function\"==typeof e.insert)e.insert(n);else{var c=r(e.insert||\"head\");if(!c)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");c.appendChild(n)}return n}var u,l=(u=[],function(e,n){return u[e]=n,u.filter(Boolean).join(\"\\n\")});function f(e,n,t,i){var o=t?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(n,o);else{var r=document.createTextNode(o),c=e.childNodes;c[n]&&e.removeChild(c[n]),c.length?e.insertBefore(r,c[n]):e.appendChild(r)}}function v(e,n,t){var i=t.css,o=t.media,r=t.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,b=0;function m(e,n){var t,i,o;if(n.singleton){var r=b++;t=p||(p=d(n)),i=f.bind(null,t,r,!1),o=f.bind(null,t,r,!0)}else t=d(n),i=v.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=o());var t=s(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=0;i<t.length;i++){var o=a(t[i]);c[o].references--}for(var r=s(e,n),d=0;d<t.length;d++){var u=a(t[d]);0===c[u].references&&(c[u].updater(),c.splice(u,1))}t=r}}}},791:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return g}});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"bvid-convert\"},[e.aid&&e.bvid?[t(\"div\",{staticClass:\"bvid-convert-item\"},[e._v(\"\\n      \"+e._s(e.aid)+\"\\n      \"),t(\"div\",{staticClass:\"bvid-convert-item-copy\",attrs:{title:\"复制链接\"},on:{click:function(n){return e.copyLink(\"aid\")}}},[t(\"VIcon\",{attrs:{size:16,icon:e.aidCopied?\"mdi-check\":\"mdi-link\"}})],1)]),e._v(\" \"),t(\"div\",{staticClass:\"bvid-convert-item\"},[e._v(\"\\n      \"+e._s(e.bvid)+\"\\n      \"),t(\"div\",{staticClass:\"bvid-convert-item-copy\",attrs:{title:\"复制链接\"},on:{click:function(n){return e.copyLink(\"bvid\")}}},[t(\"VIcon\",{attrs:{size:16,icon:e.bvidCopied?\"mdi-check\":\"mdi-link\"}})],1)])]:e._e()],2)};i._withStripped=!0;var o,r=coreApis.observer,c=t(569),a=coreApis.utils,s=t(344),d=coreApis.ui;!function(e){e.Aid=\"aid\",e.Bvid=\"bvid\"}(o||(o={}));const u=[o.Aid,o.Bvid],l=[({id:e,query:n})=>u.some((e=>n.includes(`${e}=`)))?`https://www.bilibili.com/video/${e}`:null,({id:e})=>s.bangumiUrls.some((e=>(0,a.matchUrlPattern)(e)))?`https://www.bilibili.com/video/${e}`:null,({id:e,url:n,query:t})=>n.replace(/\\/[^\\/]+$/,`/${e}`)+t];var f=Vue.extend({components:{VIcon:d.VIcon},data:()=>({aid:\"\",aidCopied:!1,bvid:\"\",bvidCopied:!1}),async mounted(){(0,r.videoChange)((async()=>{this.aid=`av${unsafeWindow.aid}`,this.bvid=unsafeWindow.bvid;const e=await(0,c.select)(\".av-link,.bv-link,.bvid-link\");e&&(this.bvid=e.innerHTML.trim())}))},methods:{async copyLink(e){if(this[`${e}Copied`])return;const n={query:location.search,url:location.origin+location.pathname,id:this[e]},t=l.map((e=>e(n))).filter((e=>null!==e))[0];await navigator.clipboard.writeText(t),this[`${e}Copied`]=!0,setTimeout((()=>this[`${e}Copied`]=!1),1e3)}}}),v=t(379),p=t.n(v),b=t(408),m=t.n(b),h={insert:\"head\",singleton:!1};p()(m(),h),m().locals;var y=function(e,n,t,i,o,r,c,a){var s,d=\"function\"==typeof e?e.options:e;if(n&&(d.render=n,d.staticRenderFns=t,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId=\"data-v-\"+r),c?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},d._ssrRegister=s):o&&(s=a?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(d.functional){d._injectStyles=s;var u=d.render;d.render=function(e,n){return s.call(n),u(e,n)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,s):[s]}return{exports:e,options:d}}(f,i,[],!1,null,null,null);y.options.__file=\"registry/lib/components/video/bvid-convert/BvidConvert.vue\";var g=y.exports},569:function(e){\"use strict\";e.exports=coreApis.spinQuery},344:function(e){\"use strict\";e.exports=coreApis.utils.urls}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={id:i,exports:{}};return e[i](r,r.exports,t),r.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";t.d(i,{component:function(){return o}});var e=t(569),n=t(344);const o={name:\"bvidConvert\",displayName:\"BV 号转换\",entry:none,description:{\"zh-CN\":\"在功能面板中显示视频的 AV 号和 BV 号.\"},tags:[componentsTags.video,componentsTags.utils],widget:{component:()=>Promise.resolve().then(t.bind(t,791)).then((e=>e.default)),condition:e.hasVideo},urlInclude:n.videoAndBangumiUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "bvidConvert",
        "displayName": "BV 号转换",
        "description": {
          "zh-CN": "在功能面板中显示视频的 AV 号和 BV 号."
        },
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          },
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "liveGiftBox": {
      "code": "!function(n,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"live/gift-box\"]=t():n[\"live/gift-box\"]=t()}(self,(function(){return function(){var n={894:function(n,t,e){var r=e(645)((function(n){return n[1]}));r.push([n.id,\".full-win-gift-btn-wrapper.full-win-gift-btn-wrapper {\\n  position: relative;\\n}\\n.full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .wrap {\\n  right: -28px;\\n  bottom: calc(100% + 3px);\\n  color: #666;\\n  font-size: 12px;\\n  line-height: 1.4;\\n}\\n.full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .wrap .text {\\n  margin: auto;\\n  padding: auto;\\n  color: inherit;\\n  cursor: inherit;\\n  line-height: inherit;\\n}\\n.full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .wrap .popup::before, .full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .wrap .popup::after {\\n  left: auto;\\n  right: calc(1em + 33px);\\n  transform: translateX(50%);\\n}\\n.full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .gift-package {\\n  margin: auto;\\n  width: auto;\\n  height: auto;\\n  color: inherit;\\n  fill: inherit;\\n  background: inherit !important;\\n}\\n.full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .gift-package .bag-icon {\\n  display: none;\\n}\\n.full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .gift-package span {\\n  font-size: inherit;\\n  line-height: 36px;\\n  padding: 0 6px;\\n  color: rgba(255, 255, 255, 0.9);\\n  cursor: pointer;\\n}\\n.full-win-gift-btn-wrapper.full-win-gift-btn-wrapper .gift-package span:hover {\\n  color: #fff;\\n}\",\"\"]),n.exports=r},645:function(n){\"use strict\";\n// eslint-disable-next-line func-names\nn.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(n,e,r){\"string\"==typeof n&&(\n// eslint-disable-next-line no-param-reassign\nn=[[null,n,\"\"]]);var i={};if(r)for(var o=0;o<this.length;o++){\n// eslint-disable-next-line prefer-destructuring\nvar l=this[o][0];null!=l&&(i[l]=!0)}for(var a=0;a<n.length;a++){var u=[].concat(n[a]);r&&i[u[0]]||(e&&(u[2]?u[2]=\"\".concat(e,\" and \").concat(u[2]):u[2]=e),t.push(u))}},t}},564:function(n,t,e){var r=e(894);r&&r.__esModule&&(r=r.default),n.exports=\"string\"==typeof r?r:r.toString()}},t={};function e(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return n[r](o,o.exports,e),o.exports}e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,{a:t}),t},e.d=function(n,t){for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};var r={};return function(){\"use strict\";e.d(r,{component:function(){return h}});var n=coreApis.componentApis.live.liveControlBar,t=coreApis.spinQuery,i=coreApis.style,o=coreApis.utils.urls,l=e(564),a=e.n(l);const u=\"player-full-win\",c=\"full-win-gift-btn-wrapper\",f=\"liveGiftBox\";let p=null,s=null,d=null;function g(){return document.body.classList.contains(u)}function w(n,t){const e=dq(n,\".right-area\");if(e){const n=document.createElement(\"div\");n.className=c,n.appendChild(t),e.appendChild(n)}else console.warn(\"[liveGiftBox] .right-area could not be found in control bar\")}function b(n,t){return function(n){function t(n){const t=g();return t===n.oldValue.split(\" \").includes(u)?null:t}const e=new MutationObserver((e=>{for(const r of e){const e=t(r);null!==e&&n(e)}}));return e?.observe(document.body,{attributes:!0,attributeFilter:[\"class\"],attributeOldValue:!0}),()=>e.disconnect()}((e=>{e?function(n){const t=dq(\".control-area\");t&&w(t,n)}(n):function(n,t){t.appendChild(n)}(n,t)}))}async function v(){(0,i.addStyle)(a(),f);const n=await async function(){const n=await(0,t.select)(\".z-gift-package\",{maxRetry:15,queryInterval:200});return n||console.warn(\"[liveGiftBox] the parent element of gift button not found\"),n}();p=n?.children[0],n&&p&&(s=b(p,n),d=function(n){const t=dq(\"#live-player\");if(!t)return console.warn(\"[liveGiftBox] live player not found\"),null;function e(){dq(\".full-win-gift-btn-wrapper .wrap\")&&n.click()}return t.addEventListener(\"mouseleave\",e),()=>t.removeEventListener(\"mouseleave\",e)}(p))}const h={name:f,displayName:\"直播全屏包裹\",description:{\"zh-CN\":\"在直播的网页全屏(不能是全屏)模式下往控制栏添加包裹按钮.\"},urlInclude:o.liveUrls,tags:[componentsTags.live],entry:function(){(0,n.waitForControlBar)({callback:function(n){const t=g();p&&t&&w(n,p)}}),v()},reload:v,unload:function(){d?.call(null),d=null,s?.call(null),s=null,p=null,(0,i.removeStyle)(f)},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "liveGiftBox",
        "displayName": "直播全屏包裹",
        "description": {
          "zh-CN": "在直播的网页全屏(不能是全屏)模式下往控制栏添加包裹按钮."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "fullFeedsContent": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"feeds/full-content\"]=e():t[\"feeds/full-content\"]=e()}(self,(function(){return function(){var t,e,n={521:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,\".card .main-content .expand-btn,\\n.card .main-content .content-ellipsis {\\n  display: none !important;\\n}\\n.card .main-content .content-full {\\n  display: block !important;\\n  height: auto !important;\\n}\",\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var u=0;u<t.length;u++){var f=[].concat(t[u]);o&&r[f[0]]||(n&&(f[2]?f[2]=\"\".concat(n,\" and \").concat(f[2]):f[2]=n),e.push(f))}},e}},223:function(t,e,n){var o=n(521);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={id:t,exports:{}};return n[t](i,i.exports,r),i.exports}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var c={};t=t||[null,e({}),e([]),e(e)];for(var u=2&o&&n;\"object\"==typeof u&&!~t.indexOf(u);u=e(u))Object.getOwnPropertyNames(u).forEach((function(t){c[t]=function(){return n[t]}}));return c.default=function(){return n},r.d(i,c),i},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return n}});var t=coreApis.componentApis.styledComponent,e=coreApis.utils.urls;const n={...(0,t.toggleStyle)(\"fullFeedsContent\",(()=>Promise.resolve().then(r.t.bind(r,223,23)))),displayName:\"展开动态内容\",description:{\"zh-CN\":\"不管内容多长, 总是完全展开动态的内容.\"},tags:[componentsTags.style,componentsTags.feeds],urlInclude:e.feedsUrlsWithoutDetail,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "fullFeedsContent",
        "displayName": "展开动态内容",
        "description": {
          "zh-CN": "不管内容多长, 总是完全展开动态的内容."
        },
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "unfoldFeeds": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"feeds/unfold\"]=t():e[\"feeds/unfold\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,n={23:function(e){e.exports=coreApis.componentApis.feeds.api}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var f=o[e]={exports:{}};return n[e](f,f.exports,r),f.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var f=Object.create(null);r.r(f);var c={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;\"object\"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){c[e]=function(){return n[e]}}));return c.default=function(){return n},r.d(f,c),f},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var f={};return function(){r.d(f,{component:function(){return t}});var e=coreApis.utils.urls;const t={name:\"unfoldFeeds\",displayName:\"动态反折叠\",tags:[componentsTags.feeds],description:{\"zh-CN\":\"\\n自动展开被折叠的动态.\\n\\n动态被折叠可能是因为:\\n- 短时间内大量更新作品\\n- 多人转发同一个作品\\n- 被审核折叠\\n\"},urlInclude:e.feedsUrlsWithoutDetail,entry:async()=>{const{forEachFeedsCard:e}=await Promise.resolve().then(r.t.bind(r,23,23));e({added:e=>{dq(e.element,\".fold-hoverable\")?.click()}})},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),f=f.component}()}));",
      "metadata": {
        "name": "unfoldFeeds",
        "displayName": "动态反折叠",
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "description": {
          "zh-CN": "\n自动展开被折叠的动态.\n\n动态被折叠可能是因为:\n- 短时间内大量更新作品\n- 多人转发同一个作品\n- 被审核折叠\n"
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "foldComments": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"feeds/fold-comments\"]=n():e[\"feeds/fold-comments\"]=n()}(self,(function(){return function(){var e,n,t={244:function(e,n,t){var o=t(645)((function(e){return e[1]}));o.push([e.id,\".panel-area .bb-comment .fold-comment {\\n  position: sticky;\\n  bottom: 0;\\n  height: 40px;\\n  width: calc(100% + 48px);\\n  font-size: 14px;\\n  transform: translateX(-24px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: white;\\n  color: #99a2aa;\\n  cursor: pointer;\\n  transition: all 0.2s ease-out;\\n  z-index: 110;\\n  border-radius: 4px;\\n}\\n.panel-area .bb-comment .fold-comment:hover {\\n  color: black;\\n}\\nbody.dark .panel-area .bb-comment .fold-comment {\\n  background-color: #444;\\n  color: #eee;\\n}\\nbody.dark .panel-area .bb-comment .fold-comment:hover {\\n  color: var(--theme-color);\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var c=0;c<this.length;c++){\n// eslint-disable-next-line prefer-destructuring\nvar i=this[c][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var a=[].concat(e[s]);o&&r[a[0]]||(t&&(a[2]?a[2]=\"\".concat(t,\" and \").concat(a[2]):a[2]=t),n.push(a))}},n}},895:function(e,n,t){var o=t(244);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()},23:function(e){\"use strict\";e.exports=coreApis.componentApis.feeds.api},156:function(e){\"use strict\";e.exports=coreApis.observer}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var c=o[e]={id:e,exports:{}};return t[e](c,c.exports,r),c.exports}n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(t,o){if(1&o&&(t=this(t)),8&o)return t;if(\"object\"==typeof t&&t){if(4&o&&t.__esModule)return t;if(16&o&&\"function\"==typeof t.then)return t}var c=Object.create(null);r.r(c);var i={};e=e||[null,n({}),n([]),n(n)];for(var s=2&o&&t;\"object\"==typeof s&&!~e.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return t[e]}}));return i.default=function(){return t},r.d(c,i),c},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var c={};return function(){\"use strict\";r.d(c,{component:function(){return n}});var e=coreApis.componentApis.styledComponent;const n={name:\"foldComments\",displayName:\"快速收起评论\",description:{\"zh-CN\":\"动态里查看评论区时, 在底部添加一个`收起评论`按钮, 这样就不用再回到上面收起了.\"},urlInclude:coreApis.utils.urls.feedsUrlsWithoutDetail,tags:[componentsTags.feeds],entry:(0,e.styledComponentEntry)((()=>Promise.resolve().then(r.t.bind(r,895,23))),(async()=>{const{forEachFeedsCard:e}=await Promise.resolve().then(r.t.bind(r,23,23)),{childList:n}=await Promise.resolve().then(r.t.bind(r,156,23));e({added:e=>(e=>{const t=n=>{const t=document.createElement(\"div\");t.classList.add(\"fold-comment\"),t.innerHTML=\"收起评论\";const o=n.querySelector(\".bb-comment\");null===o.querySelector(\".fold-comment\")&&(null!==o?(t.addEventListener(\"click\",(()=>{const n=e.querySelector(\".button-bar\").children[1];null!==n&&(n.click(),e.scrollIntoView())})),o.insertAdjacentElement(\"beforeend\",t)):console.error(\"未找到评论区\"))},o=e.querySelector(\".panel-area\");if(null===o&&console.log(e),0===o.childElementCount){const[e]=n(o,(n=>{n.length>0&&(t(o),e.disconnect())}))}else t(o)})(e.element)})})),commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),c=c.component}()}));",
      "metadata": {
        "name": "foldComments",
        "displayName": "快速收起评论",
        "description": {
          "zh-CN": "动态里查看评论区时, 在底部添加一个`收起评论`按钮, 这样就不用再回到上面收起了."
        },
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "disableFeedsDetails": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"feeds/disable-details\"]=e():t[\"feeds/disable-details\"]=e()}(self,(function(){return function(){var t,e,n={840:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,\".card[data-did] .content {\\n  cursor: text;\\n}\\n.card[data-did] .content .details {\\n  font-size: 12px;\\n  opacity: 0.6;\\n  cursor: pointer;\\n  display: block;\\n}\",\"\"]),t.exports=o},274:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,\".card[data-did] .content .details {\\n  display: none;\\n}\",\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);o&&r[c[0]]||(n&&(c[2]?c[2]=\"\".concat(n,\" and \").concat(c[2]):c[2]=n),e.push(c))}},e}},94:function(t,e,n){var o=n(840);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()},377:function(t,e,n){var o=n(274);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()},23:function(t){\"use strict\";t.exports=coreApis.componentApis.feeds.api},163:function(t){\"use strict\";t.exports=coreApis.style}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={id:t,exports:{}};return n[t](i,i.exports,r),i.exports}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&o&&n;\"object\"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((function(t){s[t]=function(){return n[t]}}));return s.default=function(){return n},r.d(i,s),i},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return s}});var t=coreApis.utils.urls;let e=!0;const n=\"disable-feeds-details-style\",o=async()=>{const{addImportantStyle:t}=await Promise.resolve().then(r.t.bind(r,163,23)),{default:e}=await Promise.resolve().then(r.t.bind(r,94,23));t(e,n)},s={name:\"disableFeedsDetails\",displayName:\"禁止跳转动态详情\",tags:[componentsTags.feeds],urlInclude:t.feedsUrls,description:{\"zh-CN\":\"禁止动态点击后跳转详情页, 方便选择其中的文字.\"},entry:async()=>{const{addImportantStyle:t}=await Promise.resolve().then(r.t.bind(r,163,23)),{forEachFeedsCard:n}=await Promise.resolve().then(r.t.bind(r,23,23)),{default:i}=await Promise.resolve().then(r.t.bind(r,377,23));t(i,\"disable-feeds-details-init-style\"),o();n({added:t=>{const{element:n}=t;n.addEventListener(\"click\",(t=>{if(t.ctrlKey||!e)return;const o=dqa(n,\".content\"),r=t.target;if(r.hasAttribute(\"click-title\"))return;dqa(n,\".im-popup\").some((t=>t.contains(r)))||o.some((t=>t===r||t.contains(r)))&&t.stopImmediatePropagation()}),{capture:!0});const o=dq(n,\".post-content\");if(!o)return;if(![\".video-container\",\".bangumi-container\",\".media-list\",\".article-container\"].some((t=>dq(o,t)))&&!dq(o,\".details\")&&o.classList.contains(\"repost\")){const t=dq(o,\".content\");if(!t)return;const e=document.createElement(\"div\");e.classList.add(\"details\"),e.setAttribute(\"click-title\",\"详情\"),e.innerHTML='\\n        详情<i class=\"mdi mdi-chevron-right\" click-title></i>\\n      ',t.insertAdjacentElement(\"beforeend\",e)}}})},unload:()=>{document.getElementById(n)?.remove(),e=!1},reload:()=>{o(),e=!0},commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "disableFeedsDetails",
        "displayName": "禁止跳转动态详情",
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "description": {
          "zh-CN": "禁止动态点击后跳转详情页, 方便选择其中的文字."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "fullVideoDescription": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"video/full-description\"]=n():e[\"video/full-description\"]=n()}(self,(function(){return function(){var e={732:function(e,n,t){var o=t(645)((function(e){return e[1]}));o.push([e.id,\".video-desc .info,\\n.video-desc .desc-info,\\n.play-up-info .play-up-self {\\n  height: auto !important;\\n}\\n\\n.video-desc .btn,\\n.video-desc .toggle-btn,\\n.play-up-info .play-up-self-btn {\\n  display: none !important;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);o&&r[u[0]]||(t&&(u[2]?u[2]=\"\".concat(t,\" and \").concat(u[2]):u[2]=t),n.push(u))}},n}},43:function(e,n,t){var o=t(732);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={id:o,exports:{}};return e[o](i,i.exports,t),i.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};var o={};return function(){\"use strict\";t.d(o,{component:function(){return d}});var e=coreApis.utils.urls,n=coreApis.observer,r=coreApis.spinQuery,i=coreApis.style,c=t(43),s=t.n(c);const u=\"fullVideoDescription\",a=()=>{(0,i.addStyle)(s(),u),(0,n.videoChange)((async()=>{if(!await(0,r.select)(\".video-desc\"))return;(await(0,r.select)('.video-desc .btn[report-id=\"abstract_spread\"], .video-desc .toggle-btn'))?.click()}))},d={name:u,entry:a,reload:a,unload:()=>{(0,i.removeStyle)(u)},displayName:\"展开视频简介\",tags:[componentsTags.video,componentsTags.style],description:{\"zh-CN\":\"总是展开完整的视频简介.\"},urlInclude:e.videoAndBangumiUrls,commitHash:\"93939adb92562d290033995bdcabcbe49bee034b\",coreVersion:\"2.1.7\"}}(),o=o.component}()}));",
      "metadata": {
        "name": "fullVideoDescription",
        "displayName": "展开视频简介",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "description": {
          "zh-CN": "总是展开完整的视频简介."
        },
        "commitHash": "93939adb92562d290033995bdcabcbe49bee034b",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "quickFavorite": {
      "code": "!function(A,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"video/quick-favorite\"]=t():A[\"video/quick-favorite\"]=t()}(self,(function(){return function(){var A,t,e={296:function(A,t,e){var i=e(645)((function(A){return A[1]}));i.push([A.id,'@charset \"UTF-8\";\\n@font-face {\\n  font-family: \"quick-favorite\";\\n  src: url(\"data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJAIEqwAAABjAAAAFZjbWFw6ynBrQAAAewAAAFwZ2x5ZnI4GW4AAANkAAABDGhlYWQYiH0gAAAA4AAAADZoaGVhB4sD6wAAALwAAAAkaG10eAPoAAAAAAHkAAAACGxvY2EAhgAAAAADXAAAAAZtYXhwAQ8AZAAAARgAAAAgbmFtZa2yT/oAAARwAAACXnBvc3QnqNOhAAAG0AAAAD0AAQAAA+gAAAAAA+gAAAAAA6IAAQAAAAAAAAAAAAAAAAAAAAIAAQAAAAEAAOxSVapfDzz1AAsD6AAAAADa5Bw+AAAAANrkHD4AAAAAA6IDvwAAAAgAAgAAAAAAAAABAAAAAgBYAAMAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEB9AGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOoB6gED6AAAAFoD6AAAAAAAAQAAAAAAAAAAAAAD6AAAAAAABQAAAAMAAAAsAAAABAAAAVQAAQAAAAAATgADAAEAAAAsAAMACgAAAVQABAAiAAAABAAEAAEAAOoB//8AAOoB//8AAAABAAQAAAABAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAcAAAAAAAAAAEAAOoBAADqAQAAAAEAAAAAAIYAAAADAAAAAAOiA78ANwA9AFcAAAEuAS8BLgEvAS4BIgYPAQ4BDwEOAhYfAR4BDwEGHgI/ATYyFzM3LgM/AT4BOwEyFhc3PgEDPgE1BxYTIzc2JisBIgYPAQYWNzMHBh4BMzI/ATYmIwOcBRsRnh8xDEYIHSQgCEMOMB6eERsLCQx1FhAEGQQOHiQPhhtBGwMJFSUXBghHCi0cshUmDAsNCaoNDj8UdmpVBgsLsAYJAkcECQlUHwEFCQQIBdkICQsCgBEWAxgFJRuUEBMTEZMbJgUYAxYiIgx6FDkeqhIiFAIJSRERKgEVIysUwxogExEMDSL+BAkbED8BAR1zCRMHBcQIEAGLBgsFBtUIFgAAAAAQAMYAAQAAAAAAAQAOAAAAAQAAAAAAAgAHAA4AAQAAAAAAAwAOABUAAQAAAAAABAAOACMAAQAAAAAABQALADEAAQAAAAAABgAOADwAAQAAAAAACgArAEoAAQAAAAAACwATAHUAAwABBAkAAQAcAIgAAwABBAkAAgAOAKQAAwABBAkAAwAcALIAAwABBAkABAAcAM4AAwABBAkABQAWAOoAAwABBAkABgAcAQAAAwABBAkACgBWARwAAwABBAkACwAmAXJxdWljay1mYXZvcml0ZVJlZ3VsYXJxdWljay1mYXZvcml0ZXF1aWNrLWZhdm9yaXRlVmVyc2lvbiAxLjBxdWljay1mYXZvcml0ZUdlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAHEAdQBpAGMAawAtAGYAYQB2AG8AcgBpAHQAZQBSAGUAZwB1AGwAYQByAHEAdQBpAGMAawAtAGYAYQB2AG8AcgBpAHQAZQBxAHUAaQBjAGsALQBmAGEAdgBvAHIAaQB0AGUAVgBlAHIAcwBpAG8AbgAgADEALgAwAHEAdQBpAGMAawAtAGYAYQB2AG8AcgBpAHQAZQBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBAgEDABNxdWljay1mYXZvcml0ZV9fXyAxAAAAAAA=\");\\n}\\n.video-toolbar .ops .quick-favorite {\\n  margin-right: 28px !important;\\n  position: relative;\\n  font-size: 0;\\n  font-size: 14px;\\n  width: auto !important;\\n}\\n.video-toolbar .ops .quick-favorite .text {\\n  display: inline;\\n}\\n@media screen and (max-width: 1320px), (max-height: 750px) {\\n.video-toolbar .ops .quick-favorite {\\n    margin-right: max(calc(min(11vw, 11vh) - 117.2px), 6px) !important;\\n}\\n.video-toolbar .ops .quick-favorite .text {\\n    display: none;\\n}\\n}\\n.video-toolbar .ops .quick-favorite-icon {\\n  font-family: \"quick-favorite\" !important;\\n  display: inline-block;\\n  font-style: normal;\\n  text-align: center;\\n  text-transform: none;\\n  line-height: 1;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n}\\n.video-toolbar .ops .quick-favorite-icon:after {\\n  content: \"\";\\n}\\n.video-toolbar .ops .quick-favorite .tip,\\n.video-toolbar .ops .quick-favorite .select-list,\\n.video-toolbar .ops .quick-favorite .lists-tip {\\n  line-height: normal;\\n  position: absolute;\\n  top: calc(100% + 8px);\\n  left: 50%;\\n  transform: translateX(-50%);\\n  z-index: 1000;\\n  background: rgba(0,0,0,0.86667);\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  color: #eee;\\n  transition: all 0.2s ease-out;\\n  opacity: 0;\\n  pointer-events: none;\\n}\\n.video-toolbar .ops .quick-favorite .tip.show,\\n.video-toolbar .ops .quick-favorite .select-list.show,\\n.video-toolbar .ops .quick-favorite .lists-tip.show {\\n  opacity: 1;\\n  pointer-events: initial;\\n}\\n.video-toolbar .ops .quick-favorite .tip {\\n  padding: 8px;\\n}\\n.video-toolbar .ops .quick-favorite .lists-tip {\\n  top: calc(100% + 8px + 42px);\\n  color: #ccc;\\n  font-size: 12px;\\n  z-index: 100;\\n}\\n.video-toolbar .ops .quick-favorite .select-list {\\n  display: flex;\\n  align-items: center;\\n}\\n.video-toolbar .ops .quick-favorite .select-list > * {\\n  white-space: nowrap;\\n}\\n.video-toolbar .ops .quick-favorite .select-list .lists-loading {\\n  padding: 4px 32px;\\n}\\n.video-toolbar .ops .quick-favorite .select-list .lists {\\n  margin-left: 8px;\\n}',\"\"]),A.exports=i},645:function(A){\"use strict\";\n// eslint-disable-next-line func-names\nA.exports=function(A){var t=[];return t.toString=function(){return this.map((function(t){var e=A(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(A,e,i){\"string\"==typeof A&&(\n// eslint-disable-next-line no-param-reassign\nA=[[null,A,\"\"]]);var n={};if(i)for(var o=0;o<this.length;o++){\n// eslint-disable-next-line prefer-destructuring\nvar r=this[o][0];null!=r&&(n[r]=!0)}for(var a=0;a<A.length;a++){var s=[].concat(A[a]);i&&n[s[0]]||(e&&(s[2]?s[2]=\"\".concat(e,\" and \").concat(s[2]):s[2]=e),t.push(s))}},t}},379:function(A,t,e){\"use strict\";var i,n=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var A={};return function(t){if(void 0===A[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(A){e=null}A[t]=e}return A[t]}}(),r=[];function a(A){for(var t=-1,e=0;e<r.length;e++)if(r[e].identifier===A){t=e;break}return t}function s(A,t){for(var e={},i=[],n=0;n<A.length;n++){var o=A[n],s=t.base?o[0]+t.base:o[0],c=e[s]||0,l=\"\".concat(s,\" \").concat(c);e[s]=c+1;var d=a(l),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(r[d].references++,r[d].updater(u)):r.push({identifier:l,updater:g(u,t),references:1}),i.push(l)}return i}function c(A){var t=document.createElement(\"style\"),i=A.attributes||{};if(void 0===i.nonce){var n=e.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(A){t.setAttribute(A,i[A])})),\"function\"==typeof A.insert)A.insert(t);else{var r=o(A.insert||\"head\");if(!r)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");r.appendChild(t)}return t}var l,d=(l=[],function(A,t){return l[A]=t,l.filter(Boolean).join(\"\\n\")});function u(A,t,e,i){var n=e?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(A.styleSheet)A.styleSheet.cssText=d(t,n);else{var o=document.createTextNode(n),r=A.childNodes;r[t]&&A.removeChild(r[t]),r.length?A.insertBefore(o,r[t]):A.appendChild(o)}}function f(A,t,e){var i=e.css,n=e.media,o=e.sourceMap;if(n?A.setAttribute(\"media\",n):A.removeAttribute(\"media\"),o&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))),\" */\")),A.styleSheet)A.styleSheet.cssText=i;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(i))}}var p=null,v=0;function g(A,t){var e,i,n;if(t.singleton){var o=v++;e=p||(p=c(t)),i=u.bind(null,e,o,!1),n=u.bind(null,e,o,!0)}else e=c(t),i=f.bind(null,e,t),n=function(){!function(A){if(null===A.parentNode)return!1;A.parentNode.removeChild(A)}(e)};return i(A),function(t){if(t){if(t.css===A.css&&t.media===A.media&&t.sourceMap===A.sourceMap)return;i(A=t)}else n()}}A.exports=function(A,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=n());var e=s(A=A||[],t);return function(A){if(A=A||[],\"[object Array]\"===Object.prototype.toString.call(A)){for(var i=0;i<e.length;i++){var n=a(e[i]);r[n].references--}for(var o=s(A,t),c=0;c<e.length;c++){var l=a(e[c]);0===r[l].references&&(r[l].updater(),r.splice(l,1))}e=o}}}},252:function(A,t,e){\"use strict\";e.r(t),e.d(t,{default:function(){return m}});var i=function(){var A=this,t=A.$createElement,e=A._self._c||t;return e(\"span\",{staticClass:\"quick-favorite\",class:{on:A.isFavorite},attrs:{title:\"快速收藏\"},on:{click:function(t){return!t.type.indexOf(\"key\")&&A._k(t.keyCode,\"left\",37,t.key,[\"Left\",\"ArrowLeft\"])||\"button\"in t&&0!==t.button||t.target!==t.currentTarget?null:A.toggle()},contextmenu:function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null;A.listShowing=!A.listShowing}}},[e(\"i\",{staticClass:\"quick-favorite-icon\",on:{click:function(t){return!t.type.indexOf(\"key\")&&A._k(t.keyCode,\"left\",37,t.key,[\"Left\",\"ArrowLeft\"])||\"button\"in t&&0!==t.button?null:A.toggle()},contextmenu:function(t){t.preventDefault(),A.listShowing=!A.listShowing}}}),A._v(\" \"),e(\"div\",{staticClass:\"text\",on:{click:function(t){return!t.type.indexOf(\"key\")&&A._k(t.keyCode,\"left\",37,t.key,[\"Left\",\"ArrowLeft\"])||\"button\"in t&&0!==t.button?null:A.toggle()},contextmenu:function(t){t.preventDefault(),A.listShowing=!A.listShowing}}},[A._v(\"\\n    快速收藏\\n  \")]),A._v(\" \"),e(\"div\",{ref:\"selectList\",staticClass:\"select-list\",class:{show:A.listShowing}},[A._v(\"\\n    选择快速收藏夹:\\n    \"),e(\"div\",{staticClass:\"lists\"},[e(\"VDropdown\",{attrs:{items:A.lists.map((function(A){return A.title})),\"key-mapper\":function(A){return A}},scopedSlots:A._u([{key:\"item\",fn:function(t){var e=t.item;return[A._v(\"\\n          \"+A._s(e)+\"\\n        \")]}}]),model:{value:A.selectedFavorite,callback:function(t){A.selectedFavorite=t},expression:\"selectedFavorite\"}})],1)]),A._v(\" \"),e(\"div\",{staticClass:\"lists-tip\",class:{show:A.listShowing}},[A._v(\"\\n    右键点击快速收藏可再次打开\\n  \")]),A._v(\" \"),e(\"div\",{staticClass:\"tip\",class:{show:A.tipShowing}},[A._v(A._s(A.tipText))])])};i._withStripped=!0;var n=coreApis.settings,o=coreApis.ajax,r=e(109),a=coreApis.utils.log,s=coreApis.toast,c=coreApis.ui;const{options:l}=(0,n.getComponentSettings)(\"quickFavorite\");var d=Vue.extend({components:{VDropdown:c.VDropdown},data:()=>({aid:unsafeWindow.aid,favoriteTitle:\"\",isFavorite:!1,tipText:\"\",tipShowing:!1,tipHandle:0,lists:[],selectedFavorite:\"<未选择>\",listShowing:!1}),watch:{selectedFavorite(A){if(0===this.lists.length)return;const{lists:t}=this,e=t.find((t=>t.title===A));e?(l.favoriteFolderID=e.id,this.syncFavoriteState()):console.error(\"list not found in selectedFavorite(value)\")},async listShowing(A){if(A&&(document.addEventListener(\"click\",(A=>{const t=this.$el,e=A.target;e===t||t.contains(e)||(this.listShowing=!1)})),0===this.lists.length))try{const A=await(0,o.getJsonWithCredentials)(`https://api.bilibili.com/medialist/gateway/base/created?pn=1&ps=100&up_mid=${(0,r.getUID)()}&is_space=0`);if(0!==A.code)throw new Error(`获取收藏夹列表失败: ${A.message}`);this.lists=lodash.get(A,\"data.list\",[])}catch(A){(0,a.logError)(A)}}},created(){this.syncFavoriteState()},methods:{async syncFavoriteState(){if(0!==l.favoriteFolderID)try{const A=await(0,o.getJsonWithCredentials)(`https://api.bilibili.com/x/v3/fav/folder/created/list-all?type=2&rid=${this.aid}&up_mid=${(0,r.getUID)()}`);if(0!==A.code)throw new Error(`获取收藏状态失败: ${A.message}`);const t=lodash.get(A,\"data.list\",[]).find((A=>A.id===l.favoriteFolderID));if(void 0===t)return void(l.favoriteFolderID=0);this.isFavorite=Boolean(t.fav_state),this.favoriteTitle=t.title,this.selectedFavorite=t.title}catch(A){(0,a.logError)(A)}},showTip(A){this.tipText=A,this.tipShowing=!0,this.tipHandle&&clearTimeout(this.tipHandle),this.tipHandle=setTimeout((()=>{this.tipShowing=!1}),2e3)},async toggle(){if(0===l.favoriteFolderID)return void(this.listShowing=!0);const A={rid:this.aid,type:2,add_media_ids:\"\",del_media_ids:\"\",csrf:(0,r.getCsrf)()};A[this.isFavorite?\"del_media_ids\":\"add_media_ids\"]=l.favoriteFolderID.toString();try{await(0,o.postTextWithCredentials)(\"https://api.bilibili.com/x/v3/fav/resource/deal\",Object.entries(A).map((([A,t])=>`${A}=${t}`)).join(\"&\")),this.isFavorite=!this.isFavorite,this.showTip(this.isFavorite?`已添加至收藏夹: ${this.favoriteTitle}`:`已移出收藏夹: ${this.favoriteTitle}`)}catch(A){s.Toast.error(`快速收藏失败: ${A.message}`,\"快速收藏\"),console.error(A)}}}}),u=e(379),f=e.n(u),p=e(296),v=e.n(p),g={insert:\"head\",singleton:!1};f()(v(),g),v().locals;var h=function(A,t,e,i,n,o,r,a){var s,c=\"function\"==typeof A?A.options:A;if(t&&(c.render=t,c.staticRenderFns=e,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId=\"data-v-\"+o),r?(s=function(A){(A=A||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(A=__VUE_SSR_CONTEXT__),n&&n.call(this,A),A&&A._registeredComponents&&A._registeredComponents.add(r)},c._ssrRegister=s):n&&(s=a?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),s)if(c.functional){c._injectStyles=s;var l=c.render;c.render=function(A,t){return s.call(t),l(A,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,s):[s]}return{exports:A,options:c}}(d,i,[],!1,null,null,null);h.options.__file=\"registry/lib/components/video/quick-favorite/QuickFavorite.vue\";var m=h.exports},156:function(A){\"use strict\";A.exports=coreApis.observer},109:function(A){\"use strict\";A.exports=coreApis.utils}},i={};function n(A){var t=i[A];if(void 0!==t)return t.exports;var o=i[A]={id:A,exports:{}};return e[A](o,o.exports,n),o.exports}n.n=function(A){var t=A&&A.__esModule?function(){return A.default}:function(){return A};return n.d(t,{a:t}),t},t=Object.getPrototypeOf?function(A){return Object.getPrototypeOf(A)}:function(A){return A.__proto__},n.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if(\"object\"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&\"function\"==typeof e.then)return e}var o=Object.create(null);n.r(o);var r={};A=A||[null,t({}),t([]),t(t)];for(var a=2&i&&e;\"object\"==typeof a&&!~A.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(A){r[A]=function(){return e[A]}}));return r.default=function(){return e},n.d(o,r),o},n.d=function(A,t){for(var e in t)n.o(t,e)&&!n.o(A,e)&&Object.defineProperty(A,e,{enumerable:!0,get:t[e]})},n.o=function(A,t){return Object.prototype.hasOwnProperty.call(A,t)},n.r=function(A){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(A,\"__esModule\",{value:!0})};var o={};return function(){\"use strict\";n.d(o,{component:function(){return t}});var A=coreApis.utils.urls;const t={name:\"quickFavorite\",displayName:\"启用快速收藏\",description:{\"zh-CN\":\"启用快速收藏, 在视频页面可以一键收藏到设定的某个收藏夹. 首次启动时或者右键点击快速收藏图标可以配置快速收藏夹.\"},entry:async()=>{const{playerReady:A,mountVueComponent:t,getUID:e}=await Promise.resolve().then(n.t.bind(n,109,23));if(!e())return;await A();const i=dq(\".video-toolbar .ops .collect\");if(!i)return;const o=await Promise.resolve().then(n.bind(n,252));let r;const{videoChange:a}=await Promise.resolve().then(n.t.bind(n,156,23));a((()=>{r||(r=t(o),i.insertAdjacentElement(\"afterend\",r.$el)),r.aid=unsafeWindow.aid,r.syncFavoriteState()}))},unload:()=>{dqa(\".ops .quick-favorite\").forEach((A=>A.style.display=\"none\"))},reload:()=>{dqa(\".ops .quick-favorite\").forEach((A=>A.style.display=\"inline-block\"))},urlInclude:A.videoUrls,urlExclude:A.favoriteListUrls,tags:[componentsTags.video],options:{favoriteFolderID:{defaultValue:0,displayName:\"快速收藏夹ID\",hidden:!0}},plugin:{displayName:\"快速收藏 - 快捷键支持\",setup:({addData:A})=>{A(\"keymap.actions\",(A=>{A.quickFavorite={displayName:\"快速收藏\",run:A=>{const{clickElement:t}=A;return t(\".quick-favorite\",A)}}})),A(\"keymap.presets\",(A=>{A.quickFavorite=\"shift s\"}))}},commitHash:\"28933d6c6fa35f519fa718fdf67c109e07a3c7da\",coreVersion:\"2.1.7\"}}(),o=o.component}()}));",
      "metadata": {
        "name": "quickFavorite",
        "displayName": "启用快速收藏",
        "description": {
          "zh-CN": "启用快速收藏, 在视频页面可以一键收藏到设定的某个收藏夹. 首次启动时或者右键点击快速收藏图标可以配置快速收藏夹."
        },
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "options": {
          "favoriteFolderID": {
            "defaultValue": 0,
            "displayName": "快速收藏夹ID",
            "hidden": true
          }
        },
        "commitHash": "28933d6c6fa35f519fa718fdf67c109e07a3c7da",
        "coreVersion": "2.1.7"
      },
      "settings": {
        "enabled": true,
        "options": {
          "favoriteFolderID": 55747147
        }
      }
    }
  },
  "components": {
    "settingsPanel": {
      "enabled": true,
      "options": {
        "themeColor": "#00A0D8",
        "scriptLoadingMode": "延后",
        "styleLoadingMode": "同时",
        "textColor": "自动",
        "cdnRoot": "jsDelivr",
        "dockSide": "左侧",
        "filenameFormat": "[title][ - ep]",
        "batchFilenameFormat": "[n - ][ep]",
        "downloadPackageEmitMode": "打包下载",
        "devMode": false,
        "recentComponents": {
          "removePromotions": 1649387699256,
          "removeLiveWatermark": 1649387699280,
          "removePlayerPopup": 1649387699313,
          "disableSpecialDanmaku": 1649387699344,
          "simplifyComments": 1649387699364,
          "simplifyLiveroom": 1649387699397,
          "simplifyHome": 1649387699466,
          "collapseLiveSideBar": 1649387699496,
          "hideRelatedVideos": 1649387699523,
          "hideRecommendedLive": 1649387699548,
          "hideVideoTopMask": 1649387699725,
          "downloadVideo": 1649387699758,
          "downloadSubtitle": 1649387699777,
          "downloadDanmaku": 1649387699797,
          "downloadAudio": 1649387699821,
          "downloadLiveRecords": 1649387699844,
          "elegantScrollbar": 1649471715138,
          "columnUnlock": 1649387699879,
          "urlParamsClean": 1649387699896,
          "customNavbar": 1649387699923,
          "liveDanmakuSendbar": 1649387699941,
          "keymap": 1649467219321,
          "viewCover": 1649387699979,
          "bvidConvert": 1649387699996,
          "liveGiftBox": 1649387700016,
          "fullFeedsContent": 1649387700033,
          "unfoldFeeds": 1649387700050,
          "foldComments": 1649387700129,
          "disableFeedsDetails": 1649387700144,
          "fullVideoDescription": 1649387700067,
          "quickFavorite": 1649387820847,
          "settingsPanel": 1649471722160,
          "autoUpdate": 1649471721533
        }
      }
    },
    "launchBar": {
      "enabled": true,
      "options": {}
    },
    "i18n": {
      "enabled": true,
      "options": {
        "language": "简体中文",
        "translator": "GoogleCN"
      }
    },
    "autoUpdate": {
      "enabled": true,
      "options": {
        "lastUpdateCheck": 1649387708731,
        "lastInstalledVersion": "2.1.7",
        "localPortOverride": "",
        "minimumDuration": 86400000,
        "urls": {
          "components": {
            "removePromotions": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/remove-promotions.js",
              "lastUpdateCheck": 1649387699257,
              "installTime": 1648895484428,
              "alwaysUpdate": false
            },
            "removeLiveWatermark": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/remove-watermark.js",
              "lastUpdateCheck": 1649387699280,
              "installTime": 1648895484455,
              "alwaysUpdate": false
            },
            "removePlayerPopup": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/player/remove-popup.js",
              "lastUpdateCheck": 1649387699313,
              "installTime": 1648895484489,
              "alwaysUpdate": false
            },
            "disableSpecialDanmaku": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/special-danmaku.js",
              "lastUpdateCheck": 1649387699345,
              "installTime": 1648895484509,
              "alwaysUpdate": false
            },
            "simplifyComments": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/simplify/comments.js",
              "lastUpdateCheck": 1649387699364,
              "installTime": 1648895484534,
              "alwaysUpdate": false
            },
            "simplifyLiveroom": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/simplify/live.js",
              "lastUpdateCheck": 1649387699397,
              "installTime": 1648895484571,
              "alwaysUpdate": false
            },
            "simplifyHome": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/simplify/home.js",
              "lastUpdateCheck": 1649387699466,
              "installTime": 1648895484615,
              "alwaysUpdate": false
            },
            "collapseLiveSideBar": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/side-bar.js",
              "lastUpdateCheck": 1649387699496,
              "installTime": 1648895484641,
              "alwaysUpdate": false
            },
            "hideRelatedVideos": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/hide/video/related-videos.js",
              "lastUpdateCheck": 1649387699523,
              "installTime": 1648895484658,
              "alwaysUpdate": false
            },
            "hideRecommendedLive": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/hide/video/recommended-live.js",
              "lastUpdateCheck": 1649387699548,
              "installTime": 1648895484674,
              "alwaysUpdate": false
            },
            "hideVideoTopMask": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/hide/video/top-mask.js",
              "lastUpdateCheck": 1649387699725,
              "installTime": 1648895484689,
              "alwaysUpdate": false
            },
            "downloadVideo": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/download.js",
              "lastUpdateCheck": 1649387699759,
              "installTime": 1648895485424,
              "alwaysUpdate": false
            },
            "downloadSubtitle": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/subtitle/download.js",
              "lastUpdateCheck": 1649387699778,
              "installTime": 1648895485449,
              "alwaysUpdate": false
            },
            "downloadDanmaku": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/danmaku/download.js",
              "lastUpdateCheck": 1649387699797,
              "installTime": 1648895485468,
              "alwaysUpdate": false
            },
            "downloadAudio": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/download-audio.js",
              "lastUpdateCheck": 1649387699822,
              "installTime": 1648895485487,
              "alwaysUpdate": false
            },
            "downloadLiveRecords": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/download-records.js",
              "lastUpdateCheck": 1649387699845,
              "installTime": 1648895485506,
              "alwaysUpdate": false
            },
            "elegantScrollbar": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/scrollbar.js",
              "lastUpdateCheck": 1649387699863,
              "installTime": 1648895486140,
              "alwaysUpdate": false
            },
            "columnUnlock": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/column-unlock.js",
              "lastUpdateCheck": 1649387699879,
              "installTime": 1648895486196,
              "alwaysUpdate": false
            },
            "urlParamsClean": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/url-params-clean.js",
              "lastUpdateCheck": 1649387699896,
              "installTime": 1648895486209,
              "alwaysUpdate": false
            },
            "customNavbar": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/custom-navbar.js",
              "lastUpdateCheck": 1649387699923,
              "installTime": 1648895486253,
              "alwaysUpdate": false
            },
            "liveDanmakuSendbar": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/danmaku-sendbar.js",
              "lastUpdateCheck": 1649387699941,
              "installTime": 1648895486277,
              "alwaysUpdate": false
            },
            "keymap": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/keymap.js",
              "lastUpdateCheck": 1649387699962,
              "installTime": 1648895486301,
              "alwaysUpdate": false
            },
            "viewCover": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/view-cover.js",
              "lastUpdateCheck": 1649387699979,
              "installTime": 1648895486332,
              "alwaysUpdate": false
            },
            "bvidConvert": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/bvid-convert.js",
              "lastUpdateCheck": 1649387699998,
              "installTime": 1648895486355,
              "alwaysUpdate": false
            },
            "liveGiftBox": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/gift-box.js",
              "lastUpdateCheck": 1649387700016,
              "installTime": 1648895486390,
              "alwaysUpdate": false
            },
            "fullFeedsContent": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/full-content.js",
              "lastUpdateCheck": 1649387700033,
              "installTime": 1648895486418,
              "alwaysUpdate": false
            },
            "unfoldFeeds": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/unfold.js",
              "lastUpdateCheck": 1649387700050,
              "installTime": 1648895486464,
              "alwaysUpdate": false
            },
            "foldComments": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/fold-comments.js",
              "lastUpdateCheck": 1649387700129,
              "installTime": 1648895486511,
              "alwaysUpdate": false
            },
            "disableFeedsDetails": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/disable-details.js",
              "lastUpdateCheck": 1649387700145,
              "installTime": 1648895486544,
              "alwaysUpdate": false
            },
            "fullVideoDescription": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/full-description.js",
              "lastUpdateCheck": 1649387700067,
              "installTime": 1648895486590,
              "alwaysUpdate": false
            },
            "quickFavorite": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/quick-favorite.js",
              "lastUpdateCheck": 1649387745931,
              "installTime": 1649387745931,
              "alwaysUpdate": false
            }
          },
          "plugins": {
            "settingsPanel.tagFilters.recentComponents": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/plugins/settings-panel/recent-components.js",
              "lastUpdateCheck": 1649387708730,
              "installTime": 1648895486601,
              "alwaysUpdate": false
            }
          },
          "styles": {}
        },
        "maxUpdateCount": 4
      }
    },
    "notifyNewVersion": {
      "enabled": true,
      "options": {
        "lastUpdateCheck": 0,
        "minimumDuration": 86400000
      }
    }
  },
  "plugins": {
    "ajaxHook": true,
    "launchBar.actions.IDSearch": true
  }
}